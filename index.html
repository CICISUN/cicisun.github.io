<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>




  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.2"/>




  <meta name="keywords" content="LeetCode,Programming" />



  <link rel="alternate" href="//atom.xml" title="Cici's Blog" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.2" />




  <title> Cici's Blog </title>
</head>

<body>
  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Cici's Blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          Home
        </a>
      </li>
    
      
      <li class="menu-item menu-item-categories">
        <a href="/categories">
          <i class="menu-item-icon icon-categories"></i> <br />
          Categories
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          Archives
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          Tags
        </a>
      </li>
    
      
      <li class="menu-item menu-item-about">
        <a href="/about">
          <i class="menu-item-icon icon-about"></i> <br />
          About
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/09/03/9.3/">
                Combination Sum,Combination Sum II, Combination Sum III
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-09-04
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/09/03/9.3/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/09/03/9.3/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Combination_Sum">Combination Sum</h2>
<blockquote>
<p>Given a set of candidate numbers (C) and a target number (T), find all unique combinations in C where the candidate numbers sums to T.<br>The same repeated number may be chosen from C unlimited number of times.<br>Note:<br>All numbers (including target) will be positive integers.<br>Elements in a combination (a1, a2, … , ak) must be in non-descending order. (ie, a1 ≤ a2 ≤ … ≤ ak).<br>The solution set must not contain duplicate combinations.<br>For example, given candidate set 2,3,6,7 and target 7,<br>A solution set is:<br>[7]<br>[2, 2, 3] </p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/09/03/9.3/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Array/"> #Array </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/Math/"> #Math </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/09/01/8.25/">
                Next Permutation, Permutation, Permutations II, Permutation Sequence
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-09-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/09/01/8.25/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/09/01/8.25/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Next_Permutation">Next Permutation</h2>
<blockquote>
<p>Implement next permutation, which rearranges numbers into the lexicographically next greater permutation of numbers.<br>If such arrangement is not possible, it must rearrange it as the lowest possible order (ie, sorted in ascending order).<br>The replacement must be in-place, do not allocate extra memory.<br>Here are some examples. Inputs are in the left-hand column and its corresponding outputs are in the right-hand column.<br>1,2,3 → 1,3,2<br>3,2,1 → 1,2,3<br>1,1,5 → 1,5,1</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/09/01/8.25/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Array/"> #Array </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/Math/"> #Math </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/24/8.24/">
                Divide Two Integers
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-08-24
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/08/24/8.24/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/24/8.24/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Divide_Two_Integers">Divide Two Integers</h2>
<blockquote>
<p>Divide two integers without using multiplication, division and mod operator.<br>If it is overflow, return MAX_INT.</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/08/24/8.24/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Math/"> #Math </a>
          
            <a href="/tags/BitManipulation/"> #BitManipulation </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/24/8.15/">
                Swap Nodes in Pairs
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-08-24
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/08/24/8.15/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/24/8.15/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Swap_Nodes_in_Pairs">Swap Nodes in Pairs</h2>
<blockquote>
<p>Given a linked list, swap every two adjacent nodes and return its head.<br>For example,<br>Given 1-&gt;2-&gt;3-&gt;4, you should return the list as 2-&gt;1-&gt;4-&gt;3.<br>Your algorithm should use only constant space. You may not modify the values in the list, only nodes itself can be changed.</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/08/24/8.15/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/LinkedList/"> #LinkedList </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/24/1.7/">
                2Sum, 3Sum, 3Sum Closest, 4Sum
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-08-24
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/08/24/1.7/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/24/1.7/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="2Sum">2Sum</h2>
<blockquote>
<p>Given an array of integers, find two numbers such that they add up to a specific target number.<br>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.<br>You may assume that each input would have exactly one solution.<br>Input: numbers={2, 7, 11, 15}, target=9<br>Output: index1=1, index2=2</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/08/24/1.7/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/HashMap/"> #HashMap </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/09/7.23/">
                Find Median of two Sorted Arrays
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-08-09
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/08/09/7.23/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/09/7.23/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Median_of_Two_Sorted_Arrays">Median of Two Sorted Arrays</h2>
<blockquote>
<p>There are two sorted arrays nums1 and nums2 of size m and n respectively. Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/08/09/7.23/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/07/angular/">
                Learning AngularJS day by day
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-08-08
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/学习/">学习</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/08/07/angular/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/08/07/angular/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>I’ll be using AngularJS for a project at work, mainly using <a href="http://www.amazon.com/Mastering-Web-Application-Development-AngularJS/dp/1782161821" target="_blank" rel="external">Mastering Web Application Development with AngularJS</a> and <a href="http://henriquat.re/" target="_blank" rel="external">This ebook</a>.</p>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/08/07/angular/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/AngularJS/"> #AngularJS </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/06/07/5.30/">
                Jump Game, Jump Game II
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-06-07
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/06/07/5.30/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/06/07/5.30/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Jump_Game">Jump Game</h2>
<blockquote>
<p>Given an array of non-negative integers, you are initially positioned at the first index of the array.<br>Each element in the array represents your maximum jump length at that position.<br>Determine if you are able to reach the last index.<br>For example:<br>A = [2,3,1,1,4], return true.<br>A = [3,2,1,0,4], return false.</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/06/07/5.30/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/DP/"> #DP </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/03/4.18/">
                The Great Tree-List Recursion Problem, LRU Cache, Search Insert Position, Longest Common Prefix, Linked List Cycle, Linked List Cycle II
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-05-04
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/03/4.18/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/05/03/4.18/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="First_Problem_ఠ_ఠ">First Problem ఠ_ఠ</h2>
<blockquote>
<p>Convert a given Binary Tree to Doubly Linked List</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/03/4.18/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Tree/"> #Tree </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/LinkedList/"> #LinkedList </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/01/pianosheets/">
                List of piano sheet to learn
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-05-02
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Music/">Music</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/01/pianosheets/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/05/01/pianosheets/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <a id="more"></a>
<h3 id="Easy">Easy</h3>
<p>Maksim Mrvica - Claudine   </p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/Nkgezt05MOE" frameborder="0" allowfullscreen></iframe>

<h3 id="Inter">Inter</h3>
<p>Tchaikovsky The Seasons: June “Barcarole”</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/oLxz9rai_bM" frameborder="0" allowfullscreen></iframe>

<h3 id="Hard">Hard</h3>
<p>Chopin - Ballade No. 1 in G minor, Op. 23</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/Ce8p0VcTbuA" frameborder="0" allowfullscreen></iframe>

<p>Liszt - Liebestraum No. 3 in A-flat Major</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XsxDH4HcOWA" frameborder="0" allowfullscreen></iframe><br><iframe width="420" height="315" src="https://www.youtube.com/embed/nkXOrkeZyqQ" frameborder="0" allowfullscreen></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Classical/"> #Classical </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/01/mapreduceinonepage/">
                MapReduce的模式、算法和用例
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-05-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/学习/">学习</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/01/mapreduceinonepage/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/05/01/mapreduceinonepage/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="前言">前言</h2>
<p>在这篇文章里总结了几种网上或者论文中常见的MapReduce模式和算法，并系统化的解释了这些技术的不同之处。所有描述性的文字和代码都使用了标准hadoop的MapReduce模型，包括Mappers, Reduces, Combiners, Partitioners,和 sorting。如下图所示。<br><img src="http://www.kuqin.com/upimg/allimg/130629/192PQ950-.png" alt=""></p>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/01/mapreduceinonepage/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Hadoop/"> #Hadoop </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/01/scrapy/">
                Web scraping with Scrapy
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-05-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/学习/">学习</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/01/scrapy/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/05/01/scrapy/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <blockquote>
<p><a href="http://doc.scrapy.org/en/latest/intro/overview.html" target="_blank" rel="external">Scrapy</a> is an application framework for crawling web sites and extracting structured data which can be used for a wide range of useful applications, like data mining, information processing or historical archival.<br>So you need to extract some information from a website, but the website doesn’t provide any API or mechanism to access that info programmatically. Scrapy can help you extract that information.</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/01/scrapy/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Crawler/"> #Crawler </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/01/Paganini/">
                Niccolo Paganini Selected Works
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-05-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Music/">Music</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/01/Paganini/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/05/01/Paganini/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>Leonid Kogan - Cantabile, Paganini</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/xsFJS4I_05E" frameborder="0" allowfullscreen></iframe>

<p>Kogan - La Campanella</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/lWaOnqmtr9U" frameborder="0" allowfullscreen></iframe>


<p>Jascha Heifetz - Caprice No. 24</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/vPcnGrie__M" frameborder="0" allowfullscreen></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Classical/"> #Classical </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/18/4.11/">
                Path Sum, Path Sum II, Binary Tree Maximum Path Sum, Minimum Path Sum
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-04-18
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/04/18/4.11/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/04/18/4.11/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Path_Sum">Path Sum</h2>
<blockquote>
<p>Given a binary tree and a sum, determine if the tree has a root-to-leaf path such that adding up all the values along the path equals the given sum.<br>For example:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Given the below binary tree and sum = 22,</div><div class="line">              5</div><div class="line">             / <span class="command">\</span></div><div class="line">            4   8</div><div class="line">           /   / <span class="command">\</span></div><div class="line">          11  13  4</div><div class="line">         /  <span class="command">\ </span>     <span class="command">\</span></div><div class="line">        7    2      1</div></pre></td></tr></table></figure>

<p>return true, as there exist a root-to-leaf path 5-&gt;4-&gt;11-&gt;2 which sum is 22.</p>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/04/18/4.11/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Tree/"> #Tree </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/DP/"> #DP </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/18/4.12/">
                Letter Combinations of a Phone Number, Single Number, Single Number II, Decode Ways, Triangle
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-04-18
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/04/18/4.12/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/04/18/4.12/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Letter_Combinations_of_a_Phone_Number">Letter Combinations of a Phone Number</h2>
<blockquote>
<p>Given a digit string, return all possible letter combinations that the number could represent.<br>A mapping of digit to letters (just like on the telephone buttons) is given below.<br><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Telephone-keypad2.svg/200px-Telephone-keypad2.svg.png" alt=""><br>Input:Digit string “23”<br>Output: [“ad”, “ae”, “af”, “bd”, “be”, “bf”, “cd”, “ce”, “cf”].</p>
</blockquote>

          <div class="post-more-link text-center">
            <a class="btn" href="/2015/04/18/4.12/#more">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/DFS/"> #DFS </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/Bit-Manipulation/"> #Bit Manipulation </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/16/4.10/">
                Validate Binary Search Tree， Unique Binary Search Trees, Unique Binary Search Trees II, Binary Tree Preorder Traversal,Binary Tree Inorder Traversal ,Binary Tree Postorder Traversal, Binary Tree Zigzag Level Order Traversal, Binary Search Tree Iterator
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-04-16
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/04/16/4.10/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/04/16/4.10/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Validate_Binary_Search_Tree">Validate Binary Search Tree</h2>
<blockquote>
<p>Given a binary tree, determine if it is a valid binary search tree (BST).<br>Assume a BST is defined as follows:<br>The left subtree of a node contains only nodes with keys less than the node’s key.<br>The right subtree of a node contains only nodes with keys greater than the node’s key.<br>Both the left and right subtrees must also be binary search trees.</p>
</blockquote>
<h3 id="Brute_force_Solution">Brute force Solution</h3>
<p>Inorder traversal, then compare each value…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span>(TreeNode root) {</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    LinkedList&lt;Integer&gt; p = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</div><div class="line">    inorder(root, p);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">0</span>;j&lt; p.size() - <span class="number">1</span>;j++) {</div><div class="line">        <span class="keyword">if</span>(p.get(j)&gt;=p.get(j+<span class="number">1</span>))</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorder</span>(TreeNode r, LinkedList&lt;Integer&gt; p){</div><div class="line">    <span class="keyword">if</span>(r==<span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    inorder(r.left,p);</div><div class="line">    p.add(r.val);</div><div class="line">    inorder(r.right,p);</div><div class="line">}</div></pre></td></tr></table></figure>

<p>Or use static variable to store the previous val:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> pre = Integer.MIN_VALUE; </div><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span>(TreeNode root) {</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    <span class="keyword">if</span>(!isValidBST(root.left)) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    <span class="keyword">if</span>(root.val&lt;=pre) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    System.out.println(pre);</div><div class="line">    pre=root.val;</div><div class="line">    <span class="keyword">if</span>(!isValidBST(root.right)) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Recursive/MinMax_Solution">Recursive/MinMax Solution</h3>
<p>At each node we must satisty</p>
<ul>
<li>left subtree max value must not exceed cur.val</li>
<li>right subtree min value must not be lower than cur.val</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span>(TreeNode root) {</div><div class="line">    <span class="keyword">return</span> dfs(root, (<span class="keyword">long</span>)Integer.MIN_VALUE-<span class="number">1</span>,(<span class="keyword">long</span>)Integer.MAX_VALUE+<span class="number">1</span>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span>(TreeNode r,<span class="keyword">long</span> minv, <span class="keyword">long</span> maxv){</div><div class="line">    <span class="keyword">if</span>(r==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    <span class="keyword">if</span>(r.val&gt;=maxv ||r.val&lt;=minv) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    <span class="keyword">return</span>  dfs(r.left, minv, r.val) && dfs(r.right, r.val, maxv);</div><div class="line">}</div></pre></td></tr></table></figure>

<h2 id="Unique_Binary_Search_Trees">Unique Binary Search Trees</h2>
<blockquote>
<p>Given n, how many structurally unique BST’s (binary search trees) that store values 1…n?<br>For example,<br>Given n = 3, there are a total of 5 unique BST’s.</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1         3     3      2      1</div><div class="line"> <span class="command">\ </span>      /     /      / <span class="command">\ </span>     <span class="command">\</span></div><div class="line">  3     2     1      1   3      2</div><div class="line"> /     /       <span class="command">\ </span>                <span class="command">\</span></div><div class="line">2     1         2                 3</div></pre></td></tr></table></figure>

<h3 id="DP_Solution">DP Solution</h3>
<ul>
<li>Define c[i] as the number of unique binary tree possibly generated with [0….i]</li>
<li>A tree with i as its root, left subtree is consist of [1…i-1], right subtree is consist of [i+1…n]</li>
<li>c[0] = 0 ; c[1]=1 ; c[2] = c[0]<em>c[1] //1 as root + c[1]</em>c[0] //0 as root; c[3] = c[0] <em> c[2] //1 as root + c[1] </em> c[1] //2 as root + c[2] * c[0] //3 as root</li>
<li>Ct+1 += Ci*Ct-i(0&lt;= i &lt;= t)</li>
<li>Ct += Ci*t-1-i(0&lt;=i&lt;=t-1, 1&lt;=t&lt;=n)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees</span>(<span class="keyword">int</span> n) {</div><div class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>||n == <span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span>[] C = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</div><div class="line">        C[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">1</span>;t&lt;=n;t++){  </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=t-<span class="number">1</span>;i++){  </div><div class="line">            C[t] += C[i]*C[t-<span class="number">1</span>-i];  </div><div class="line">        }  </div><div class="line">    }</div><div class="line">        <span class="keyword">return</span> C[n];</div><div class="line">    }</div></pre></td></tr></table></figure>

<h2 id="Unique_Binary_Search_Trees_II">Unique Binary Search Trees II</h2>
<blockquote>
<p>Given n, generate all structurally unique BST’s (binary search trees) that store values 1…n.<br>For example,<br>Given n = 3, your program should return all 5 unique BST’s shown below.</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1         3     3      2      1</div><div class="line"> <span class="command">\ </span>      /     /      / <span class="command">\ </span>     <span class="command">\</span></div><div class="line">  3     2     1      1   3      2</div><div class="line"> /     /       <span class="command">\ </span>                <span class="command">\</span></div><div class="line">2     1         2                 3</div></pre></td></tr></table></figure>

<h3 id="DFS_Solution"><a href="http://www.cnblogs.com/springfor/p/3884029.html" target="_blank" rel="external">DFS Solution</a></h3>
<p>Similar to I, we pick (1…n) as root, recursivly get all left and right subtrees.<br>We pick one from left subtree and one from right subtree, attach them to current root and return all the possibilities.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;TreeNode&gt; <span class="title">generateTrees</span>(<span class="keyword">int</span> n) {</div><div class="line">    <span class="keyword">return</span> buildTrees(<span class="number">1</span>,n);</div><div class="line">    </div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">public</span> ArrayList&lt;TreeNode&gt; <span class="title">buildTrees</span>(<span class="keyword">int</span> min, <span class="keyword">int</span> max){</div><div class="line">    ArrayList&lt;TreeNode&gt; res = <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</div><div class="line">    <span class="keyword">if</span>(min&gt;max){res.add(<span class="keyword">null</span>); <span class="keyword">return</span> res;}</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=min;i&lt;=max;i++){</div><div class="line">        ArrayList&lt;TreeNode&gt; l = buildTrees(min,i-<span class="number">1</span>);</div><div class="line">        ArrayList&lt;TreeNode&gt; r = buildTrees(i+<span class="number">1</span>,max);</div><div class="line">        <span class="keyword">for</span>(TreeNode j: l){</div><div class="line">            <span class="keyword">for</span>(TreeNode k:r){</div><div class="line">                TreeNode root =  <span class="keyword">new</span> TreeNode(i);</div><div class="line">                root.left = j;</div><div class="line">                root.right = k;</div><div class="line">                res.add(root);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Binary_Tree_Preorder_Traversal">Binary Tree Preorder Traversal</h2>
<blockquote>
<p>Given a binary tree, return the preorder traversal of its nodes’ values.<br>For example:<br>Given binary tree {1,#,2,3},</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">   <span class="number">1</span></div><div class="line">    \</div><div class="line">     <span class="number">2</span></div><div class="line">    /</div><div class="line">   <span class="number">3</span></div><div class="line"><span class="keyword">return</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].</div></pre></td></tr></table></figure>

<h3 id="Recursive_Solution">Recursive Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal</span>(TreeNode root) {</div><div class="line">    ArrayList&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">    preorder(root, res);</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">preorder</span>(TreeNode n, ArrayList&lt;Integer&gt; res){</div><div class="line">    <span class="keyword">if</span>(n==<span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    res.add(n.val);</div><div class="line">    preorder(n.left,res);</div><div class="line">    preorder(n.right,res);</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Iterative_Solution">Iterative Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal</span>(TreeNode root) {</div><div class="line">    ArrayList&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">    Stack&lt;TreeNode&gt; stk =<span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res; <span class="comment">//别忘了这句...</span></div><div class="line">    stk.push(root);</div><div class="line">    <span class="keyword">while</span>(!stk.isEmpty()){</div><div class="line">        TreeNode tmp = stk.pop();</div><div class="line">        res.add(tmp.val);</div><div class="line">        <span class="keyword">if</span>(tmp.right!=<span class="keyword">null</span>) stk.push(tmp.right);</div><div class="line">        <span class="keyword">if</span>(tmp.left!=<span class="keyword">null</span>) stk.push(tmp.left);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Binary_Tree_Inorder_Traversal">Binary Tree Inorder Traversal</h2>
<blockquote>
<p>Given a binary tree, return the inorder traversal of its nodes’ values.<br>For example:<br>Given binary tree {1,#,2,3},</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">   <span class="number">1</span></div><div class="line">    \</div><div class="line">     <span class="number">2</span></div><div class="line">    /</div><div class="line">   <span class="number">3</span></div><div class="line"><span class="keyword">return</span> [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>].</div></pre></td></tr></table></figure>

<h3 id="Iterative_Solution-1">Iterative Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">inorderTraversal</span>(TreeNode root) {</div><div class="line">        ArrayList&lt;Integer&gt; res= <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        Stack&lt;TreeNode&gt; stk=<span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</div><div class="line">        stk.push(root);</div><div class="line">        <span class="keyword">while</span>(!stk.isEmpty()){</div><div class="line">            TreeNode tmp = stk.pop();</div><div class="line">            <span class="keyword">if</span>(tmp == <span class="keyword">null</span>){</div><div class="line">                res.add(stk.pop().val);</div><div class="line">            }</div><div class="line">            <span class="keyword">else</span>{</div><div class="line">                <span class="keyword">if</span>(tmp.right!=<span class="keyword">null</span>){stk.push(tmp.right);}</div><div class="line">                stk.push(tmp);</div><div class="line">                stk.push(<span class="keyword">null</span>);</div><div class="line">                <span class="keyword">if</span>(tmp.left!=<span class="keyword">null</span>){stk.push(tmp.left);}</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> res;</div></pre></td></tr></table></figure>

<hr>
<h2 id="Binary_Tree_Postorder_Traversal">Binary Tree Postorder Traversal</h2>
<blockquote>
<p>Given a binary tree, return the postorder traversal of its nodes’ values.<br>For example:<br>Given binary tree {1,#,2,3},</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">   <span class="number">1</span></div><div class="line">    \</div><div class="line">     <span class="number">2</span></div><div class="line">    /</div><div class="line">   <span class="number">3</span></div><div class="line"><span class="keyword">return</span> [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>].</div></pre></td></tr></table></figure>

<h3 id="Recursive_Solution-1">Recursive Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postorderTraversal</span>(TreeNode root) {</div><div class="line">    ArrayList&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">    postorder(root, res);</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">postorder</span>(TreeNode n, ArrayList&lt;Integer&gt; res){</div><div class="line">    <span class="keyword">if</span>(n==<span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    postorder(n.left,res);</div><div class="line">    postorder(n.right,res);</div><div class="line">    res.add(n.val);</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Iterative_Solution-1">Iterative Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postorderTraversal</span>(TreeNode root) {</div><div class="line">    ArrayList&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">    Stack&lt;TreeNode&gt; stk =<span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res; </div><div class="line">    stk.push(root);</div><div class="line">    <span class="keyword">while</span>(!stk.isEmpty()){</div><div class="line">        TreeNode tmp = stk.pop();</div><div class="line">        <span class="keyword">if</span>(tmp==<span class="keyword">null</span>) res.add(stk.pop().val);</div><div class="line">        <span class="keyword">else</span>{</div><div class="line">            stk.push(tmp);</div><div class="line">            stk.push(<span class="keyword">null</span>);</div><div class="line">            <span class="keyword">if</span>(tmp.right!=<span class="keyword">null</span>) stk.push(tmp.right);</div><div class="line">            <span class="keyword">if</span>(tmp.left!=<span class="keyword">null</span>) stk.push(tmp.left);</div><div class="line">        }</div><div class="line">    }        </div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Binary_Tree_Zigzag_Level_Order_Traversal">Binary Tree Zigzag Level Order Traversal</h2>
<blockquote>
<p>Given a binary tree, return the zigzag level order traversal of its nodes’ values. (ie, from left to right, then right to left for the next level and alternate between).<br>For example:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Given binary tree {<span class="number">3</span>,<span class="number">9</span>,<span class="number">20</span>,<span class="comment">#,#,15,7},</span></div><div class="line">    <span class="number">3</span></div><div class="line">   / \</div><div class="line">  <span class="number">9</span>  <span class="number">20</span></div><div class="line">    /  \</div><div class="line">   <span class="number">15</span>   <span class="number">7</span></div><div class="line"><span class="command">return</span> <span class="keyword">its</span> zigzag level order traversal <span class="keyword">as</span>:</div><div class="line">[</div><div class="line">  [<span class="number">3</span>],</div><div class="line">  [<span class="number">20</span>,<span class="number">9</span>],</div><div class="line">  [<span class="number">15</span>,<span class="number">7</span>]</div><div class="line">]</div></pre></td></tr></table></figure>

<h3 id="Recursive_Solution-1">Recursive Solution</h3>
<ul>
<li>Simple DFS, check height%2 each level</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;List&lt;Integer&gt;&gt; <span class="title">zigzagLevelOrder</span>(TreeNode root) {</div><div class="line"> ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList();</div><div class="line"> <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</div><div class="line"> dfs(root, res, <span class="number">0</span>);</div><div class="line"> <span class="keyword">return</span> res;</div><div class="line"> }</div><div class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span>(TreeNode r, ArrayList&lt;List&lt;Integer&gt;&gt; res, <span class="keyword">int</span> h){</div><div class="line">    <span class="keyword">if</span>(r==<span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span>(h&gt;res.size()-<span class="number">1</span>){</div><div class="line">        res.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">    }</div><div class="line">    <span class="keyword">if</span>(h%<span class="number">2</span>==<span class="number">1</span>){</div><div class="line">        res.get(h).add(<span class="number">0</span>,r.val);</div><div class="line">    }  </div><div class="line">    <span class="keyword">else</span>{</div><div class="line">        res.get(h).add(r.val);</div><div class="line">    }</div><div class="line">    dfs(r.left, res, h+<span class="number">1</span>);</div><div class="line">    dfs(r.right,res,h+<span class="number">1</span>);</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Iterative_Solution-1">Iterative Solution</h3>
<ul>
<li>a queue to store nodes in BFS order</li>
<li>a boolean value to decide insert order in each level list</li>
<li>each new level, set poopsite direction, clear list and add to result</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;List&lt;Integer&gt;&gt; <span class="title">zigzagLevelOrder</span>(TreeNode root) {</div><div class="line">  ArrayList&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList();</div><div class="line">  <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</div><div class="line">  Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">  List&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">  q.offer(root);</div><div class="line">  <span class="keyword">int</span> size = q.size();</div><div class="line">  <span class="keyword">boolean</span> l2r = <span class="keyword">true</span>;</div><div class="line">  <span class="keyword">while</span>(!q.isEmpty()){</div><div class="line">      TreeNode cur = q.poll();</div><div class="line">      size--;</div><div class="line">      <span class="keyword">if</span>(l2r){</div><div class="line">         tmp.add(cur.val);</div><div class="line">         }</div><div class="line">      <span class="keyword">else</span>{</div><div class="line">         tmp.add(<span class="number">0</span>,cur.val);</div><div class="line">      }</div><div class="line">      <span class="keyword">if</span>(cur.left!=<span class="keyword">null</span>) q.offer(cur.left);</div><div class="line">      <span class="keyword">if</span>(cur.right!=<span class="keyword">null</span>) q.offer(cur.right);</div><div class="line">      <span class="keyword">if</span>(size==<span class="number">0</span>){</div><div class="line">          res.add(<span class="keyword">new</span> ArrayList(tmp));</div><div class="line">          l2r=!l2r;</div><div class="line">          tmp.clear();</div><div class="line">          size = q.size();</div><div class="line">      }</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">  }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Binary_Search_Tree_Iterator">Binary Search Tree Iterator</h2>
<blockquote>
<p>Implement an iterator over a binary search tree (BST). Your iterator will be initialized with the root node of a BST.<br>Calling next() will return the next smallest number in the BST.<br>Note: next() and hasNext() should run in average O(1) time and uses O(h) memory, where h is the height of the tree.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<ul>
<li>Use one Array to store the inorder traversal of nodes </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">ArrayDeque&lt;TreeNode&gt; arr;</div><div class="line"><span class="keyword">public</span> <span class="title">BSTIterator</span>(TreeNode root) {</div><div class="line">    arr = <span class="keyword">new</span> ArrayDeque&lt;TreeNode&gt;();</div><div class="line">    inorder(root, arr);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorder</span>(TreeNode root, ArrayDeque&lt;TreeNode&gt; arr){</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    inorder(root.left, arr);</div><div class="line">    arr.add(root);</div><div class="line">    inorder(root.right,arr);</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="javadoc">/**<span class="javadoctag"> @return</span> whether we have a next smallest number */</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span>() {</div><div class="line">    <span class="keyword">return</span> !arr.isEmpty();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="javadoc">/**<span class="javadoctag"> @return</span> the next smallest number */</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span>() {</div><div class="line">    <span class="keyword">if</span>(hasNext()) <span class="keyword">return</span> arr.poll().val;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="O(1)_Time_O(h)_Memory_Solution">O(1) Time O(h) Memory Solution</h3>
<ul>
<li>Dissect inorder into two parts</li>
<li>push root’s all left children into stack</li>
<li>upon calling next(), pop one node and push all right child’s left child into stack </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">Stack&lt;TreeNode&gt; stk;</div><div class="line"><span class="keyword">public</span> <span class="title">BSTIterator</span>(TreeNode root) {</div><div class="line">    stk = <span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">    <span class="keyword">while</span>(root!=<span class="keyword">null</span>){</div><div class="line">        stk.push(root);</div><div class="line">        root=root.left;</div><div class="line">    }</div><div class="line">   </div><div class="line">}</div><div class="line"><span class="javadoc">/**<span class="javadoctag"> @return</span> whether we have a next smallest number */</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span>() {</div><div class="line">    <span class="keyword">return</span> !stk.isEmpty();</div><div class="line">}</div><div class="line"><span class="javadoc">/**<span class="javadoctag"> @return</span> the next smallest number */</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span>() {</div><div class="line">    <span class="keyword">if</span>(!stk.isEmpty())</div><div class="line">        {TreeNode tmp = stk.pop();</div><div class="line">         <span class="keyword">int</span> res=tmp.val;</div><div class="line">         <span class="keyword">if</span>(tmp.right!=<span class="keyword">null</span>){</div><div class="line">             TreeNode node = tmp.right;</div><div class="line">             <span class="keyword">while</span>(node!=<span class="keyword">null</span>){</div><div class="line">                 stk.push(node);</div><div class="line">                 node=node.left;</div><div class="line">             }</div><div class="line">         }</div><div class="line">         <span class="keyword">return</span> res;</div><div class="line">        }</div><div class="line">        <span class="keyword">else</span> <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="560" height="315" src="https://www.youtube.com/embed/MYSVMgRr6pw" frameborder="0" allowfullscreen></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Tree/"> #Tree </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/Stack/"> #Stack </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/12/4.6/">
                Number of Islands
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-04-12
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/04/12/4.6/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/04/12/4.6/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>Update—Leetcode now includes this problem:</p>
<h2 id="Number_of_Islands">Number of Islands</h2>
<blockquote>
<p>Given a 2d grid map of ‘1’s (land) and ‘0’s (water), count the number of islands. An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically. You may assume all four edges of the grid are all surrounded by water.<br>Example 1:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">11110</span></div><div class="line"><span class="number">11010</span></div><div class="line"><span class="number">11000</span></div><div class="line"><span class="number">00000</span></div><div class="line"><span class="label">Answer:</span> <span class="number">1</span></div></pre></td></tr></table></figure>

<p>Example 2:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">11000</span></div><div class="line"><span class="number">11000</span></div><div class="line"><span class="number">00100</span></div><div class="line"><span class="number">00011</span></div><div class="line"><span class="label">Answer:</span> <span class="number">3</span></div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span>(<span class="keyword">char</span>[][] grid) {</div><div class="line">    <span class="keyword">if</span>(grid.length==<span class="number">0</span> || grid==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;grid.length; i++){</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++){</div><div class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="string">'1'</span>){</div><div class="line">                count++;</div><div class="line">                dfs(grid, i, j);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> count;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span>(<span class="keyword">char</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j){</div><div class="line">    <span class="keyword">if</span>(i&lt;grid.length && i&gt;=<span class="number">0</span> & j&lt;grid[<span class="number">0</span>].length && j&gt;=<span class="number">0</span> && grid[i][j]==<span class="string">'1'</span>){</div><div class="line">        grid[i][j]=<span class="string">'0'</span>;</div><div class="line">        dfs(grid, i-<span class="number">1</span>,j);</div><div class="line">        dfs(grid, i+<span class="number">1</span>,j);</div><div class="line">        dfs(grid, i,j-<span class="number">1</span>);</div><div class="line">        dfs(grid, i,j+<span class="number">1</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h2 id="CountIslands/Floodfill">CountIslands/Floodfill</h2>
<blockquote>
<p>给定matrix，只有0和1，求1的连通size，连通只算上下左右，不算对角线</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">0 1 0 0 1 </div><div class="line">1 1 1 0 0</div><div class="line">1 0 0 0 1</div><div class="line">0 0 0 0 1</div></pre></td></tr></table></figure>

<p>Return 5， 1， 2</p>
<h3 id="Solution-1">Solution</h3>
<p>For each 1 in the matrix, recursivly search for the four neighbors, terminate if 0/boundary found.</p>
<ul>
<li>Mark each node visited to avoid duplicated counting.</li>
</ul>
<pre><code><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">countIslands</span>(<span class="keyword">int</span>[][] mat){
    <span class="keyword">int</span> one,count;
    ArrayList&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();
    <span class="keyword">int</span>[][] mark = <span class="keyword">new</span> <span class="keyword">int</span>[mat.length][mat[<span class="number">0</span>].length];

    <span class="keyword">if</span>(mat == <span class="keyword">null</span> || mat.length == <span class="number">0</span>) <span class="keyword">return</span> res;

    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;mat.length; i++){
        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;mat[<span class="number">0</span>].length; j++){

            <span class="keyword">if</span>(mark[i][j]!=<span class="number">1</span> &amp;&amp; mat[i][j]==<span class="number">1</span>){
                res.add(dfs(i,j, mat, mark));
            }
        }
    }
    <span class="keyword">return</span> res;
}

<span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span>(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[][] mat, <span class="keyword">int</span>[][] mark){
    <span class="keyword">if</span>(i&lt;<span class="number">0</span> || j&lt;<span class="number">0</span> || i&gt;mat.length-<span class="number">1</span> || j&gt;mat[<span class="number">0</span>].length-<span class="number">1</span> || mat[i][j]==<span class="number">0</span> || mark[i][j]==<span class="number">1</span>)
        <span class="keyword">return</span> <span class="number">0</span>;
    mark[i][j] = <span class="number">1</span>;
    <span class="keyword">return</span> <span class="number">1</span>+dfs(i-<span class="number">1</span>,j,mat,mark)+dfs(i+<span class="number">1</span>,j,mat,mark)+dfs(i,j-<span class="number">1</span>,mat,mark)+dfs(i,j+<span class="number">1</span>,mat,mark);
}

<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(String[] args) {
    <span class="keyword">int</span>[][] test = {{<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>} ,{<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>}, {<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>}, {<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>}};
    countIslands c = <span class="keyword">new</span> countIslands();
    System.<span class="keyword">out</span>.println(c.countIslands(test));
}
</code></pre><iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fdanielasings%2Fgnarls-barkley-crazy-cover-by%3Fin%3Dcici-42%2Fsets%2Fsuits&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/DFS/"> #DFS </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/11/4.9/">
                Maximum Subarray, Maximum Product Subarray
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-04-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/04/11/4.9/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/04/11/4.9/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Maximum_Subarray">Maximum Subarray</h2>
<blockquote>
<p>Find the contiguous subarray within an array (containing at least one number) which has the largest sum.<br>For example, given the array [−2,1,−3,4,−1,2,1,−5,4],<br>the contiguous subarray [4,−1,2,1] has the largest sum = 6.</p>
</blockquote>
<h3 id="O(n)_Solution">O(n) Solution</h3>
<ul>
<li>It’s called the Kadane’s Algorithm…</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span>(<span class="keyword">int</span>[] A) {</div><div class="line">    <span class="keyword">int</span> max_so_far = A[<span class="number">0</span>];</div><div class="line">    <span class="keyword">int</span> max_ending_here = A[<span class="number">0</span>];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;A.length;i++){</div><div class="line">        max_ending_here+=A[i];</div><div class="line">        max_ending_here = Math.max(max_ending_here, A[i]);</div><div class="line">        max_so_far = Math.max(max_ending_here, max_so_far);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> max_so_far;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Divide_and_Conquer_Solution_O(nlogn)">Divide and Conquer Solution O(nlogn)</h3>
<ul>
<li>more subtle does not mean cleaner…</li>
<li>divide the given array in two halves and return the maximum of following three</li>
<li>Maximum subarray sum in left half </li>
</ul>
<ul>
<li>Maximum subarray sum in right half </li>
<li>Maximum subarray sum such that the subarray crosses the midpoint</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span>(<span class="keyword">int</span>[] A) {</div><div class="line">         <span class="keyword">int</span> l=<span class="number">0</span>, r=A.length-<span class="number">1</span>;</div><div class="line">         <span class="keyword">return</span> rec(A, l, r);</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> <span class="title">rec</span>(<span class="keyword">int</span>[] A, <span class="keyword">int</span> l, <span class="keyword">int</span> r){</div><div class="line">        <span class="keyword">if</span>(l==r) <span class="keyword">return</span> A[l];</div><div class="line">        <span class="keyword">int</span> m= (l+r)/<span class="number">2</span>; </div><div class="line">        <span class="keyword">return</span> Math.max(Math.max(rec(A,l,m),rec(A,m+<span class="number">1</span>,r)),cross(A,m,l,r));</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> <span class="title">cross</span>(<span class="keyword">int</span>[] A, <span class="keyword">int</span> m, <span class="keyword">int</span> l, <span class="keyword">int</span> r){</div><div class="line">        <span class="keyword">int</span> suml=A[m];</div><div class="line">        <span class="keyword">int</span> maxvaluel=A[m];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=m-<span class="number">1</span>;i&gt;=l;i--){</div><div class="line">            suml+=A[i];</div><div class="line">            <span class="keyword">if</span>(suml&gt;maxvaluel){</div><div class="line">                maxvaluel=suml;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">int</span> sumr=A[m];</div><div class="line">        <span class="keyword">int</span> maxvaluer=A[m];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=m+<span class="number">1</span>;i&lt;=r;i++){</div><div class="line">            sumr+=A[i];</div><div class="line">            <span class="keyword">if</span>(sumr&gt;maxvaluer){</div><div class="line">                maxvaluer=sumr;</div><div class="line">            }            </div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> maxvaluel+maxvaluer-A[m];</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Maximum_Product_Subarray">Maximum Product Subarray</h2>
<blockquote>
<p>Find the contiguous subarray within an array (containing at least one number) which has the largest product.<br>For example, given the array [2,3,-2,4],<br>the contiguous subarray [2,3] has the largest product = 6.</p>
</blockquote>
<h2 id="Near_Brute_force">Near Brute force</h2>
<ul>
<li>If we store result from i to j in t[i][j], the runtime is O(n^2)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProduct</span>(<span class="keyword">int</span>[] A){</div><div class="line">	<span class="keyword">int</span> maxvalue=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;A.length;i++){</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;A.length;j++){</div><div class="line">			<span class="keyword">int</span> tmp=<span class="number">1</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=i;k&lt;=j;k++){</div><div class="line">			tmp*=A[k];</div><div class="line">					}</div><div class="line">			<span class="keyword">if</span>(tmp&gt;maxvalue){</div><div class="line">				maxvalue=tmp;</div><div class="line">			}</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> maxvalue;</div><div class="line">}</div></pre></td></tr></table></figure>

<h2 id="DP?_Solution">DP? Solution</h2>
<ul>
<li>There are only two cases when we get a larger result</li>
<li>mininum(negative) value multiply cur value(which happens to be negative)</li>
<li>maximum value multiply cur value</li>
<li>Be careful with the special case when multiplying both would decrease the result, then change start point to self</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProduct</span>(<span class="keyword">int</span>[] A){</div><div class="line">	<span class="keyword">int</span> maxvalue=A[<span class="number">0</span>];</div><div class="line">	<span class="keyword">int</span> minval=A[<span class="number">0</span>], maxval=A[<span class="number">0</span>];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;A.length;i++){</div><div class="line">	    <span class="keyword">int</span> a=A[i] * minval;</div><div class="line">	    <span class="keyword">int</span> b=A[i] * maxval;</div><div class="line">	    maxval=Math.max(Math.max(a,b),A[i]);</div><div class="line">	    minval=Math.min(Math.min(a,b),A[i]);</div><div class="line">	    maxvalue=Math.max(maxvalue,maxval);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> maxvalue;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fpatrick-champarnaud%2Fticking-bomb%3Fin%3Dcici-42%2Fsets%2Fsuits&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Array/"> #Array </a>
          
            <a href="/tags/DP/"> #DP </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/02/4.1/">
                StringtoLong, Implement Trinary Tree
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-04-02
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/04/02/4.1/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/04/02/4.1/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="StringtoLong">StringtoLong</h2>
<blockquote>
<p>Converts input String to Long</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<ul>
<li>input validation</li>
<li>Over/Underflow</li>
<li>positive/negative </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">long</span> stringToLong(String s)</div><div class="line">	{</div><div class="line">		<span class="comment">// Use Regex to filter out illegal inputs</span></div><div class="line">		<span class="keyword">if</span>(!s.matches(<span class="string">"-?\\d+"</span>)){ </div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException(<span class="string">"input String "</span> + s + <span class="string">" is illegal number format"</span>);</div><div class="line">		}</div><div class="line">		<span class="comment">// Convert a string to a long </span></div><div class="line">		<span class="keyword">long</span> result = <span class="number">0</span>;</div><div class="line">		<span class="keyword">boolean</span> IsNegative = s.charAt(<span class="number">0</span>)== <span class="string">'-'</span>;</div><div class="line">		<span class="keyword">int</span> start=IsNegative ? <span class="number">1</span>:<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;s.length();i++){</div><div class="line">			<span class="comment">/* Deal with overflow and underflow */</span></div><div class="line">			</div><div class="line">			<span class="keyword">if</span>(((!IsNegative) && result &gt; (Long.MAX_VALUE)/<span class="number">10</span> )|| ((!IsNegative) && result == (Long.MAX_VALUE)/<span class="number">10</span> && (s.charAt(i) - <span class="number">48</span>)&gt;<span class="number">7</span>)){</div><div class="line">				</div><div class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException(<span class="string">"input String "</span> + s + <span class="string">" out of bound (overflow)"</span>);</div><div class="line">			}</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>((IsNegative && (-<span class="number">1</span> * result) &lt; (Long.MIN_VALUE)/<span class="number">10</span> ) || (IsNegative &&  (-<span class="number">1</span> * result) == (Long.MIN_VALUE)/<span class="number">10</span> ) && (s.charAt(i) - <span class="number">48</span>)&gt;<span class="number">8</span> ){</div><div class="line">				</div><div class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException(<span class="string">"input String "</span> + s + <span class="string">" out of bound (underflow)"</span>);</div><div class="line">			}</div><div class="line">			<span class="keyword">else</span>{</div><div class="line">				result=result * <span class="number">10</span> + (s.charAt(i) - <span class="number">48</span>);</div><div class="line">			}</div><div class="line">		}</div><div class="line">		<span class="keyword">return</span> IsNegative ? -result : result;</div><div class="line">	}</div></pre></td></tr></table></figure>

<h2 id="Implement_Trinary_Tree">Implement Trinary Tree</h2>
<blockquote>
<p>Insersion and Deletion</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<ul>
<li>Define Node class</li>
<li>Recursivly add/delete node</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TrinaryNode</span></span>{</div><div class="line">	<span class="keyword">int</span> val;</div><div class="line">	TrinaryNode left;</div><div class="line">	TrinaryNode right;</div><div class="line">	TrinaryNode middle;</div><div class="line">	TrinaryNode(<span class="keyword">int</span> x){</div><div class="line">		<span class="keyword">this</span>.val = x;</div><div class="line">	}</div><div class="line"></div><div class="line">}</div><div class="line"><span class="comment">////////////</span></div><div class="line">TrinaryNode root;</div><div class="line">	TrinaryTree(){</div><div class="line">		root = <span class="keyword">null</span>;</div><div class="line">	}</div><div class="line">	TrinaryTree(<span class="keyword">int</span> x){</div><div class="line">		root = <span class="keyword">new</span> TrinaryNode(x);</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="comment">//Insertion</span></div><div class="line">	TrinaryNode insert(TrinaryNode root, <span class="keyword">int</span> x){</div><div class="line"></div><div class="line">		TrinaryNode tmp = <span class="keyword">new</span> TrinaryNode(x);</div><div class="line">		<span class="comment">//Insert root if root is not set</span></div><div class="line">		<span class="keyword">if</span>(root==<span class="keyword">null</span>){</div><div class="line">			root = tmp;</div><div class="line">			<span class="keyword">return</span> root;</div><div class="line">		}</div><div class="line">		<span class="comment">//Find target position in left subtree if x is smaller than current node</span></div><div class="line">		<span class="keyword">if</span>(root.val &gt; x){</div><div class="line">			<span class="keyword">if</span>(root.left==<span class="keyword">null</span>){</div><div class="line">				root.left = tmp;</div><div class="line">			}</div><div class="line">			<span class="keyword">else</span>{</div><div class="line">				insert(root.left, x);</div><div class="line">			}</div><div class="line">		}</div><div class="line">		<span class="comment">//Find target position in right subtree if x is larger than current node</span></div><div class="line">		<span class="keyword">if</span>(root.val &lt; x){</div><div class="line">			<span class="keyword">if</span>(root.right==<span class="keyword">null</span>){</div><div class="line">				root.right = tmp;</div><div class="line">			}</div><div class="line">			<span class="keyword">else</span>{</div><div class="line">				insert(root.right, x);</div><div class="line">			}</div><div class="line">		}</div><div class="line">		<span class="comment">//Find target position in middle subtree if x is equal to current node</span></div><div class="line">		<span class="keyword">if</span>(root.val == x){</div><div class="line">			<span class="keyword">if</span>(root.middle==<span class="keyword">null</span>){</div><div class="line">				root.middle = tmp;</div><div class="line">			}</div><div class="line">			<span class="keyword">else</span>{</div><div class="line">				insert(root.middle, x);</div><div class="line">			}</div><div class="line">		}</div><div class="line">		<span class="keyword">return</span> root;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="comment">//Deletion</span></div><div class="line">	TrinaryNode delete(TrinaryNode root, <span class="keyword">int</span> x){</div><div class="line">		<span class="comment">//Target node is in left subtree</span></div><div class="line">		<span class="keyword">if</span>(root.val &gt; x){</div><div class="line">			root.left = delete(root.left, x);</div><div class="line">		}</div><div class="line">		<span class="comment">//Target node is in right subtree</span></div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(root.val &lt; x){</div><div class="line">			root.right = delete(root.right, x);</div><div class="line">		}</div><div class="line">		<span class="comment">//Target node equals current node</span></div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(root.middle != <span class="keyword">null</span>){</div><div class="line">			<span class="comment">//Delete middle node that is equal to current node</span></div><div class="line">			root.middle = delete(root.middle ,x);</div><div class="line">		}</div><div class="line">		<span class="comment">//Replace current node with its successor in right subtree</span></div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(root.right !=<span class="keyword">null</span>){ </div><div class="line">			root.val = Sucessor(root.right).val;</div><div class="line">			delete(root, Sucessor(root.right).val);</div><div class="line">		}</div><div class="line">		<span class="comment">//Transplant left subtree directly</span></div><div class="line">		<span class="keyword">else</span> {</div><div class="line">			root = root.left;</div><div class="line">		}</div><div class="line">		<span class="keyword">return</span> root;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="comment">//Function to find successor in right subtree</span></div><div class="line">	TrinaryNode Sucessor(TrinaryNode root){</div><div class="line">		TrinaryNode tmp = root;</div><div class="line">		<span class="keyword">while</span>(tmp.left!=<span class="keyword">null</span>){</div><div class="line">			tmp=tmp.left;</div><div class="line">		} </div><div class="line">		<span class="keyword">return</span> tmp;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="comment">//Function to in-order traverse the tree for testing purpose</span></div><div class="line">	<span class="keyword">void</span> test_print(TrinaryNode root){</div><div class="line">		<span class="keyword">if</span> (root!=<span class="keyword">null</span>){</div><div class="line">			System.out.println(<span class="string">"Node Value: "</span> + root.val);</div><div class="line">		}</div><div class="line">		<span class="keyword">else</span> <span class="keyword">return</span>;</div><div class="line">		test_print(root.left);</div><div class="line">		test_print(root.middle);</div><div class="line">		test_print(root.right);</div><div class="line">	}</div></pre></td></tr></table></figure>





<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fsamsmithworld%2Fsamsmithasaprocky&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Math/"> #Math </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/String/"> #String </a>
          
            <a href="/tags/Tree/"> #Tree </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/24/3.19/">
                Unique Combination of Factors, Factorial Trailing Zeroes
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-03-24
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/24/3.19/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/03/24/3.19/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Unique_Combination_of_Factors">Unique Combination of Factors</h2>
<blockquote>
<p>Print all unique combinations of factors of a positive integer. For example given 24:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">24<span class="keyword">*</span>1</div><div class="line">12<span class="keyword">*</span>2</div><div class="line">8<span class="keyword">*</span>3</div><div class="line">6<span class="keyword">*</span>4</div><div class="line">6<span class="keyword">*</span>2<span class="keyword">*</span>2</div><div class="line">4<span class="keyword">*</span>3<span class="keyword">*</span>2</div><div class="line">3<span class="keyword">*</span>2<span class="keyword">*</span>2<span class="keyword">*</span>2</div></pre></td></tr></table></figure>

<h3 id="Solution">Solution</h3>
<p>Reverse DFS all possible division combinations. Keep track of current dividend, try all divisors. Use backtracking to gather all all possible division combinations.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">     24</div><div class="line">  /   |  <span class="command">\</span></div><div class="line"> 1    6    24</div><div class="line">/ <span class="command">\ </span>/ | <span class="command">\ </span> / <span class="command">\</span></div><div class="line">....  2  4 ....</div><div class="line">	   |</div><div class="line">	  / <span class="command">\</span></div><div class="line">    1   2</div></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">factorCombinations</span>(<span class="keyword">int</span> n){</div><div class="line">		ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">		ArrayList&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">		ArrayList&lt;Integer&gt; first=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">		first.add(n);first.add(<span class="number">1</span>);</div><div class="line">		res.add(first);</div><div class="line">		res=dfs(res, n, n/<span class="number">2</span>, tmp);</div><div class="line">		<span class="keyword">return</span> res;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">private</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">dfs</span>(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, <span class="keyword">int</span> Curdividend, <span class="keyword">int</span> Largestdivisor, ArrayList&lt;Integer&gt; tmp){</div><div class="line">		<span class="keyword">if</span>(Curdividend==<span class="number">1</span>){</div><div class="line">			res.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(tmp));</div><div class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">		}</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=Largestdivisor; i&gt;<span class="number">1</span>;i--){</div><div class="line">			<span class="keyword">if</span>(Curdividend%i==<span class="number">0</span>){</div><div class="line">				tmp.add(i);</div><div class="line">				dfs(res,Curdividend/i, i,tmp);</div><div class="line">				tmp.remove(tmp.size()-<span class="number">1</span>);</div><div class="line">			}</div><div class="line">		}</div><div class="line">		<span class="keyword">return</span> res;</div><div class="line">	}</div></pre></td></tr></table></figure>

<h2 id="Factorial_Trailing_Zeroes">Factorial Trailing Zeroes</h2>
<blockquote>
<p>Given an integer n, return the number of trailing zeroes in n!.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trailingZeroes</span>(<span class="keyword">int</span> n) {</div><div class="line">       <span class="keyword">if</span>(n&lt;<span class="number">5</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">       <span class="keyword">int</span> count_of_five=<span class="number">0</span>;</div><div class="line">       <span class="keyword">while</span>(n&gt;<span class="number">1</span>){</div><div class="line">           n=n/<span class="number">5</span>;</div><div class="line">           count_of_five+=n;</div><div class="line">       }</div><div class="line">       <span class="keyword">return</span> count_of_five;</div><div class="line">   }</div></pre></td></tr></table></figure>





<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Flevvis%2Flewis-watson-into-the-wild-the%3Fin%3Dcici-42%2Fsets%2Fwinter-house&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Math/"> #Math </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/20/3.19.3/">
                Stack and Heap
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-03-20
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/20/3.19.3/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/03/20/3.19.3/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Overview">Overview</h2>
<p>Value types are created on the stack, and reference types are created on the heap.</p>
<p>Both are stored in computer RAM.</p>
<p>Each thread gets a stack, while there’s typically only one heap for the application.</p>
<h2 id="Stack">Stack</h2>
<p>When a function is called, a block is reserved on the top of the stack for local variables and some bookkeeping data in a LIFO order. Freeing a block from the stack is nothing more than adjusting one pointer.</p>
<h2 id="Heap">Heap</h2>
<p>Unlike the stack, there’s no enforced pattern to the allocation and deallocation of blocks from the heap; you can allocate a block at any time and free it at any time. This makes it much more complex to keep track of which parts of the heap are allocated or free at any given time; there are many custom heap allocators available to tune heap performance for different usage patterns.</p>
<h2 id="Q_&amp;_A">Q &amp; A</h2>
<h4 id="What_is_their_scope?">What is their scope?</h4>
<p>The stack is attached to a thread, so when the thread exits the stack is reclaimed.</p>
<p>The heap is typically allocated at application startup by the runtime, and is reclaimed when the application (technically process) exits.</p>
<h4 id="What_determines_the_size_of_each_of_them?">What determines the size of each of them?</h4>
<p>The size of the stack is set when a thread is created.</p>
<p>The size of the heap is set on application startup, but can grow as space is needed (the allocator requests more memory from the operating system).</p>
<h4 id="What_makes_one_faster?">What makes one faster?</h4>
<p>The stack is faster because the access pattern makes it trivial to allocate and deallocate memory from it, while the heap has much more complex bookkeeping involved in an allocation or free.</p>
<p>Each byte in the stack tends to be reused very frequently which means it tends to be mapped to the processor’s cache, making it very fast.</p>
<p>Another performance hit for the heap is that the heap, being mostly a global resource, typically has to be multi-threading safe, i.e. each allocation and deallocation needs to be (typically) synchronized.</p>
<p><img src="http://okckd.github.io/assets/images/stack-and-heap.png" alt=""></p>
<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Frapid-snap%2Ftwenty-one-pilots-cant-help%3Fin%3Dcici-42%2Fsets%2Fwinter-house&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Design/"> #Design </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/13/2.12-2/">
                Basic Data Structure
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-03-13
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/CC/">CC</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/13/2.12-2/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/03/13/2.12-2/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="List">List</h1>
<h2 id="Iterator">Iterator</h2>
<ul>
<li>if structural change is made(add, remove, clear), iterator is no longer valid</li>
<li>if iterator invokes its remove method, then iterator is still valid</li>
<li>main advantage of remove method from iterator is that Collection’s remove method must first find the item to remove</li>
</ul>
<h2 id="ArrayList">ArrayList</h2>
<ul>
<li>advantage<ul>
<li>calls to get and set take constant time</li>
</ul>
</li>
<li>disadvantage<ul>
<li>insertion and removal might be expensive unless changes are made at the end of arraylist</li>
<li>inefficient for search</li>
<li>notation of capacity(size of underlying array)</li>
</ul>
</li>
<li>operation<ul>
<li>get, set: O(1)</li>
<li>insertion(add to front) and removal: O(n)</li>
</ul>
</li>
</ul>
<h2 id="LinkedList">LinkedList</h2>
<ul>
<li>advantage<ul>
<li>insertion and removal is cheap(constant time), provided the position of the changes is known</li>
</ul>
</li>
<li>disadvantage<ul>
<li>not easily indexable</li>
<li>calls to get and set might be expensive</li>
<li>inefficient for search</li>
</ul>
</li>
<li>operation<ul>
<li>get, set: O(n)</li>
<li>insertion, removal: O(1)</li>
</ul>
</li>
</ul>
<h2 id="Stack">Stack</h2>
<ul>
<li>operation<ul>
<li>push: O(1)</li>
<li>pop: O(1)</li>
</ul>
</li>
<li>implementation<ul>
<li>list: push is to add node to the front of list and pop is to remove from front of list</li>
<li>array: topOfStack is initialized to -1, when push, arr[topOfStack++]=element; when pop, return arr[—topOfStack]; use topOfStack==-1 to check if emtpy</li>
</ul>
</li>
<li>applications<ul>
<li>balance symbols</li>
<li>postfix expression</li>
<li>infix to postfix conversion</li>
<li>method calls</li>
</ul>
</li>
</ul>
<h2 id="Queue">Queue</h2>
<ul>
<li>idea<ul>
<li>insertion is done at one end</li>
<li>deletion is doen at the other end</li>
</ul>
</li>
<li>operation<ul>
<li>enqueue: O(1)</li>
<li>dequeue: O(1)</li>
</ul>
</li>
</ul>
<h2 id="Nested_Class_vs-_Inner_Class">Nested Class vs. Inner Class</h2>
<ul>
<li>nested class<ul>
<li>when make something a nested class, it is placed inside of another class which is the outer class</li>
<li>must use <code>static</code> to signify it is nested; without <code>static</code>, it would be inner class</li>
<li>nested class can be made private so that it is inaccessible from classes outside outer class</li>
</ul>
</li>
<li>inner class<ul>
<li>when declare inner class, compiler adds implicit reference to outer class that caused the inner class’s construction</li>
<li>The inner class is useful in a situation in which each inner class object is associated with exactly one instance of an outer class object. In such a case, the inner class object can never exist without having an outer class object with which to be associated</li>
</ul>
</li>
</ul>
<h1 id="Tree">Tree</h1>
<h2 id="General_trees">General trees</h2>
<ul>
<li>representation<ul>
<li>first child + next sibling for tree node</li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="title">class</span> TreeNode{</div><div class="line">   <span class="title">Object</span> element;</div><div class="line">   <span class="title">TreeNode</span> firstChild;</div><div class="line">   <span class="title">TreeNode</span> nextSibling;</div></pre></td></tr></table></figure>

<ul>
<li>traversal<ul>
<li>preorder traversal<ul>
<li>root-&gt;left-&gt;right</li>
<li>application in file system(list all files in directory)</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">listAll</span>(){</div><div class="line">   listAll(<span class="number">0</span>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">listAll</span>(<span class="keyword">int</span> depth){</div><div class="line">   printFileName(depth);</div><div class="line">   <span class="keyword">if</span>(isDirectory()){</div><div class="line">      <span class="keyword">for</span> each file <span class="keyword">in</span> the directory</div><div class="line">          listAll(depth+<span class="number">1</span>)</div><div class="line">   }</div><div class="line">}</div></pre></td></tr></table></figure>

<ul>
<li>postorder traversal<ul>
<li>left-&gt;right-&gt;root</li>
<li>compute size of directory</li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dirSize</span>(){</div><div class="line">    <span class="keyword">int</span> totalSize = sizeOfFile();</div><div class="line">    <span class="keyword">if</span>(isDirectory()){</div><div class="line">      <span class="keyword">for</span> each file f <span class="keyword">in</span> directory</div><div class="line">          totalSize += c.dirSize()</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> totalSize;</div><div class="line">}</div></pre></td></tr></table></figure>

<ul>
<li>levelorder traversal</li>
<li>inorder traversal<ul>
<li>left-&gt;root-&gt;right</li>
</ul>
</li>
</ul>
<ul>
<li>application<ul>
<li>file system</li>
</ul>
</li>
</ul>
<h2 id="Binary_Tree">Binary Tree</h2>
<ul>
<li>overview<ul>
<li>average depth is O(sqrt(N)), worst case depth is N-1</li>
<li>for binary search tree, average depth is O(logN)</li>
</ul>
</li>
<li>representation</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryNode</span></span>{</div><div class="line">   <span class="type">Object</span> element;</div><div class="line">   <span class="type">BinaryNode</span> <span class="keyword">left</span>;</div><div class="line">   <span class="type">BinaryNode</span> <span class="keyword">right</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<ul>
<li>application<ul>
<li>expression tree<ul>
<li>push operands to stack while reading</li>
<li>if see an operator, pop two trees(operands) from stack, build a new tree and push onto the stack</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Binary_Search_Tree">Binary Search Tree</h2>
<ul>
<li><p>overview</p>
<ul>
<li>values in left subtree less than root value</li>
<li>values in right subtree larger than root value</li>
</ul>
</li>
<li><p>operations</p>
<ul>
<li>time O(depth), for average depth, time O(logn)</li>
</ul>
</li>
<li><p>balance and self-adjusting</p>
</li>
</ul>
<h2 id="AVL_Tree">AVL Tree</h2>
<ul>
<li><p>overview</p>
<ul>
<li>almost identical to binary search tree</li>
<li>for every node, height of left and right subtree differ at most 1</li>
</ul>
</li>
<li><p>rotation</p>
</li>
</ul>
<h2 id="Splay_Tree">Splay Tree</h2>
<h2 id="B-Tree">B-Tree</h2>
<h1 id="Set_and_Map_in_Standard_Libary">Set and Map in Standard Libary</h1>
<h2 id="Set">Set</h2>
<ul>
<li><p>overview</p>
<ul>
<li>do not allow duplicate</li>
</ul>
</li>
<li><p>types</p>
<ul>
<li>TreeSet(Sorted Set): worst time O(logn)</li>
</ul>
</li>
</ul>
<h2 id="Map">Map</h2>
<ul>
<li><p>overview</p>
<ul>
<li>a collection of entries of keys and values</li>
<li>keys must be unique</li>
<li>several keys can be mapped to the same value</li>
<li>map does not provide iterator</li>
</ul>
</li>
<li><p>types</p>
<ul>
<li>TreeMap(Sorted Map): keep keys in sorted order</li>
</ul>
</li>
</ul>
<h1 id="Hashing">Hashing</h1>
<ul>
<li>overview<ul>
<li>perform insertion, deletion, searching in average O(1) time</li>
<li>print in sorted order in O(n) not supported</li>
<li>load factor: ratio of number of elements in the hash table to the table size</li>
</ul>
</li>
</ul>
<h2 id="hash_function">hash function</h2>
<ul>
<li>determinism: given an input, always generate the same value</li>
<li>uniformity: map inputs as evenly as possible over its output range</li>
<li>defined range: desirable that outputs of hash function have fixed size</li>
<li>continuity: a hash function that is used to search for similar data must be as continuous as possible, two inputs differing a little should be mapped to nearly equal hash values</li>
<li>non-invertible: impossible to reconstruct input from hash value</li>
</ul>
<h2 id="collisions">collisions</h2>
<ul>
<li>given inputs map to the same hash value</li>
<li>separate chaining<ul>
<li>idea: keep a list elements that hash to the same value</li>
<li>operations<ul>
<li>search: first determine which list to traverse and then search appropriate list</li>
<li>insertion: first check appropriate list to see whether element is already in place(if duplicates allowed, keep an extra field); if element is new, insert into the front of list because recently inserted elements are more likely to be used in the near future</li>
</ul>
</li>
<li>disadvantage<ul>
<li>using linkedlist</li>
<li>slow down time to allocate new cells</li>
<li>require implementation of another data structure</li>
</ul>
</li>
</ul>
</li>
<li>probing<ul>
<li>hash function: h_i(x) = (hash(x) + f(i)) % TABLE_SIZE</li>
<li>types<ul>
<li>linear probing<ul>
<li>f(i) = i</li>
<li>primary clustering: as long as table is large enough, a free cell can always be found but might take a long time; when table is relatively empty, blocks of occupied cells start forming</li>
<li>insertions and unsuccessful search require the same number of probes</li>
<li>on average, successful search takes less time than unsuccessful search</li>
</ul>
</li>
<li>quadratic probing<ul>
<li>f(i) = i^2</li>
<li>eliminate the primary clustering</li>
<li>no guarantee finding free cell when table gets more than half full or even before if table size is not prime because at most half of the table can be used as alternative locations to resolve collisions</li>
<li>table size must be prime, otherwise insertion might fail</li>
<li>secondary hashing<ul>
<li>solution by double hashing: f(i)=i*hash2(x)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="rehashing">rehashing</h2>
<ul>
<li>when table gets too full, operations start taking too long</li>
<li>solution: build another table with twice size, compute new hash value for new table</li>
<li>running time: O(n)</li>
<li>options<ul>
<li>rehash as soon as table is half full</li>
<li>rehash only when an insertion fails</li>
<li>rehash when table reaches a certain load factor</li>
</ul>
</li>
</ul>
<h2 id="hash_tables_with_worst_O(1)_time">hash tables with worst O(1) time</h2>
<h1 id="Priority_Queue(Heap)">Priority Queue(Heap)</h1>
<ul>
<li>structure property<ul>
<li>a heap is a binary tree that is completely filled(exception at the bottom level), the average height of complete binary tree is O(logN)</li>
<li>for any element in array position i<ul>
<li>left child: 2i</li>
<li>right child: 2i+1</li>
<li>parent: floor(i/2)</li>
</ul>
</li>
<li>heap consists of Comparable objects</li>
</ul>
</li>
<li>heap order property<ul>
<li>smallest(largest) element at the root</li>
<li>min-heap: for every node X, key in the parent of X is &lt;= key in X</li>
<li>order property ensures findMin() in O(1) time</li>
</ul>
</li>
<li>operations<ul>
<li>insert()<ul>
<li>create a hole in next available position, if order property not violated, done; otherwise, heapify up</li>
<li>time O(logN) if inserted element is new minimum(maximum)</li>
</ul>
</li>
<li>deleteMin()<ul>
<li>find minimum is easy</li>
<li>removing minimum will create a hole in the root, we must move last element X in the heap to correct position</li>
<li>put X in correct spot along a path from the root containing minimum children(heapify down)</li>
<li>time: worst O(logN), average O(logN)</li>
</ul>
</li>
<li>decreaseKey()<ul>
<li>lowers the value of item at position p by positive amount</li>
<li>if violate order property, heapify up</li>
<li>application: make something with higher priority</li>
</ul>
</li>
<li>increaseKey()<ul>
<li>increase the value of item at position p by positive amount</li>
<li>if violate order property, heapify down</li>
<li>application: scheduler drops the priority of a process that is consuming excessive CPU time</li>
</ul>
</li>
<li>delete()<ul>
<li>remove node at position p</li>
<li>first perform decreaseKey(p,infinity) then perform deleteMin()</li>
<li>application: process terminated by user</li>
</ul>
</li>
<li>buildHeap()<ul>
<li>done with N successive inserts</li>
<li>insert takes O(1) average, O(logN) worst</li>
<li>build takes O(N) average, O(NlogN) worst</li>
</ul>
</li>
</ul>
</li>
<li>applications<ul>
<li>selection problem<ul>
<li>approach one(k smallest elements)<ul>
<li>read N elements into array and buildHeap</li>
<li>perform k deleteMin()</li>
<li>time: buildHeap O(N), deleteMin O(logN), total is O(N+klogN)</li>
</ul>
</li>
<li>approach two(k largest elements)<ul>
<li>idea: at any time, maintain a set of k largest elements</li>
<li>read first k elements</li>
<li>when a new element is read, compare it with kth largest element Sk(Sk is the smallest element in set S)<ul>
<li>if new element is larger, it replaces Sk</li>
<li>otherwise, do nothing</li>
</ul>
</li>
<li>finally, return the smallest element in S</li>
<li>time: build with first k elements O(k), time to process remaining (N-k)O(logk), total is O(k+(N-k)logk) = O(Nlogk)</li>
</ul>
</li>
</ul>
</li>
<li>event simulation</li>
</ul>
</li>
</ul>
<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Finterscope%2Fthe-pretty-reckless-just-1%3Fin%3Dcici-42%2Fsets%2Fwinter-house&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Concepts/"> #Concepts </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/13/2.12/">
                Basic Comparisons
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-03-13
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/CC/">CC</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/13/2.12/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/03/13/2.12/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <ul>
<li><a href="#list">LinkedList vs ArrayList</a></li>
<li><a href="#map">HashMap vs. TreeMap vs. HashTable vs. LinkedHashMap</a></li>
<li><a href="#setlistmap">Set vs. List vs. Map</a></li>
<li><a href="#search">BST vs. HashTable</a></li>
<li><a href="#graph">BFS vs. DFS</a></li>
<li><a href="#treegraph">Graph vs. Tree</a></li>
</ul>
<p><a name="list"></a></p>
<h2 id="Linkedlist_vs-_Arraylist_vs-_Vector">Linkedlist vs. Arraylist vs. Vector</h2>
<ul>
<li><p>Operations</p>
<ul>
<li>LinkedList<ul>
<li>get(index): O(n)</li>
<li>add(element): O(1)</li>
<li>add(index, element): O(n)</li>
<li>remove(index): O(n)</li>
<li>Iterator.remove(): O(1), main benefit</li>
<li>Iterator.add(element): O(1), main benefit</li>
</ul>
</li>
<li>ArrayList<ul>
<li>get(index): O(1), main benefit</li>
<li>add(element): O(1) amortized, worst case O(n) because need to resize array and copy</li>
<li>add(index, element): O(n-index) amortized, worst case O(n)</li>
<li>remove(index): O(n-index), remove last is O(1)</li>
<li>Iterator.remove(): O(n-index)</li>
<li>Iterator.add(element): O(n-index)</li>
</ul>
</li>
</ul>
</li>
<li><p>Compare</p>
<ul>
<li>Linkedlist<ul>
<li>O(1) time insertions or removals using iterator, but only sequential access</li>
<li>finding a position in the linkedlist takes time O(n)</li>
<li>each element of linkedlist have more memory overhead because pointers need to be stored</li>
<li>linkedlist also implements queue interface which adds more methods such as offer(), peek(), poll()</li>
</ul>
</li>
<li>Arraylist<ul>
<li>fast random read access in O(1)</li>
<li>adding or removing element except at the end require shifting latter elements, if add more elements, need to allocate new array and copy old values</li>
<li>iterating over arraylist is technically faster</li>
<li>to avoid overhead of resizing, construct arraylist with initial capacity</li>
</ul>
</li>
</ul>
</li>
<li><p>Similarities</p>
<ul>
<li>both are implementation of list interface</li>
<li>maintain elements in insertion order</li>
<li>non-synchronized, but can be made synchronized explicitly</li>
<li>if list is structurally modified after iterator is created, except through iterator’s own remove or add method, iterator will throw exception</li>
</ul>
</li>
<li><p>When to use which</p>
<ul>
<li>frequent addition and deletion: linkedlist</li>
<li>frequent search: arraylist</li>
<li>less memory to store many elements: arraylist</li>
</ul>
</li>
<li><p>Vector</p>
<ul>
<li>almost identical to arraylist, but is synchronized</li>
<li>more overhead because of synchronization</li>
<li>still use arraylist because they can make it synchronized explicitly by encapsulating: </li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">coll </span>=<span class="string"> Collections.synchronizedCollection(coll);</span></div></pre></td></tr></table></figure>

<p><a name="map"></a></p>
<h2 id="HashMap_vs-_TreeMap_vs-_HashTable_vs-_LinkedHashMap">HashMap vs. TreeMap vs. HashTable vs. LinkedHashMap</h2>
<ul>
<li><p>Overview</p>
<ul>
<li>HashMap: implemented as a hash table, no ordering on keys or values</li>
<li>TreeMap: implemented based on red-black tree, ordered by key</li>
<li>LinkedHashMap: preserves insertion order</li>
<li>HashTable: synchronized in constrast to HashMap</li>
</ul>
</li>
<li><p>HashMap</p>
<ul>
<li>operation<ul>
<li>put(): average O(1), worst O(n) when collision</li>
<li>get(), remove(): O(1)</li>
</ul>
</li>
<li>if key is self-defined objects, need to implement equals() and hashCode()</li>
<li>iteration order not predictable</li>
<li>does not allow two identical elements<ul>
<li>equals(): return true if two references refer to the same object</li>
<li>hashCode(): return distinct integers for distinct objects</li>
</ul>
</li>
<li>allow null keys and values</li>
</ul>
</li>
<li><p>TreeMap</p>
<ul>
<li>operation<ul>
<li>put(), get(), remove(): worst O(logn)</li>
</ul>
</li>
<li>sorted by keys</li>
<li>object for key has to implement Comparable interface</li>
<li>only allow values to be null</li>
</ul>
</li>
<li><p>HashTable</p>
<ul>
<li>HashMap is roughly equivalent to HashTable, except hashmap is not synchronized and permits null</li>
<li>Hashtable does not allow null keys or values. HashMap allows one null key and any number of null values.</li>
</ul>
</li>
<li><p>LinkedHashMap</p>
<ul>
<li>operation: see arraylist</li>
<li>subclass of HashMap</li>
<li>linkedlist preserves the insertion order</li>
<li>allow null keys and values</li>
</ul>
</li>
</ul>
<p><a name="setlistmap"></a></p>
<h2 id="Set_vs-_List_vs-_Map">Set vs. List vs. Map</h2>
<ul>
<li><p>Set</p>
<ul>
<li>unordered collection</li>
<li>unique objects (!e1.equals(e2))</li>
<li>contains at most one null</li>
</ul>
</li>
<li><p>List</p>
<ul>
<li>ordered collection(sequence)</li>
<li>access by index and search</li>
<li>may contain duplicates</li>
<li>user has control over where element inserted</li>
</ul>
</li>
<li><p>Map</p>
<ul>
<li>object that maps keys to values</li>
<li>no duplicated allowed</li>
<li>a key can map to at most one value</li>
</ul>
</li>
</ul>
<p><a name="search"></a></p>
<h2 id="BST_vs-_HashTable">BST vs. HashTable</h2>
<ul>
<li><p>BST</p>
<ul>
<li>insert and retrieve: O(logn)</li>
<li>store data sorted</li>
<li>no need to know size of input in advance</li>
<li>memory efficient: do not reserve more memory than they need to</li>
</ul>
</li>
<li><p>HashTable</p>
<ul>
<li>insert and retrieve: O(1)</li>
<li>elements stored unsorted</li>
<li>with more inputs, collisions may show up</li>
<li>need more space than input data if to avoid collision</li>
<li>need to know data size, otherwise might need to resize the table</li>
</ul>
</li>
</ul>
<p><a name="graph"></a></p>
<h2 id="BFS_vs-_DFS">BFS vs. DFS</h2>
<ul>
<li><p>Overview</p>
<ul>
<li>search algorithms for graphs and trees</li>
<li>used for unordered graph and tree</li>
<li>graph representation<ul>
<li>adjacent list: space O(V+E)</li>
<li>adjacent matrix: space O(V^2)</li>
</ul>
</li>
</ul>
</li>
<li><p>BFS</p>
<ul>
<li>start with root node</li>
<li>scan each node in the each level</li>
<li>while traversing each level, decide if target is found</li>
</ul>
</li>
<li><p>DFS</p>
<ul>
<li>start with root node</li>
<li>follow on branch as far as possible until target is found or hit a leaf node</li>
<li>if hit a leaf node, continue search at the nearest ancestor</li>
</ul>
</li>
</ul>
<ul>
<li>Comparison<ul>
<li>memory<ul>
<li>BFS uses a large amount of memory because need to store pointers to a level(serious problem if the tree is very wide)</li>
<li>DFS uses less memory because no need to store all child pointers at a level</li>
</ul>
</li>
<li>depend on the data you search for<ul>
<li>look for people alive in family tree: DFS because targets are likely to be on the bottom of the tree</li>
<li>look for people who died: BFS</li>
</ul>
</li>
<li>implementation<ul>
<li>BFS: queue</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">BFS</span><span class="params">(G,v)</span></span></div><div class="line">   <span class="title">initialize</span> <span class="title">a</span> <span class="title">queue</span> <span class="title">Q</span></div><div class="line">   <span class="title">Q</span>.<span class="title">push</span><span class="params">(v)</span></div><div class="line">   <span class="title">label</span> <span class="title">v</span> <span class="title">as</span> <span class="title">visited</span></div><div class="line">   <span class="title">while</span> <span class="title">Q</span> <span class="title">is</span> <span class="title">not</span> <span class="title">empty</span></div><div class="line">      <span class="title">v</span> &lt;- <span class="title">Q</span>.<span class="title">pop</span><span class="params">()</span></div><div class="line">      <span class="title">for</span> <span class="title">all</span> <span class="title">edges</span> <span class="title">from</span> <span class="title">v</span> <span class="title">to</span> <span class="title">w</span> <span class="title">in</span> <span class="title">adjacent</span><span class="params">(v)</span></div><div class="line">          <span class="title">if</span> <span class="title">w</span> <span class="title">is</span> <span class="title">not</span> <span class="title">visited</span></div><div class="line">             <span class="title">Q</span>.<span class="title">push</span><span class="params">(w)</span></div><div class="line">             <span class="title">label</span> <span class="title">w</span> <span class="title">as</span> <span class="title">visited</span></div></pre></td></tr></table></figure>

<pre><code>-<span class="ruby"> <span class="constant">DFS</span><span class="symbol">:</span> stack
</span>  + recursive
</code></pre><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">DFS</span><span class="params">(G,v)</span></span></div><div class="line">   <span class="title">label</span> <span class="title">v</span> <span class="title">as</span> <span class="title">visited</span></div><div class="line">   <span class="title">for</span> <span class="title">all</span> <span class="title">edges</span> <span class="title">from</span> <span class="title">v</span> <span class="title">to</span> <span class="title">w</span> <span class="title">in</span> <span class="title">adjacent</span><span class="params">(v)</span></div><div class="line">       <span class="title">if</span> <span class="title">w</span> <span class="title">is</span> <span class="title">not</span> <span class="title">visited</span></div><div class="line">           <span class="title">DFS</span><span class="params">(G,w)</span></div></pre></td></tr></table></figure>

<pre><code>  + iterative
</code></pre><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">DFS</span><span class="params">(G,v)</span></span></div><div class="line">   <span class="title">initialize</span> <span class="title">stack</span> <span class="title">S</span></div><div class="line">   <span class="title">S</span>.<span class="title">push</span><span class="params">(v)</span></div><div class="line">   <span class="title">while</span> <span class="title">S</span> <span class="title">is</span> <span class="title">not</span> <span class="title">empty</span></div><div class="line">      <span class="title">v</span> &lt;- <span class="title">S</span>.<span class="title">pop</span><span class="params">()</span></div><div class="line">      <span class="title">if</span> <span class="title">v</span> <span class="title">is</span> <span class="title">not</span> <span class="title">visited</span></div><div class="line">         <span class="title">label</span> <span class="title">v</span> <span class="title">as</span> <span class="title">visited</span></div><div class="line">            <span class="title">for</span> <span class="title">all</span> <span class="title">edges</span> <span class="title">from</span> <span class="title">v</span> <span class="title">to</span> <span class="title">w</span> <span class="title">in</span> <span class="title">adjacent</span><span class="params">(v)</span></div><div class="line">                <span class="title">S</span>.<span class="title">push</span><span class="params">(w)</span></div></pre></td></tr></table></figure>

<ul>
<li>solution<ul>
<li>BFS: complete algorithm, give optimal solution</li>
<li>DFS: suboptimal solution</li>
</ul>
</li>
<li>complexity<ul>
<li>BFS: worst time O(V+E), worst space O(V)</li>
<li>DFS: worst time O(v+E), worst space O(V)</li>
</ul>
</li>
</ul>
<p><a name="treegraph"></a></p>
<h2 id="Tree_vs-_Graph">Tree vs. Graph</h2>
<ul>
<li>tree is restricted form of a graph(directed acyclic graph)</li>
<li>trees have direction(parent/child relationship)</li>
<li>tree does not contain cycles</li>
<li>in trees, a child can only have one parent</li>
</ul>
<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Finterscope%2Fthe-pretty-reckless-make-me-2%3Fin%3Dcici-42%2Fsets%2Fwinter-house&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Concepts/"> #Concepts </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/13/2.12-3/">
                Java Related Questions
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-03-13
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/CC/">CC</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/13/2.12-3/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/03/13/2.12-3/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="Java_Questions">Java Questions</h1>
<p>Contents:</p>
<ul>
<li><a href="#Keywords">Keywords</a></li>
<li><a href="#Concepts">Concepts</a></li>
<li><a href="#OOP">OOP</a></li>
<li><a href="#Collections">Collections</a></li>
<li><a href="#Thread">Threading</a></li>
</ul>
<h2 id="Object_Oriented">Object Oriented</h2>
<ul>
<li>model organized around objects rather than actions and data rather than logic</li>
<li>based on the concept of “objects”</li>
<li>contain data in the form of fields(attributes)</li>
<li>code in the form of procedures(methods)</li>
<li>object’s procedures can access and modify the data fields of the associated object</li>
</ul>
<p><a name="Keywords"></a></p>
<h2 id="Java_Keywords">Java Keywords</h2>
<ul>
<li><p>Access modifiers</p>
<p>| modifier | access in same package | access in different package |<br>| ———— | ——————————— | —————————————- |<br>| private  |         no             |          no                 |<br>| public   |         yes            |         yes                 |<br>| default  |         yes            |          no                 |<br>| protected|         yes            |     only if extend class    |  </p>
</li>
<li><p><code>final</code> keyword</p>
<ul>
<li>can be assigned to variable, method, class, object</li>
<li>if assigned<ul>
<li>variable: behave like a constant and cannot change value</li>
<li>method: cannot be overridden in its child class</li>
<li>class: no other class can extend it</li>
<li>object: only instantiated once</li>
</ul>
</li>
</ul>
</li>
<li><p><code>synchronized</code> keyword</p>
<ul>
<li>provide lock on the object and prevent race condition</li>
<li>can be applied to static/non-static methods or block of code</li>
<li>only one thread at a time can access synchronized methods</li>
<li>if multiple threads, need to wait for execution complete</li>
</ul>
</li>
<li><p><code>volatile</code> keyword</p>
<ul>
<li>volatile variable stored in main memory</li>
<li>every thread can access </li>
<li>local copy updated from main memory</li>
<li>has performance issues</li>
</ul>
</li>
<li><p><code>static</code> variable</p>
<ul>
<li><code>static</code> cannot be used for class</li>
<li>everything declared as <code>static</code> is related to class not object</li>
<li>multiple objects of a class share the same instance of static variable</li>
</ul>
</li>
<li><p><code>static</code> method</p>
<ul>
<li>can be accessed without creating the objects</li>
<li>use class name to access static method</li>
<li>static method can only access static variables and not local or global non-static variable: because if the class is not instantiated and therefore the variables are not initialized and cannot be accessed from a static method</li>
<li>static method can only call static methods and not non-static methods</li>
<li>non-static methods can call static methods</li>
</ul>
</li>
<li><p>static class</p>
<ul>
<li>class cannot be declared as static</li>
<li>class is static if all variables and methods are static and constructor is private, so the only way to access is to use class name </li>
</ul>
</li>
<li><p><code>throw</code> keyword</p>
<ul>
<li>throw exception manually</li>
<li>used when program fails the condition and wants to give warning</li>
<li>throw the exception from a method to the calling method</li>
<li>calling method can decide to handle exception or throw to its calling method</li>
</ul>
</li>
</ul>
<p><a name="Concepts"></a></p>
<h2 id="Concepts">Concepts</h2>
<ul>
<li><p>object vs. class</p>
<ul>
<li>an object is an instance of a class<ul>
<li>object refers to an actual instance of a class</li>
<li>every object must belong to a class</li>
<li>objects are created and then destroyed, only live in the program for limited time</li>
</ul>
</li>
<li>objects have a lifespan but classes do not<ul>
<li>properties of objects can change while they live</li>
</ul>
</li>
</ul>
</li>
<li><p><code>static</code> and <code>instance</code> method</p>
<ul>
<li>instance method<ul>
<li>belong to the instance of a class and require the instance before it can be called</li>
<li>dynamic binding</li>
<li>JVM selects the method to invoke based on the type of object reference, known at run time </li>
</ul>
</li>
<li>static method<ul>
<li>belong to the class itself</li>
<li>static binding </li>
<li>JVM selects the method to invoke based on the actual class of the object, known at compile time</li>
</ul>
</li>
</ul>
</li>
<li><p><code>abstract</code> class and <code>interface</code></p>
<ul>
<li>abstract class<ul>
<li>contain at least one abstract method</li>
<li>can contain numbers of concrete methods</li>
<li>variable can be <code>public</code>, <code>private</code>,<code>protected</code>, <code>default</code>, or constants</li>
<li>a class can only extend one abstract class</li>
<li>not compulsory to implement all methods</li>
<li>if want to add a new feature, simply implement in the abstract class and call it from subclass</li>
</ul>
</li>
<li>interface<ul>
<li>only contain abstract methods</li>
<li>variable is by default <code>public final</code>, only has constants</li>
<li>a class can implement multiple interfaces</li>
<li>compulsory to implement all methods</li>
<li>if want to add a new feature, need to implement the method in all classes implementing the interface</li>
</ul>
</li>
</ul>
</li>
<li><p><code>instanceof</code> and <code>isInstance(Object obj)</code></p>
<ul>
<li><code>instacneof</code> is a keyword but <code>isInstance()</code> is a method</li>
<li><code>instanceof</code> check whether the object is type of particular class or subclass</li>
<li><code>isInstance()</code> only used to identify if object is of a particular class</li>
</ul>
</li>
<li><p>pass by value and pass by reference</p>
<ul>
<li>Java only supports pass by value, actual value is passed</li>
<li>Java passes the references by value, the pointer to the object is passed as value</li>
<li>references passed to the method are actually copies of the original references</li>
</ul>
</li>
<li><p><code>==</code> and <code>equals()</code></p>
<ul>
<li><code>==</code> is used to compare the references of the objects</li>
<li><code>equals()</code> can compare the values of two objects</li>
</ul>
</li>
<li><p><code>StringBuffer</code> and <code>StringBuild</code></p>
<ul>
<li><code>StringBuffer</code> is synchronized but <code>StringBuild</code> is not</li>
</ul>
</li>
<li><p><code>final</code>, <code>finally</code>,<code>finalize()</code></p>
<ul>
<li><code>final</code>: a final variable acts like constant, a final method cannot be overridden, a final class is immutable</li>
<li><code>finally</code>: handles exception, clean up after try block</li>
<li><code>finalize()</code>: method helps in garbage collection, invoked before an object is discarded by the garbage collector, allowing it to clean up its state</li>
</ul>
</li>
<li><p>static block and init block</p>
<ul>
<li>static block is loaded when class is loaded by JVM for the first time</li>
<li>init block is loaded every time the class is loaded</li>
</ul>
</li>
<li><p>object reflections</p>
<ul>
<li>provide a way to get reflective information of class and object</li>
<li>perform operations such as<ul>
<li>get information about methods and fields present inside the class at runtime</li>
<li>get a new instance of a class</li>
<li>get and set object fields directly by getting field reference, regardless what the access modifier is</li>
</ul>
</li>
<li>advantage<ul>
<li>help in observing or manipulating runtime behavior</li>
<li>help in debugging or testing programs</li>
<li>can call method by name when we do not know the method in advance  </li>
</ul>
</li>
</ul>
</li>
<li><p>Overload, Override<br>-Overloading and overriding are complementary things, overloading means the same method name but different parameters, and overriding means the same method name in a subclass with the same parameters. So its not possible for overloading and overriding to happen at the same time because overloading implies different parameters.</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>{</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> doSth() { <span class="comment">/// }</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="inheritance"><span class="keyword">extends</span></span> <span class="title">A</span> </span>{</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> doSth() { <span class="comment">/* method overriden */</span> }</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> doSth(String b) { <span class="comment">/* method overloaded */</span> }</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>


<p><a name="OOP"></a></p>
<h2 id="OOP">OOP</h2>
<ul>
<li><p>polymorphism</p>
<ul>
<li>define more than one function with the same name</li>
<li>compile time polymorphism(overloading) and runtime polymorphism(overriding)</li>
<li>method override: a class method has same name and signature as a method in parent class, JVM determines the proper method to call at runtime</li>
<li>method overloading: method with same name but different signature, determined at compile time</li>
</ul>
</li>
<li><p>inheritance</p>
<ul>
<li>allow a child class to inherit some properties from its parent class</li>
<li>use <code>extends</code> keyword</li>
<li>only public and protected access modifiers can be accessed in child class</li>
</ul>
</li>
<li><p>multiple inheritance</p>
<ul>
<li>Java does not support multiple inheritance</li>
<li>diamond problem</li>
<li>use of multiple interfaces (or extend a class and implement some interfaces)</li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span>{</div><div class="line">   add();</div><div class="line">}</div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span></span>{</div><div class="line">   add();</div><div class="line">}</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">A</span>,<span class="title">B</span></span>{</div><div class="line">   add();</div><div class="line">}</div></pre></td></tr></table></figure>

<ul>
<li><p>abstraction</p>
<ul>
<li>convert real world objects in terms of class</li>
</ul>
</li>
<li><p>encapsulation</p>
<ul>
<li>achieved by combining the methods and attribute into a class</li>
<li>class acting like a container encapsulation the properties</li>
<li>hide how things work and expose the user requests</li>
</ul>
</li>
</ul>
<p><a name="Collections"></a></p>
<h2 id="Collections">Collections</h2>
<ul>
<li><p>ArrayList and vector</p>
<ul>
<li>synchronization<ul>
<li>ArrayList is not thread-safe but vector is </li>
<li>each method in vector class is surrounded by a synchronized block</li>
</ul>
</li>
<li>data growth<ul>
<li>both use arrays to store contents</li>
<li>enlarge array if not enough space</li>
</ul>
</li>
<li>performance<ul>
<li>vector is slower than arraylist because of thread-safe</li>
</ul>
</li>
</ul>
</li>
<li><p>Sort objects in lists</p>
<ul>
<li>implement Comparable interface for the object class and override compareTo() method</li>
<li>if object class is a jar file, create Comparator and override compare() method</li>
<li>call Collection.sort()</li>
</ul>
</li>
<li><p>HashMap and HashTable</p>
<ul>
<li>HashMap is not synchronized but HashTable is</li>
<li>use Iterator for HashMap(fail-safe) and enumerator for Hashtable(not fail-safe)</li>
<li>HashMap allows null values and only one null key; Hashtable does not allow null key or null value</li>
</ul>
</li>
<li><p>List interface</p>
<ul>
<li>ArrayList<ul>
<li>resizable array implementation</li>
<li>dynamic size</li>
<li>not thread-safe</li>
</ul>
</li>
<li>Vector<ul>
<li>ArrayList implementation</li>
<li>thread-safe</li>
</ul>
</li>
<li>LinkedList<ul>
<li>also implements Queue interface</li>
<li>FIFO</li>
<li>faster for insertion and deletion</li>
</ul>
</li>
</ul>
</li>
<li><p>Set interface</p>
<ul>
<li>SortedSet<ul>
<li>interface extends Set</li>
<li>allow data to be sorted</li>
<li>all elements inserted must implement Comparator or Comparable interface</li>
</ul>
</li>
<li>TreeSet<ul>
<li>implementation of SortedSet interface</li>
<li>O(logn) time for add, remove, contains operations</li>
<li>not synchronized</li>
</ul>
</li>
<li>HashSet<ul>
<li>implements Set interface</li>
<li>back up by hash table</li>
<li>no guarantee on constant order</li>
<li>allow null element</li>
<li>O(1) time for add,remove,contains</li>
</ul>
</li>
</ul>
</li>
<li><p>Arrays and ArrayList</p>
<ul>
<li>arrays are fixed size but ArrayLists are dynamic</li>
<li>elements in the array list can be added or removed at runtime</li>
<li>array contains elements of same type but arraylist can contain elements of different type</li>
</ul>
</li>
<li><p>ArrayList and LinkedList</p>
<ul>
<li>both fast in insertion, inserting into arraylist and into first position of linkedlist takes O(1) time</li>
<li>random lookup in ArrayList is fast, but slow for LinkedList</li>
<li>remove is slow for ArrayList(elements need to be shifted) but fast for LinkedList</li>
</ul>
</li>
<li><p>Advantage of iterator</p>
<ul>
<li>used when no clue about object type</li>
<li>iterator allows updates</li>
</ul>
</li>
<li><p>Preferred declaration</p>
<ul>
<li><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;()</code> not <code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;()</code></li>
<li>because function may take List as parameter</li>
<li>more flexible</li>
</ul>
</li>
<li><p>Iterator access and index access</p>
<ul>
<li>insert,update,or delete is faster for iterator access for elements in between the structure</li>
<li>insert,update,or delete is faster for index access for elements at the end</li>
<li>search is fast for index access</li>
</ul>
</li>
</ul>
<p><a name="Thread"></a></p>
<h2 id="Threading">Threading</h2>
<ul>
<li>Thread vs. Process<ul>
<li>definition<ul>
<li>process: executing instance of an application</li>
<li>thread: a path of execution within a process</li>
</ul>
</li>
<li>relationship<ul>
<li>a process can contain multiple threads</li>
<li>thread considered as lightweight process</li>
</ul>
</li>
<li>comparison<ul>
<li>thread for small tasks, process for heavy tasks</li>
<li>thread within the same process share the same address space(allow threads to read and write data to the same structures and variables, allow communication between threads), but different processes do not</li>
<li>threads are easier to create than processes because they do not require a separate address space</li>
<li>multi-threading: be careful that threads share structures that should be modified by one thread at a time</li>
<li>processes are independent of each other</li>
</ul>
</li>
</ul>
</li>
</ul>
<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fxenyriki%2Fthe-pretty-reckless-under-the&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Concepts/"> #Concepts </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/27/1.3/">
                Shortest word in Dictionary
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-27
        </span>

        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/27/1.3/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/27/1.3/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <blockquote>
<p>有一个输入字符，然后我有一个英文字典，说白了就是字符串数组，然后写一个function返回字典里拥有输入字符串里所有字母(非数字或者空格等符号，就是纯字母)的最短的那个字符串。举个例子：<br>输入字符串”SR 456 T”，字符串数组里有”SORT”，而且是最短的，那么就返回它</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShortestDict</span> </span>{</div><div class="line"></div><div class="line">	<span class="keyword">private</span> List&lt;String&gt; wordList;</div><div class="line">	<span class="keyword">private</span> List&lt;Integer&gt; maskList;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="title">ShortestDict</span>(String[] words) {</div><div class="line">		wordList = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">		maskList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">		<span class="comment">//rewrite comparator to compare string length</span></div><div class="line">		Arrays.sort(words, <span class="keyword">new</span> Comparator&lt;String&gt;(){</div><div class="line">			<span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span>(String s1, String s2) {</div><div class="line">				<span class="keyword">return</span> s1.length() - s2.length();</div><div class="line">			}</div><div class="line">		});</div><div class="line"></div><div class="line">		<span class="keyword">for</span> (String word : words) {</div><div class="line">			wordList.add(word);</div><div class="line">			maskList.add(getMask(word));</div><div class="line">		}</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">public</span> String <span class="title">getShortest</span>(String inputWord) {</div><div class="line">		<span class="keyword">int</span> inputMask = getMask(inputWord);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maskList.size(); i++) {</div><div class="line">			<span class="keyword">if</span> (inputMask == (inputMask & maskList.get(i))) {</div><div class="line">				<span class="keyword">return</span> wordList.get(i);</div><div class="line">			}</div><div class="line">		}</div><div class="line">		<span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMask</span>(String word) { </div><div class="line">		<span class="keyword">int</span> mask = <span class="number">0</span>;</div><div class="line">		word = word.toLowerCase();</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">char</span> c : word.toCharArray()) {</div><div class="line">			<span class="keyword">if</span> (<span class="string">'a'</span> &lt;= c && c &lt;= <span class="string">'z'</span>) {</div><div class="line">				mask |= (<span class="number">1</span> &lt;&lt; (c - <span class="string">'a'</span>));</div><div class="line">			} </div><div class="line">		}</div><div class="line">		<span class="keyword">return</span> mask;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(String[] args) {</div><div class="line">		String[] words = <span class="keyword">new</span> String[]{<span class="string">"so99ort"</span>, <span class="string">"so1rt"</span>, <span class="string">"skype"</span>, <span class="string">"so11rt"</span>, <span class="string">"apppples"</span>};</div><div class="line">		ShortestDict d = <span class="keyword">new</span> ShortestDict(words);</div><div class="line">		System.out.println(d.getShortest(<span class="string">"SR 456 T"</span>));</div><div class="line"></div><div class="line">	} </div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fitsdimmi%2Fet-voila-dimmi&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>


        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/String/"> #String </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.28/">
                把《编程珠玑》读薄
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.28/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.28/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>出处：<a href="http://hawstein.com/posts/make-thiner-programming-pearls.html" target="_blank" rel="external">http://hawstein.com/posts/make-thiner-programming-pearls.html</a></p>
<h2>目录</h2><br><ol><br><li><a href="#Begin">开篇</a></li><br><li><a href="#AhaAlgo">啊哈！算法</a></li><br><li><a href="#DataSP">数据决定程序结构</a></li><br><li><a href="#WriteCP">编写正确的程序</a></li><br><li><a href="#SmallM">编程中的次要问题</a></li><br><li><a href="#Performance">程序性能分析</a></li><br><li><a href="#Estimate">粗略估算</a></li><br><li><a href="#AlgoDesign">算法设计技术</a></li><br><li><a href="#CodeTuning">代码调优</a></li><br><li><a href="#SqueezingSpace">节省空间</a></li><br><li><a href="#Sorting">排序</a></li><br><li><a href="#Sampling">取样问题</a></li><br><li><a href="#Searching">搜索</a></li><br><li><a href="#Heap">堆</a></li><br><li><a href="#String">字符串</a></li><br></ol><br><h2><a id="Begin">开篇</a></h2>

<p>具体化你的解决的问题。下面是A和B的对话。</p>

<pre><code>A：我该如何对磁盘文件进行排序？
B：需要排序的内容是什么？文件中有多少条记录？每个记录的格式是什么？
A：该文件包含至多10,000,000个记录，每条记录都是一个7位整数。
B：如果文件那么小，为什么要使用磁盘排序呢？为什么不在主存中对它排序？
A：该功能是某大型系统中的一部分，大概只能提供1MB主存给它。
B：你能将记录方面的内容说得更详细一些吗？
A：每个记录是一个7位正整数，没有其它的关联数据，每个整数至多只能出现一次。
... ...
</code></pre>

<p>经过一系统的问题，我们可以将一个定义模糊不清的问题变得具体而清晰：</p>

<pre><code>输入：
所输入的是一个文件，至多包含n个正整数，每个正整数都要小于n，这里n=10^7。
如果输入时某一个整数出现了两次，就会产生一个致命的错误。
这些整数与其它任何数据都不关联。
输出：
以增序形式输出经过排序的整数列表。
约束：
大概有1MB的可用主存，但可用磁盘空间充足。运行时间至多允许几分钟，
10秒钟是最适宜的运行时间。
</code></pre>

<p>如果主存容量不是严苛地限制在1MB，比如说可以是1MB多，或是1~2MB之间，<br>那么我们就可以一次性将所有数据都加载到主存中，用Bitmap来做。<br>10,000,000个数就需要10,000,000位，也就是10,000,000b = 1.25MB。</p>

<p>程序可分为三个部分：第一，初始化所有的位为0；第二，读取文件中每个整数，<br>如果该整数对应的位已经为1，说明前面已经出现过这个整数，抛出异常，退出程序<br>(输入要求每个整数都只能出现一次)。否则，将相应的位置1；第三，<br>检查每个位，如果某个位是1，就写出相应的整数，从而创建已排序的输出文件。</p>

<p>如果主存容量严苛地限制在1MB，而使用Bitmap需要1.25MB，<br>因此无法一次载入完成排序。那么，我们可以将该文件分割成两个文件，<br>再分别用Bitmap处理。分割策略可以简单地把前一半的数据放到一个文件，<br>后一半的数据放到另一个文件，分别排序后再做归并。<br>也可以把文件中小于某个数(比如5,000,000)的整数放到一个文件，叫less.txt，<br>把其余的整数放到另一个文件，叫greater.txt。分别排序后，<br>把greater.txt的排序结果追加到less.txt的排序结果即可。</p>

<h2><a id="AhaAlgo">啊哈！算法</a></h2>

<p>第2章围绕3个问题展开。</p>

<ul><br><li>给定一个包含32位整数的顺序文件，它至多只能包含40亿个这样的整数，<br>并且整数的次序是随机的。请查找一个此文件中不存在的32位整数。<br>在有足够主存的情况下，你会如何解决这个问题？<br>如果你可以使用若干外部临时文件，但可用主存却只有上百字节，<br>你会如何解决这个问题？</li><br></ul>


<p>这是CTCI中的一道题目，详细解答请戳以下链接：</p>

<p><a href="http://www.hawstein.com/posts/12.3.html" target="_blank" rel="external">请猛戳我</a></p>

<ul><br><li>请将一个具有n个元素的一维向量向左旋转i个位置。例如，假设n=8,i=3，<br>那么向量abcdefgh旋转之后得到向量defghabc。</li><br></ul>


<p>这个问题很常见了，做3次翻转即可，无需额外空间：</p>

<pre><code>reverse(0, i-1); // cbadefgh
reverse(i, n-1); // cbahgfed
reverse(0, n-1); // defghabc
</code></pre>

<ul><br><li>给定一本英语单词词典，请找出所有的变位词集。例如，因为“pots”，<br>“stop”，“tops”相互之间都是由另一个词的各个字母改变序列而构成的，<br>因此这些词相互之间就是变位词。</li><br></ul>


<p>这个问题可以分3步来解决。第一步将每个单词按字典序排序，<br>做为原单词的签名，这样一来，变位词就会具有相同的签名。<br>第二步对所有的单词按照其签名进行排序，这样一来，变位词就会聚集到一起。<br>第三步将变位词分组，形成变位词集。示意图如下：</p>

<p><img src="http://www.hawstein.com/assets/img/2013/8/11/anagrams.png"></p>

<h2><a id="DataSP">数据决定程序结构</a></h2>

<p>恰当的数据视图实际上决定了程序的结构。<br>我们常常可以通过重新组织内部数据来使程序变得小而美。</p>

<p>发明家悖论：更一般性的问题也许更容易解决。(有时候吧)</p>

<p>程序员在节省空间方面无计可施时，将自己从代码中解脱出来，<br>退回起点并集中心力研究数据，常常能有奇效。数据的表示形式是程序设计的根本。</p>

<p>下面是退回起点进行思考时的几条原则：</p>

<ul><br><li><p>使用数组重新编写重复代码。冗长的相似代码常常可以使用最简单的数据结构——<br>数组来更好地表述。</p></li><br><li><p>封装复杂结构。当需要非常复杂的数据结构时，使用抽象术语进行定义，<br>并将操作表示为类。</p></li><br><li><p>尽可能使用高级工具。超文本，名字-值对，电子表格，数据库，<br>编程语言等都是特定问题领域中的强大的工具。</p></li><br><li><p>从数据得出程序的结构。在动手编写代码之前，优秀的程序员会彻底理解输入，<br>输出和中间数据结构，并围绕这些结构创建程序。</p></li><br></ul>


<p>提到的书籍：Polya的《How to Solve it》，中文书《怎样解题》；<br>Kernighan和Plauger的《Elements of Programming Style》；Fred Brooks的《人月神话》<br>Steve McConnell的《代码大全》；《Rapid Development》；<br>《Software Project Survival Guide》</p>

<h2><a id="WriteCP">编写正确的程序</a></h2>

<p>本章以二分搜索为例子，讲述了如何对程序进行验证及正确性分析。</p>

<p>深入阅读：David Gries的《Science of Programming》<br>是程序验证领域里极佳的一本入门书籍。</p>

<h2><a id="SmallM">编程中的次要问题</a></h2>

<p>到目前为止，你已经做了一切该做的事：通过深入挖掘定义了正确的问题，<br>通过仔细选择算法和数据结构平衡了真正的需求，通过程序验证技术写出了优雅的代码，<br>并且对其正确性相当有把握。万事俱备，只欠编程。</p>

<ul><br><li><p>使用断言assert</p></li><br><li><p>自动化测试程序</p></li><br></ul>


<p>进阶阅读：《Practice of Programming》第5章(调试)，第6章(测试)<br>《Code Complete》第25章(单元测试)，第26章(调试)</p>

<h2><a id="Performance">程序性能分析</a></h2>

<p>下图展示了一个程序的性能提升过程，<br>该程序的作用是对三维空间中n个物体的运动进行仿真。从图中可以看出，<br>一个程序可以从多方面进行性能提升，而其中算法和数据结构的选择又显得尤为重要。</p>

<p><img src="http://www.hawstein.com/assets/img/2013/8/11/improve.png"></p>

<p>从设计层面提升程序性能：</p>

<ol><br><li>问题定义。良好的问题定义可以有效减少程序运行时间和程序长度。</li><br><li>系统结构。将大型系统分解成模块，也许是决定其性能的最重要的单个因素。</li><br><li>算法和数据结构。这个不用说了。</li><br><li>代码调优。针对代码本身的改进。</li><br><li>系统软件。有时候改变系统所基于的软件比改变系统本身更容易。</li><br><li>硬件。更快的硬件可以提高系统的性能。</li><br></ol>


<p>深入阅读：Butler Lampson的“Hints for Computer System Design”，<br>该论文特别适合于集成硬件和软件的计算机系统设计。</p>

<h2><a id="Estimate">粗略估算</a></h2>

<p>这一章讲述了估算技术，我认为是相当有用的一章。</p>

<p>文中先抛出一个问题：密西西比河一天流出多少水？如果让你来回答，<br>你会怎么答，注意不能去Google哦。</p>

<p>作者是这么回答这个问题：假设河的出口大约有1英里宽和20英尺深(1/250英里)，<br>而河水的流速是每小时5英里，也就是每天120英里。则可以计算出一天的流量：</p>

<pre><code>1英里 * 1/250英里 * 120英里/天  约等于  1/2 英里^3/天
</code></pre>

<p>上述算式非常简单，可是在看到这些文字之前，如果有人真的问你，<br>密西西比河一天流出多少水？你真的能答上来吗？还是愣了一下后，摆摆手，说：<br>这我哪知道！</p>

<p>对于上面的问题，我们至少可以注意到以下两点：</p>

<ol><br><li><p>你需要把问题转换成一个可计算的具体模型。这一点往往不需要太担心，<br>因为我们做的是估算，所以可以忽视很多无关紧要的因素，可以去简化你的模型，<br>记住我们要的只是一个粗略计算的结果。比如对于上面的问题，<br>计算密西西比河一天流出多少水其实就是计算其一天的流量，利用中学所学知识，<br>流量 = 截面积 x 流速，那我们就只需计算密西西比河的出水口的截面积和流速即可。<br>我们可以将出水口简化成一个矩形，因此就只需要知道出水口的宽和深即可。</p></li><br><li><p>你需要知道常识性的东西。上面我们已经把问题转换成了一个可计算的具体模型：<br>流量 = 出水口宽 x 出水口深 x 流速。接下来呢？你需要代入具体的数值去求得答案。<br>而这就需要你具备一些常识性的知识了。比如作者就估计了密西西比河的出口有1英里宽，<br>20英尺深(如果你估计只有几十米宽，那就相差得太离谱了)。<br>这些常识性的知识比第1点更值得关注，因为你无法给出一个靠谱的估算值往往是因为这点。</p></li><br></ol>


<p>当我们懂得如何把一个问题具体化定义出来并为其选用适当的模型，<br>并且我们也积累了必要的常识性的知识后，回答那些初看起来无从下手的问题也就不难了。<br>这就是估算的力量。</p>

<p>以下是估算时的一些有用提示：</p>

<ul><br><li><p>两个答案比一个答案好。即鼓励你从多个角度去对一个问题进行估算，<br>如果从不同角度得到的答案差别都不大，说明这个估算值是比较靠谱的。</p></li><br><li><p>快速检验。即量纲检验。即等式两边最终的量纲要一致。<br>这一点在等式简单的时候相当显而易见。比如位移的单位是米，时间单位是秒，<br>速度单位是米/秒，那显然我们应该要用位移去除以时间来得到速度，<br>这样才能保证它们单位的一致。你可能会说，我了个去，这种小学生都懂的事，<br>你好意思拿出来讲。其实不然，当你面对的是一个具有多个变量的复杂物理公式，<br>或者你提出某种物理假设，正在考虑将其公式化，该方法可以切切实实地帮你做出检验。</p></li><br><li><p>经验法则。“72法则”：1.假设以年利率r%投资一笔钱y年，如果r<em>y = 72，<br>那么你的投资差不多会翻倍。2.如果一个盘子里的菌群以每小时3%的速率增长，<br>那么其数量每天(24小时)都会翻倍。在误差不超过千分之五的情况下，<br>\pi秒就是一个纳世纪。也就是说：</em></p><br><br><p>  3.14秒 = 10<sup>-9</sup>  100年 = 10<sup>-7</sup> 年</p></li><br></ul>


<p>也就是说，1年大概是3.14x10<sup>7</sup> 秒。所以如果有人告诉你，一个程序运行10<sup>7</sup> 秒，<br>你应该能很快反应出，他说的其实是4个月。</p>

<ul><br><li>实践。与许多其他活动一样，估算技巧只能通过实践来提高。</li><br></ul>


<p>如果问题的规模太大，我们还可以通过求解它的小规模同质问题来做估算。比如，<br>我们想测试某个程序运行10亿次需要多长时间，如果你真去跑10亿次，<br>说不定运行几个小时都没结束，那不是很悲剧？我们可以运行这个程序1万次或是10万次，<br>得出结果然后倍增它即可。当然，这个结果未必是准确的，<br>因为你没法保证运行时间是随着运行次数线性增加的。谨慎起见，我们可以运行不同的次数，<br>来观察它的变化趋势。比如运行10次，100次，1000次，10000次等，<br>观察它的运行时间是否是线性增加的，或是一条二次曲线。</p>

<p>有时候，我们需要为估算的结果乘上一个安全系数。比如，<br>我们预估完成某项功能需要时间t，那根据以往经验，也许我们需要为这个值乘上2或4，<br>这样也许才是一个靠谱的预估值。</p>

<p>Little定律：系统中物体的平均数量等于物体离开系统的平均速率和每个物体在系统中停留<br>的平均时间的乘积。(如果物体离开和进入系统的总体出入流是平衡的，<br>那么离开速率也就是进入速率)</p>

<p>举个例子，比如你正在排除等待进入一个火爆的夜总会，<br>你可以通过估计人们进入的速率来了解自己还要等待多长时间。根据Little定律，<br>你可以推论：这个地方可以容纳约60人，每个人在里面逗留时间大约是3小时，<br>因此我们进入夜总会的速率大概是每小时20人。现在队伍中我们前面还有20人，<br>也就意味着我们还要等待大约一个小时。</p>

<p>深入阅读：Darrell Huff的《How To Lie With Statistics》；关键词：<br>费米近似(Fermi estimate, Fermi problem)</p>

<h2><a id="AlgoDesign">算法设计技术</a></h2>

<p>这一章就一个小问题研究了4种不同的算法，重点强调这些算法的设计技术。<br>研究的这个小问题是一个非常常见的面试题：子数组之和的最大值。<br>如果之前没有听过，建议Google之。</p>

<p>深入阅读：Aho,Hopcroft和Ullman的《Data Structures and Algorithms》<br>Cormen,Leiserson,Rivest和Stein的《Introduction to Algorithms》</p>

<h2><a id="CodeTuning">代码调优</a></h2>

<p>前面各章讨论了提高程序效率的高层次方法：问题定义，系统结构，<br>算法设计及数据结构选择。本章讨论的则是低层次的方法：代码调优。</p>

<p>代码调优的最重要原理就是尽量少用它。不成熟的优化是大量编程灾害的根源。<br>它会危及程序的正确性，功能性以及可维护性。当效率很重要时，<br>第一步就是对系统进行性能监视，以确定其运行时间的分布状况。<br>效率问题可以由多种方法来解决，只有在确信没有更好的解决方案时才考虑进行代码调优。</p>

<p>事实上，如果不是十分十分必要，不要去做代码调优，<br>因为它会牺牲掉软件的其他许多性质。</p>

<p>so，just skip this chapter。</p>

<h2><a id="SqueezingSpace">节省空间</a></h2>

<p>本章讲述了节省空间的一些重要方法。</p>

<p>减少程序所需数据的存储空间，一般有以下方法：</p>

<ul><br><li>不存储，重新计算。</li><br><li>稀疏数据结构。下面着重讲一下这点。</li><br><li>数据压缩。可以通过压缩的方式对对象进行编码，以减少存储空间。</li><br><li>分配策略。只有在需要的时候才进行分配。</li><br><li>垃圾回收。对废弃的存储空间进行回收再利用。</li><br></ul>


<p>以下是节省代码空间的几种通用技术：</p>

<ul><br><li>函数定义。用函数替换代码中的常见模式可以简化程序，同时减少代码的空间需求。</li><br><li>解释程序。用解释程序命令替换长的程序文本。</li><br><li>翻译成机器语言。可以将大型系统中的关键部分用汇编语言进行手工编码。</li><br></ul>


<p><strong>稀疏数据结构</strong></p>

<p>假设我们有一个200 x 200的矩阵(共40000个元素)，里面只有2000个元素有值，<br>其它的都为0，示意图如下：</p>

<p><img src="http://www.hawstein.com/assets/img/2013/8/11/matrix.png"></p>

<p>显然这是一个稀疏矩阵，直接用一个200 x 200<br>的二维数组来存储这些数据会造成大量的空间浪费，共需要200x200x4B=160KB。<br>所以，我们应该想办法用另一种形式来存储这些数据。</p>

<p><strong>方法一</strong></p>

<p>使用数组表示所有的列，同时使用链表来表示给定列中的活跃元素。<br>如下图所示：</p>

<p><img src="http://www.hawstein.com/assets/img/2013/8/11/sparse_matrix.png"></p>

<p>该结构中，有200个指针(colhead)和2000条记录(每条记录是两个整数和一个指针)，<br>占用空间是200x4B + 2000x12B = 24800B = 24.8KB，<br>比直接用二维数组存储(160KB)要小很多。</p>

<p><strong>方法二</strong></p>

<p>我们可以开三个数组来保存这些数，如下图所示：</p>

<p><img src="http://www.hawstein.com/assets/img/2013/8/11/3array.png"></p>

<p>firstincol是一个长度为201的数组，对于第i列，在数组row中，<br>下标为firstincol[i]到firstincol[i+1]-1对应的行元素非0，<br>其值存储在相应的pointnum数组中。</p>

<p>比如对于上图，在第0列中，元素值非0的行有3行，分别是row[0],row[1],row[2],<br>元素值是pointnum[0],pointnum[1],pointnum[2]；在第1列中，元素值非0的行有2行，<br>分别是row[3],row[4]，元素值是pointnum[3],pointnum[4]。依次类推。</p>

<p>该结构所需要的存储空间为2x2000x4B + 201x4B = 16804B = 16.8KB。<br>由于row数组中的元素全部都小于200，所以每个元素可以用一个unsigned char来保存，<br>firstincol数组中元素最大也就2000，所以可以用一个short(或unsigned short)来保存，<br>pointnum中的元素是一个4B的int，<br>最终所需空间变为：2000x4B + 2000x1B + 201x2B = 10402B = 10.4KB。</p>

<p>深入阅读：Fred Brooks的《人月神话》</p>

<h2><a id="Sorting">排序</a></h2>

<p>本章先简单介绍了插入排序，然后着重讲述快速排序。</p>

<p><strong>插入排序</strong></p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 版本1</span></div><div class="line"><span class="keyword">void</span> InsertSort(<span class="keyword">int</span> a[], <span class="keyword">int</span> n) {</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; ++i)</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i; j&gt;<span class="number">0</span> && a[j-<span class="number">1</span>]&gt;a[j]; —j)</div><div class="line">            swap(a[j-<span class="number">1</span>], a[j]);</div><div class="line">}</div><div class="line"><span class="comment">// 版本2</span></div><div class="line"><span class="keyword">void</span> InsertSort1(<span class="keyword">int</span> a[], <span class="keyword">int</span> n) {</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; ++i) {</div><div class="line">        <span class="keyword">int</span> t = a[i];</div><div class="line">        <span class="keyword">int</span> j = i;</div><div class="line">        <span class="keyword">for</span>(; j&gt;<span class="number">0</span> && a[j-<span class="number">1</span>]&gt;t; —j)</div><div class="line">            a[j] = a[j-<span class="number">1</span>];</div><div class="line">        a[j] = t;</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<p><strong>快速排序</strong></p>

<blockquote><blockquote><p>我们在这里规定：小于等于pivot的元素移到左边，大于pivot的元素移到右边。</p></blockquote></blockquote>

<p><strong>实现1：单向移动版本</strong></p>

<p>这个版本的关键是设置一快一慢两个指针，慢指针左侧都是小于等于pivot(包含慢指针所在位置)，<br>慢指针到快指针之间的值是大于pivot，快指针右侧的值是还未比较过的。示意图如下：</p>

<pre><code>小于等于pivot    ｜    大于pivot    ｜    ？
             slow                fast
</code></pre>

<p>快指针一次一步向前走，遇到大于pivot什么也不做继续向前走。遇到小于等于pivot的元素，<br>则慢指针slow向前走一步，然后交换快慢指针指向的元素。一次划分结束后，<br>再递归对左右两侧的元素进行快排。代码如下：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 数组快排</span></div><div class="line"><span class="keyword">void</span> QSort(<span class="keyword">int</span> a[], <span class="keyword">int</span> head, <span class="keyword">int</span> end) {</div><div class="line">    <span class="keyword">if</span>(a==NULL || head==end) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">int</span> slow = head, fast = head + <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> pivot = a[head];</div><div class="line">    <span class="keyword">while</span>(fast != end) {</div><div class="line">        <span class="keyword">if</span>(a[fast] &lt;= pivot)</div><div class="line">            swap(a[++slow], a[fast]);</div><div class="line">        ++fast;</div><div class="line">    }</div><div class="line">    swap(a[head], a[slow]);</div><div class="line">    QSort(a, head, slow);</div><div class="line">    QSort(a, slow+<span class="number">1</span>, end);</div><div class="line">}</div></pre></td></tr></table></figure>

<p>排序数组a只需要调用QSort(a, 0, n)即可。该思路同样可以很容易地在链表上实现：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 单链表快排</span></div><div class="line"><span class="keyword">void</span> qsort(Node head, Node end){</div><div class="line">    <span class="keyword">if</span>(head==NULL || head==end) <span class="keyword">return</span>;</div><div class="line">    Node slow = head, fast = head-&gt;next;</div><div class="line">    <span class="keyword">int</span> pivot = head-&gt;data;</div><div class="line">    <span class="keyword">while</span>(fast != end){</div><div class="line">        <span class="keyword">if</span>(fast-&gt;data &lt;= pivot){</div><div class="line">            slow = slow-&gt;next;</div><div class="line">            swap(slow-&gt;data, fast-&gt;data);</div><div class="line">        }</div><div class="line">        fast = fast-&gt;next;</div><div class="line">    }</div><div class="line">    swap(head-&gt;data, slow-&gt;data);</div><div class="line">    qsort(head, slow);</div><div class="line">    qsort(slow-&gt;next, end);</div><div class="line">}</div></pre></td></tr></table></figure>

<p>排序头指针为head的单链表只需调用qsort(head, NULL)即可。</p>

<p><strong>实现2：双向移动版本</strong></p>

<p>版本1能能够快速完成对随机整数数组的排序，但如果数组有序，<br>或是数组中元素相同，快排的时间复杂度会退化成O(n<sup>2</sup> )，性能变得非常差。</p>

<p>一种缓解方案是使用双向移动版本的快排，它每次划分也是使用两个指针，<br>不过一个是从左向右移动，一个是从右向左移动，示意图如下：</p>

<pre><code>小于等于pivot    ｜    ？    ｜    大于pivot
               i            j
</code></pre>

<p>指针j不断向左移动，直到遇到小于等于pivot，就交换指针i和j所指元素<br>(指针i一开始指向pivot)；指针i不断向右移动，直到遇到大于pivot的，<br>就交换指针i和j所指元素。pivot在这个过程中，不断地换来换去，<br>最终会停在分界线上，分界线左边都是小于等于它的元素，右边都是大于它的元素。<br>这样就避免了最后还要交换一次pivot的操作，代码也变得美观许多。</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> partition(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high){</div><div class="line">    <span class="keyword">int</span> pivot = a[low], i=low, j=high;</div><div class="line">    <span class="keyword">while</span>(i &lt; j){</div><div class="line">        <span class="keyword">while</span>(i&lt;j && a[j]&gt;pivot) —j;</div><div class="line">        <span class="keyword">if</span>(i &lt; j) swap(a[i], a[j]);</div><div class="line">        <span class="keyword">while</span>(i&lt;j && a[i]&lt;=pivot) ++i;</div><div class="line">        <span class="keyword">if</span>(i &lt; j) swap(a[i], a[j]);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> i;</div><div class="line">}</div><div class="line"><span class="keyword">void</span> quicksort(<span class="keyword">int</span> a[], <span class="keyword">int</span> first, <span class="keyword">int</span> last){</div><div class="line">    <span class="keyword">if</span>(first&lt;last){</div><div class="line">        <span class="keyword">int</span> k = partition(a, first, last);</div><div class="line">        quicksort(a, first, k-<span class="number">1</span>);</div><div class="line">        quicksort(a, k+<span class="number">1</span>, last);</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<p>当然，如果对于partition函数，你如果觉得大循环内的两个swap还是做了些无用功的话，<br>也可以把pivot的赋值放到最后一步，而不是在这个过程中swap来swap去的。代码如下：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> partition(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high){</div><div class="line">    <span class="keyword">int</span> pivot = a[low], i=low, j=high;</div><div class="line">    <span class="keyword">while</span>(i&lt;j){</div><div class="line">        <span class="keyword">while</span>(i&lt;j && a[j]&gt;pivot) —j;</div><div class="line">        <span class="keyword">if</span>(i&lt;j) a[i++] = a[j];</div><div class="line">        <span class="keyword">while</span>(i&lt;j && a[i]&lt;=pivot) ++i;</div><div class="line">        <span class="keyword">if</span>(i&lt;j) a[j—] = a[i];</div><div class="line">    }</div><div class="line">    a[i] = pivot;</div><div class="line">    <span class="keyword">return</span> i;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>如果数组基本有序，那随机选择pivot(而不像上面那样选择第一个做为pivot)<br>会得到更好的性能。在partition函数里，我们只需要在数组中随机选一个元素，<br>然后将它和数组中第一个元素交换，后面的划分代码无需改变，<br>就可以达到随机选择pivot的效果。</p>

<p><strong>进一步优化</strong></p>

<p>对于小数组，用插入排序之类的简单方法来排序反而会更快，因此在快排中，<br>当数组长度小于某个值时，我们就什么也不做。对应到代码中，<br>就是修改quicksort中的if条件：</p>

<pre><code>if(first &lt; last)  改为  if(last-first &gt; cutoff)
</code></pre>

<p>其中cutoff是一个小整数。程序结束时，数组并不是有序的，<br>而是被组合成一块一块随机排列的值，并且满足这样的条件：<br>某一块中的元素小于它右边任何块中的元素。我们必须通过另一种排序算法对块内进行排序。<br>由于数组是几乎有序的，因此插入排序比较适用。</p>

<p>这种方法结合了快排和插入排序，让它们去做各自擅长的事情，往往比单纯用快排要快。</p>

<p>深入阅读：Don Knuth的《The Art of Computer Programming, Volume 3:<br>Sorting and Searching》；Robert Sedgewick的《Algorithms》；<br>《Algorithms in C》,《Algorithms in C++》,《Algorithms in Java》。</p>

<h2><a id="Sampling">取样问题</a></h2>

<p>本章讲述了一个小的随机抽样问题，并用不同的方法来解决它。</p>

<p>问题：对于整数m和n，其中m&lt;n，输出0~n-1范围内m个随机整数的<code>有序列表</code>，<br>不允许重复。</p>

<p>比如m=3, n=5，那么一种可能输出是0，2，3(要求有序)。实现1来自Knuth的TAOCP，<br>时间复杂度O(n)：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> GenKnuth(<span class="keyword">int</span> m, <span class="keyword">int</span> n) {</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i) {</div><div class="line">        <span class="keyword">if</span>((bigrand()%(n-i)) &lt; m) {</div><div class="line">            cout&lt;&lt;i&lt;&lt;endl;</div><div class="line">            —m;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<p>其中，bigrand()的作用是返回一个很大的随机整数。</p>

<p>实现2：在一个初始为空的集合里面插入随机整数，直到个数足够。代码如下：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> GenSets(<span class="keyword">int</span> m, <span class="keyword">int</span> n) {</div><div class="line">    set&lt;<span class="keyword">int</span>&gt; s;</div><div class="line">    <span class="keyword">while</span>(s.size() &lt; m)</div><div class="line">        s.insert(bigrand() % n);</div><div class="line">    set&lt;<span class="keyword">int</span>&gt;::iterator i;</div><div class="line">    <span class="keyword">for</span>(i=s.begin(); i!=s.end(); ++i)</div><div class="line">        cout&lt;&lt;*i&lt;&lt;endl;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>实现3：把包含整数0～n-1的数组顺序打乱，然后把前m个元素排序输出。<br>该方法的性能通常不如Knuth的算法。代码如下：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> GenShuf(<span class="keyword">int</span> m, <span class="keyword">int</span> n) {</div><div class="line">    <span class="keyword">int</span> x[n];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</div><div class="line">        x[i] = i;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i) {</div><div class="line">        <span class="keyword">int</span> j = randint(i, n-<span class="number">1</span>);</div><div class="line">        swap(x[i], x[j]);</div><div class="line">    }</div><div class="line">    sort(x, x+m);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)</div><div class="line">        cout&lt;&lt;x[i]&lt;&lt;endl;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>深入阅读：Don Knuth的《The Art of Computer Programming,<br>Volume 2: Seminumerical Algorithms》</p>

<h2><a id="Searching">搜索</a></h2>

<p>本章详细研究这样一个搜索问题：在没有其他相关数据的情况下，如何存储一组整数？<br>为些介绍了5种数据结构：有序数组，有序链表，二叉搜索树，箱，位向量。</p>

<p>其中，二叉搜索树应该熟练掌握，以下是一种实现：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div></pre></td><td class="code"><pre><div class="line">struct Node {</div><div class="line">    <span class="keyword">int</span> data;</div><div class="line">    Node lchild, rchild, parent;</div><div class="line">    Node(): lchild(NULL), rchild(NULL), parent(NULL) { }</div><div class="line">};</div><div class="line"></div><div class="line">class BST {</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> kMax = <span class="number">1000</span>;</div><div class="line">    Node root, *parent, nodes[kMax];</div><div class="line">    <span class="keyword">int</span> size;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    Node <span class="title">minimum</span>(Node node);</div><div class="line">    Node maximum(Node node);</div><div class="line">    Node successor(Node node);</div><div class="line">    Node predecessor(Node node);</div><div class="line">    <span class="keyword">void</span> Insert(Node &node, <span class="keyword">int</span> x);</div><div class="line">    <span class="keyword">void</span> InorderTraver(Node node);</div><div class="line">    Node Find(Node node, <span class="keyword">int</span> x);</div><div class="line"></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="title">BST</span>(): <span class="title">root</span>(NULL), <span class="title">parent</span>(NULL), <span class="title">size</span>(0) {</div><div class="line">        memset(nodes, <span class="string">'\0'</span>, sizeof(nodes));</div><div class="line">    }</div><div class="line">    <span class="keyword">void</span> Insert(<span class="keyword">int</span> x);</div><div class="line">    <span class="keyword">void</span> InorderTraver();</div><div class="line">    Node Find(<span class="keyword">int</span> x);</div><div class="line">    <span class="keyword">void</span> Remove(Node z);</div><div class="line">};</div><div class="line"></div><div class="line">Node BST::minimum(Node node) {</div><div class="line">    <span class="keyword">if</span>(node == NULL) <span class="keyword">return</span> NULL;</div><div class="line">    <span class="keyword">while</span>(node-&gt;lchild)</div><div class="line">        node = node-&gt;lchild;</div><div class="line">    <span class="keyword">return</span> node;</div><div class="line">}</div><div class="line"></div><div class="line">Node BST::maximum(Node node) {</div><div class="line">    <span class="keyword">if</span>(node == NULL) <span class="keyword">return</span> NULL;</div><div class="line">    <span class="keyword">while</span>(node-&gt;rchild)</div><div class="line">        node = node-&gt;rchild;</div><div class="line">    <span class="keyword">return</span> node;</div><div class="line">}</div><div class="line"></div><div class="line">Node BST::successor(Node node) {</div><div class="line">    <span class="keyword">if</span>(node-&gt;rchild)</div><div class="line">        <span class="keyword">return</span> minimum(node-&gt;rchild);</div><div class="line">    Node y = node-&gt;parent;</div><div class="line">    <span class="keyword">while</span>(y && node==y-&gt;rchild) {</div><div class="line">        node = y;</div><div class="line">        y = node-&gt;parent;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> y;</div><div class="line">}</div><div class="line"></div><div class="line">Node BST::predecessor(Node node) {</div><div class="line">    <span class="keyword">if</span>(node-&gt;lchild)</div><div class="line">        <span class="keyword">return</span> maximum(node-&gt;lchild);</div><div class="line">    Node y = node-&gt;parent;</div><div class="line">    <span class="keyword">while</span>(y && node==y-&gt;lchild) {</div><div class="line">        node = y;</div><div class="line">        y = node-&gt;parent;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> y;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">void</span> BST::Insert(Node* &node, <span class="keyword">int</span> x) {</div><div class="line">    <span class="keyword">if</span>(node == NULL) {</div><div class="line">        nodes[size].data = x;</div><div class="line">        nodes[size].parent = parent;</div><div class="line">        node = &nodes[size];</div><div class="line">        ++size;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    }</div><div class="line">    parent = node;</div><div class="line">    <span class="keyword">if</span>(x &lt; node-&gt;data)</div><div class="line">        Insert(node-&gt;lchild, x);</div><div class="line">    <span class="keyword">else</span></div><div class="line">        Insert(node-&gt;rchild, x);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">void</span> BST::Insert(<span class="keyword">int</span> x) {</div><div class="line">    Insert(root, x);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">void</span> BST::InorderTraver(Node* node) {</div><div class="line">    <span class="keyword">if</span>(node == NULL) <span class="keyword">return</span>;</div><div class="line">    InorderTraver(node-&gt;lchild);</div><div class="line">    cout&lt;&lt;node-&gt;data&lt;&lt;<span class="string">" "</span>;</div><div class="line">    InorderTraver(node-&gt;rchild);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">void</span> BST::InorderTraver() {</div><div class="line">    InorderTraver(root);</div><div class="line">}</div><div class="line"></div><div class="line">Node BST::Find(Node node, <span class="keyword">int</span> x) {</div><div class="line">    <span class="keyword">if</span>(node == NULL) <span class="keyword">return</span> NULL;</div><div class="line">    <span class="keyword">if</span>(x &lt; node-&gt;data) <span class="keyword">return</span> Find(node-&gt;lchild, x);</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(x &gt; node-&gt;data) <span class="keyword">return</span> Find(node-&gt;rchild, x);</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> node;</div><div class="line">}</div><div class="line"></div><div class="line">Node BST::Find(<span class="keyword">int</span> x) {</div><div class="line">    <span class="keyword">return</span> Find(root_, x);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">void</span> BST::Remove(Node z) {</div><div class="line">    <span class="keyword">if</span>(!z-&gt;lchild && !z-&gt;rchild) {</div><div class="line">        <span class="keyword">if</span>(z == root) root = NULL;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(z == z-&gt;parent-&gt;lchild)</div><div class="line">            z-&gt;parent-&gt;lchild = NULL;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            z-&gt;parent-&gt;rchild = NULL;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(z-&gt;lchild==NULL || z-&gt;rchild==NULL) {</div><div class="line">        <span class="keyword">if</span>(z == root) {</div><div class="line">            <span class="keyword">if</span>(z-&gt;lchild) root = z-&gt;lchild;</div><div class="line">            <span class="keyword">else</span> root = z-&gt;rchild;</div><div class="line">            root-&gt;parent = NULL;</div><div class="line">        }</div><div class="line">        <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">if</span>(z==z-&gt;parent-&gt;lchild && z-&gt;lchild) {</div><div class="line">                z-&gt;parent-&gt;lchild = z-&gt;lchild;</div><div class="line">                z-&gt;lchild-&gt;parent = z-&gt;parent;</div><div class="line">            }</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(z==z-&gt;parent-&gt;lchild && z-&gt;rchild) {</div><div class="line">                z-&gt;parent-&gt;lchild = z-&gt;rchild;</div><div class="line">                z-&gt;rchild-&gt;parent = z-&gt;parent;</div><div class="line">            }</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(z==z-&gt;parent-&gt;rchild && z-&gt;lchild) {</div><div class="line">                z-&gt;parent-&gt;rchild = z-&gt;lchild;</div><div class="line">                z-&gt;lchild-&gt;parent = z-&gt;parent;</div><div class="line">            }</div><div class="line">            <span class="keyword">else</span> {</div><div class="line">                z-&gt;parent-&gt;rchild = z-&gt;rchild;</div><div class="line">                z-&gt;rchild-&gt;parent = z-&gt;parent;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">else</span> {</div><div class="line">        Node *s = predecessor(z);</div><div class="line">        z-&gt;data = s-&gt;data;</div><div class="line">        <span class="keyword">if</span>(z == s-&gt;parent)</div><div class="line">            s-&gt;parent-&gt;lchild = s-&gt;lchild;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            s-&gt;parent-&gt;rchild = s-&gt;lchild;</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(s-&gt;lchild)</div><div class="line">            s-&gt;lchild-&gt;parent = s-&gt;parent;</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<h2><a id="Heap">堆</a></h2>

<p>本章主要介绍堆，下面是关于堆的一些主要操作：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 最大堆实现, 数组下标从1开始，a[0]不使用。</span></div><div class="line"></div><div class="line"><span class="comment">// 交换两数</span></div><div class="line"><span class="keyword">void</span> swap(<span class="keyword">int</span> &a, <span class="keyword">int</span> &b) {</div><div class="line">    <span class="keyword">int</span> t = a;</div><div class="line">    a = b;</div><div class="line">    b = t;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// 把第i个元素向上移动</span></div><div class="line"><span class="keyword">void</span> ShiftUp(<span class="keyword">int</span> a[], <span class="keyword">int</span> i) {</div><div class="line">    <span class="keyword">while</span>(i&gt;<span class="number">1</span> && a[i]&gt;a[i/<span class="number">2</span>]) {</div><div class="line">        swap(a[i], a[i/<span class="number">2</span>]);</div><div class="line">        i &gt;&gt;= <span class="number">1</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// 把第i个元素向下移动</span></div><div class="line"><span class="keyword">void</span> ShiftDown(<span class="keyword">int</span> a[], <span class="keyword">int</span> n, <span class="keyword">int</span> i) {</div><div class="line">    <span class="keyword">while</span>((i=<span class="number">2</span>*i) &lt;= n) {</div><div class="line">        <span class="keyword">if</span>(i+<span class="number">1</span>&lt;=n && a[i+<span class="number">1</span>]&gt;a[i]) ++i;</div><div class="line">        <span class="keyword">if</span>(a[i] &gt; a[i/<span class="number">2</span>]) swap(a[i], a[i/<span class="number">2</span>]);</div><div class="line">        <span class="keyword">else</span> <span class="keyword">break</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// 把数组a变成具备最大堆性质的数组</span></div><div class="line"><span class="keyword">void</span> MakeHeap(<span class="keyword">int</span> a[], <span class="keyword">int</span> n) {</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n/<span class="number">2</span>; i&gt;<span class="number">0</span>; —i)</div><div class="line">        ShiftDown(a, n, i);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// 向堆中插入元素x</span></div><div class="line"><span class="keyword">void</span> Insert(<span class="keyword">int</span> a[], <span class="keyword">int</span> &n, <span class="keyword">int</span> x) {</div><div class="line">    a[++n] = x;</div><div class="line">    ShiftUp(a, n);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// 删除堆中第i个元素</span></div><div class="line"><span class="keyword">void</span> Del(<span class="keyword">int</span> a[], <span class="keyword">int</span> &n, <span class="keyword">int</span> i) {</div><div class="line">    a[i] = a[n—];</div><div class="line">    <span class="keyword">if</span>(i&gt;<span class="number">1</span> && a[i]&gt;a[i/<span class="number">2</span>]) ShiftUp(a, i);</div><div class="line">    <span class="keyword">else</span> ShiftDown(a, n, i);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// 堆排序，时间复杂度O(nlogn)</span></div><div class="line"><span class="keyword">void</span> HeapSort(<span class="keyword">int</span> a[], <span class="keyword">int</span> n) {</div><div class="line">    MakeHeap(a, n);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n; i&gt;<span class="number">1</span>; —i) {</div><div class="line">        swap(a[i], a[<span class="number">1</span>]);</div><div class="line">        ShiftDown(a, i-<span class="number">1</span>, <span class="number">1</span>);</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<h2><a id="String">字符串</a></h2>

<p>程序1：循环输入并将每个单词插入集合S(忽略重复单词)，然后排序输出。</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> main(<span class="keyword">void</span>) {</div><div class="line">    set&lt;string&gt; s;</div><div class="line">    set&lt;string&gt;::iterator j;</div><div class="line">    string t;</div><div class="line">    <span class="keyword">while</span>(cin &gt;&gt; t)</div><div class="line">        s.insert(t);</div><div class="line">    <span class="keyword">for</span>(j=s.begin(); j!=s.end(); ++j)</div><div class="line">        cout&lt;&lt;*j&lt;&lt;endl;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>程序2：单词计数</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> main(<span class="keyword">void</span>) {</div><div class="line">    map&lt;string, <span class="keyword">int</span>&gt; m;</div><div class="line">    map&lt;string, <span class="keyword">int</span>&gt;::iterator j;</div><div class="line">    string t;</div><div class="line">    <span class="keyword">while</span>(cin &gt;&gt; t)</div><div class="line">        m[t]++;</div><div class="line">    <span class="keyword">for</span>(j=m.begin(); j!=m.end(); ++j)</div><div class="line">        cout&lt;&lt;j-&gt;first&lt;&lt;<span class="string">" "</span>&lt;&lt;j-&gt;second&lt;&lt;endl;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>程序3：建立自己的哈希表(散列表)，以下是一种实现：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">class Hash {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="title">Hash</span>(): <span class="title">seed</span>(131), <span class="title">size</span>(0) {</div><div class="line">        memset(head, <span class="number">0</span>, sizeof(head));</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">void</span> Insert(<span class="keyword">const</span> <span class="keyword">char</span> str) {</div><div class="line">        unsigned <span class="keyword">int</span> id = hash(str);</div><div class="line">        <span class="keyword">char</span> dst = (<span class="keyword">char</span>)node[size].word;</div><div class="line">        <span class="keyword">while</span>(dst++ = str++);</div><div class="line">        node[size].next = head[id];</div><div class="line">        head[id] = &node[size];</div><div class="line">        ++size_;</div><div class="line">    }</div><div class="line"></div><div class="line">    bool Find(<span class="keyword">const</span> <span class="keyword">char</span> str) {</div><div class="line">        unsigned <span class="keyword">int</span> id = hash(str);</div><div class="line">        <span class="keyword">for</span>(Node p=head_[id]; p; p=p-&gt;next) {</div><div class="line">            <span class="keyword">char</span> dst = (<span class="keyword">char</span>)p-&gt;word;</div><div class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(; (str+i) && (str+i)==(dst+i); ++i);</div><div class="line">            <span class="keyword">if</span>(!(str+i) && !(dst+i)) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    unsigned <span class="keyword">int</span> <span class="title">hash</span>(<span class="keyword">const</span> <span class="keyword">char</span> str) {<span class="comment">// BKDR Hash Function</span></div><div class="line">        unsigned <span class="keyword">int</span> hash = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(str) {</div><div class="line">            hash = hash  seed_ + (str++);</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> (hash & <span class="number">0x7FFFFFFF</span>) % kHashSize;</div><div class="line">    }</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    unsigned <span class="keyword">int</span> seed;</div><div class="line">    unsigned <span class="keyword">int</span> size;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> kWordSize = <span class="number">26</span> + <span class="number">1</span>;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> kNodeSize = <span class="number">20000</span>;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> kHashSize = <span class="number">10001</span>;</div><div class="line">    struct Node {</div><div class="line">        <span class="keyword">char</span> word[kWordSize];</div><div class="line">        Node next;</div><div class="line">    };</div><div class="line">    Node node_[kNodeSize];</div><div class="line">    Node head_[kHashSize];</div><div class="line">};</div></pre></td></tr></table></figure>

<p><strong>后缀数组</strong></p>

<p>假设我们有以下字符串及一个char*数组：</p>

<pre><code> char c[20] = "hawstein";
 char* pc[20];
</code></pre>

<p>我们让指针pc[i]指向字符串的第i个字符，即：</p>

<pre><code>for(int i=0; i&lt;8; ++i)
    pc[i] = &amp;c[i];
</code></pre>

<p>这时候我们输出pc[i]，会得到字符串”hawstein”的所有后缀：</p>

<pre><code>hawstein
awstein
wstein
stein
tein
ein
in
n
</code></pre>

<p>然后，我们对数组pc进行排序，将所有后缀按字典序排序：</p>

<pre><code>sort(pc, pc+8, cmp);
</code></pre>

<p>其中，比较函数cmp如下：</p>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">inline bool cmp(<span class="keyword">char</span> p, charq) {</div><div class="line">    <span class="keyword">return</span> strcmp(p, q) &lt; <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>这时，我们再输出pc[i]，会得到排序后的结果：</p>

<pre><code>awstein
ein
hawstein
in
n
stein
tein
wstein
</code></pre>

<p>我们把数组pc称为“后缀数组”。这里需要注意，数组pc<br>中存储的是指向每个后缀首字符的地址。我们也可以存储每个后缀首字符在原数组中的下标，<br>效果是一样的。</p>

<p>本章中用后缀数组解决了一个小问题：可重叠最长重复子串。比如对于字符串”banana”，<br>其后缀数组为：</p>

<pre><code>a
ana
anana
banana
na
nana
</code></pre>

<p>扫描一次数组，比较相邻子串，找到相邻子串的最长公共前缀即可。本例为”ana”，<br>其中一个a是重叠的。</p>

<p>后缀数组是处理字符串的有力工具，常见的两种实现方法是：倍增算法和DC3算法。<br>推荐阅读以下材料来学习后缀数组：</p>

<blockquote><blockquote><p>许智磊，《后缀数组》</p><br><br><p>罗穗骞，《后缀数组——处理字符串的有力工具》</p></blockquote></blockquote>


















        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Reading/"> #Reading </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/blackmirror/">
                Black Mirror Christmas Special
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/追剧/">追剧</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/blackmirror/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/blackmirror/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <object width="1140" height="880"><param name="movie" value="http://share.vrs.sohu.com/2154005/v.swf&topBar=1&autoplay=false&plid=8358521&pub_catecode=0&from=page"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><param name="wmode" value="Transparent"><embed width="1140" height="488" wmode="Transparent" allowfullscreen="true" allowscriptaccess="always" quality="high" src="http://share.vrs.sohu.com/2154005/v.swf&topBar=1&autoplay=false&plid=8358521&pub_catecode=0&from=page" type="application/x-shockwave-flash"></object>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/2.5/">
                Roman to Integer, Integer to Roman, ZigZag Conversion
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/2.5/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/2.5/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Roman_to_Integer">Roman to Integer</h2>
<blockquote>
<p>Given a roman numeral, convert it to an integer.<br>Input is guaranteed to be within the range from 1 to 3999.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>How roman numbers work:</p>
<p>M | D | C | L | X | V | I |</p>
<p>1000 | 500 | 100 | 50 | 10 | 5 | 1 |</p>
<p>If the current character is larger than previous one, then we substract previous form current, otherwise add up all digits.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">romanToInt</span>(String s) {</div><div class="line">        <span class="keyword">if</span>(s==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> n=s.length(),res=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span> ; i&lt; n;i++){</div><div class="line">    </div><div class="line">            <span class="keyword">switch</span>(s.charAt(i)){</div><div class="line">            </div><div class="line">                <span class="keyword">case</span> <span class="string">'I'</span>: </div><div class="line">                    <span class="keyword">if</span>(i&lt;n-<span class="number">1</span> && s.charAt(i+<span class="number">1</span>)!=<span class="string">'I'</span>){res-=<span class="number">1</span>;<span class="keyword">break</span>;}</div><div class="line">                    <span class="keyword">else</span>{res+=<span class="number">1</span>; <span class="keyword">break</span>;}</div><div class="line">                </div><div class="line">                <span class="keyword">case</span> <span class="string">'V'</span>: </div><div class="line">                    <span class="keyword">if</span>(i&lt;n-<span class="number">1</span> && s.charAt(i+<span class="number">1</span>)!=<span class="string">'I'</span>){res-=<span class="number">5</span>;<span class="keyword">break</span>;}</div><div class="line">                    <span class="keyword">else</span> {res+=<span class="number">5</span>; <span class="keyword">break</span>;}</div><div class="line">                <span class="keyword">case</span> <span class="string">'X'</span>: </div><div class="line">                    <span class="keyword">if</span>(i&lt;n-<span class="number">1</span> && (s.charAt(i+<span class="number">1</span>)==<span class="string">'L'</span>||s.charAt(i+<span class="number">1</span>)==<span class="string">'C'</span>||s.charAt(i+<span class="number">1</span>)==<span class="string">'D'</span>||s.charAt(i+<span class="number">1</span>)==<span class="string">'M'</span>)){res-=<span class="number">10</span>;<span class="keyword">break</span>;}</div><div class="line">                    <span class="keyword">else</span> {res+=<span class="number">10</span>; <span class="keyword">break</span>;}</div><div class="line">                <span class="keyword">case</span> <span class="string">'L'</span>: </div><div class="line">                    <span class="keyword">if</span>(i&lt;n-<span class="number">1</span> && (s.charAt(i+<span class="number">1</span>)==<span class="string">'C'</span>||s.charAt(i+<span class="number">1</span>)==<span class="string">'D'</span>||s.charAt(i+<span class="number">1</span>)==<span class="string">'M'</span>)){res-=<span class="number">50</span>;<span class="keyword">break</span>;}</div><div class="line">                    <span class="keyword">else</span> {res+=<span class="number">50</span>; <span class="keyword">break</span>;}</div><div class="line">                <span class="keyword">case</span> <span class="string">'C'</span>: </div><div class="line">                    <span class="keyword">if</span>(i&lt;n-<span class="number">1</span> && (s.charAt(i+<span class="number">1</span>)==<span class="string">'D'</span>||s.charAt(i+<span class="number">1</span>)==<span class="string">'M'</span>)){res-=<span class="number">100</span>; <span class="keyword">break</span>;}</div><div class="line">                    <span class="keyword">else</span> {res+=<span class="number">100</span>;<span class="keyword">break</span>;}</div><div class="line">                <span class="keyword">case</span> <span class="string">'D'</span>: </div><div class="line">                    <span class="keyword">if</span>(i&lt;n-<span class="number">1</span> && s.charAt(i+<span class="number">1</span>)==<span class="string">'M'</span>) {res-=<span class="number">500</span>; <span class="keyword">break</span>;}</div><div class="line">                    <span class="keyword">else</span> {res+=<span class="number">500</span>; <span class="keyword">break</span>;}</div><div class="line">                <span class="keyword">case</span> <span class="string">'M'</span>: res+=<span class="number">1000</span>; <span class="keyword">break</span>;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Integer_to_Roman">Integer to Roman</h2>
<blockquote>
<p>Given an integer, convert it to a roman numeral.<br>Input is guaranteed to be within the range from 1 to 3999.</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> String <span class="title">intToRoman</span>(<span class="keyword">int</span> num) {</div><div class="line">     <span class="keyword">int</span>[] numbers={<span class="number">1000</span>, <span class="number">900</span>, <span class="number">500</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">90</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>};</div><div class="line">     String[] tokens={<span class="string">"M"</span>,<span class="string">"CM"</span>,<span class="string">"D"</span>,<span class="string">"CD"</span>,<span class="string">"C"</span>,<span class="string">"XC"</span>,<span class="string">"L"</span>,<span class="string">"XL"</span>,<span class="string">"X"</span>,<span class="string">"IX"</span>,<span class="string">"V"</span>,<span class="string">"IV"</span>,<span class="string">"I"</span>};</div><div class="line">     StringBuilder sb=<span class="keyword">new</span> StringBuilder();</div><div class="line">     <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">     <span class="keyword">while</span>(num&gt;<span class="number">0</span>){</div><div class="line">         <span class="keyword">int</span> tmp=num/numbers[i];</div><div class="line">         num=num-tmp*numbers[i];</div><div class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> k=tmp;k&gt;=<span class="number">1</span>;k--){</div><div class="line">             sb.append(tokens[i]);</div><div class="line">         }</div><div class="line">         i++;</div><div class="line">     }</div><div class="line">     <span class="keyword">return</span> sb.toString();</div><div class="line"> }</div></pre></td></tr></table></figure>

<hr>
<h2 id="ZigZag_Conversion">ZigZag Conversion</h2>
<blockquote>
<p>The string “PAYPALISHIRING” is written in a zigzag pattern on a given number of rows like this: (you may want to display this pattern in a fixed font for better legibility)</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">P   A   H   <span class="keyword">N</span></div><div class="line">A P L S <span class="keyword">I</span> <span class="keyword">I</span> G</div><div class="line">Y   <span class="keyword">I</span>   R</div></pre></td></tr></table></figure>

<p>And then read line by line: “PAHNAPLSIIGYIR”<br>Write the code that will take a string and make this conversion given a number of rows:<br>string convert(string text, int nRows);<br>convert(“PAYPALISHIRING”, 3) should return “PAHNAPLSIIGYIR”.</p>
<h3 id="Solution-2">Solution</h3>
<p>Each group of words are 2*nRows-2, we add the String row by row. Be careful about first and last row:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">convert</span>(String s, <span class="keyword">int</span> nRows) {</div><div class="line">        <span class="keyword">int</span> nCol=<span class="number">0</span>,size=<span class="number">2</span>*nRows-<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(s==<span class="keyword">null</span> || nRows==<span class="number">1</span>) <span class="keyword">return</span> s; </div><div class="line">        StringBuilder res=<span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="comment">//add char to stringbuilder row by row</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nRows;i++){</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;s.length();j+=size){</div><div class="line">                res.append(s.charAt(j));</div><div class="line">                <span class="keyword">if</span>(i!=<span class="number">0</span> && i!=nRows-<span class="number">1</span> && j+size-<span class="number">2</span>*i&lt;s.length())</div><div class="line">                res.append(s.charAt(j+size-<span class="number">2</span>*i));</div><div class="line">            }    </div><div class="line">        }</div><div class="line">         <span class="keyword">return</span> res.toString();</div><div class="line">    }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fbrightlights333%2Fhow-you-love-me-feat-bright&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>



        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/String/"> #String </a>
          
            <a href="/tags/Math/"> #Math </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/2.3/">
                Majority Element, Gray Code
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/2.3/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/2.3/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Majority_Element">Majority Element</h2>
<blockquote>
<p>Given an array of size n, find the majority element. The majority element is the element that appears more than ⌊ n/2 ⌋ times.<br>You may assume that the array is non-empty and the majority element always exist in the array.</p>
</blockquote>
<h3 id="Two_pass_solution">Two pass solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">majorityElement</span>(<span class="keyword">int</span>[] num) {</div><div class="line">    <span class="keyword">int</span> n=num.length;</div><div class="line">    HashMap&lt;Integer, Integer&gt; map=<span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++){</div><div class="line">        <span class="keyword">if</span>(!map.containsKey(num[i])) map.put(num[i], <span class="number">1</span>);</div><div class="line">        <span class="keyword">else</span> map.put(num[i], map.get(num[i])+<span class="number">1</span>);</div><div class="line">        <span class="keyword">if</span>(map.get(num[i])&gt;=(n/<span class="number">2</span>)+<span class="number">1</span>) <span class="keyword">return</span> num[i];</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Moore_voting_algorithm">Moore voting algorithm</h3>
<p>Basic idea of the algorithm is if we cancel out each occurrence of an element e with all the other elements that are different from e then e will exist till end if it is a majority element. This takes O(n) time.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">majorityElement</span>(<span class="keyword">int</span>[] num) {</div><div class="line">    <span class="keyword">int</span> n=num.length, count=<span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> tmp=num[<span class="number">0</span>];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++){</div><div class="line">        <span class="keyword">if</span>(count==<span class="number">0</span>) {tmp=num[i];count++;}</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(num[i]==tmp) count++;</div><div class="line">        <span class="keyword">else</span> count--;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> tmp;     </div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Gray_Code">Gray Code</h2>
<blockquote>
<p>The gray code is a binary numeral system where two successive values differ in only one bit.<br>Given a non-negative integer n representing the total number of bits in the code, print the sequence of gray code. A gray code sequence must begin with 0.<br>For example, given n = 2, return [0,1,3,2]. Its gray code sequence is:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">00 - 0</div><div class="line">01 - 1</div><div class="line">11 - 3</div><div class="line">10 - 2</div></pre></td></tr></table></figure>

<p>Note:<br>For a given n, a gray code sequence is not uniquely defined.<br>For example, [0,2,3,1] is also a valid gray code sequence according to the above definition.<br>For now, the judge is able to judge based on one instance of gray code sequence. Sorry about that.</p>
<h3 id="Recursive_solution">Recursive solution</h3>
<p>For 3 bit case: [0,1,3,2,6,7,5,4], we found that the first four numbers in case n=3 are the same as the the numbers in case n=2. Besides, [6,7,5,4] = [2+4,3+4,1+4,0+4].</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">grayCode</span>(<span class="keyword">int</span> n) {</div><div class="line">    List&lt;Integer&gt; ret = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) {</div><div class="line">        ret.add(<span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    }</div><div class="line">    </div><div class="line">    ret = grayCode(n - <span class="number">1</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = ret.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</div><div class="line">        <span class="keyword">int</span> num = ret.get(i);</div><div class="line">        num += <span class="number">1</span> &lt;&lt; (n - <span class="number">1</span>);</div><div class="line">        ret.add(num);</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Iterative_Solution">Iterative Solution</h3>
<p>Use the above mentioned mirror image property:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">grayCode</span>(<span class="keyword">int</span> n) {</div><div class="line">  ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">  <span class="keyword">if</span> (n == <span class="number">0</span>) {</div><div class="line">    result.add(<span class="number">0</span>);</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  }</div><div class="line">  ;</div><div class="line">  result.add(<span class="number">0</span>);</div><div class="line">  result.add(<span class="number">1</span>);</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</div><div class="line">    ArrayList&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(result);</div><div class="line">    Integer a = <span class="number">1</span> &lt;&lt; i;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = result.size() - <span class="number">1</span>; k &gt;= <span class="number">0</span>; k--) {</div><div class="line">      tmp.add(result.get(k) + a);</div><div class="line">    }</div><div class="line">    result = tmp;</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fprotocolrecordings%2Ftritonal-paris-blohm-ft&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>




        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Bit-Manipulation/"> #Bit Manipulation </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.9/">
                Reverse Integer, Reverse Linked List I, Reverse Linked List II, Reverse Nodes in k-Group, Rotate List
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.9/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.9/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Reverse_Integer">Reverse Integer</h2>
<blockquote>
<p>Reverse digits of an integer.<br>Example1: x = 123, return 321<br>Example2: x = -123, return -321<br>Have you thought about this?<br>Here are some good questions to ask before coding. Bonus points for you if you have already thought through this!<br>If the integer’s last digit is 0, what should the output be? ie, cases such as 10, 100.<br>Did you notice that the reversed integer might overflow? Assume the input is a 32-bit integer, then the reverse of 1000000003 overflows. How should you handle such cases?<br>For the purpose of this problem, assume that your function returns 0 when the reversed integer overflows.<br>Update (2014-11-10):<br>Test cases had been added to test the overflow behavior.</p>
</blockquote>
<h3 id="First_Solution:">First Solution:</h3>
<p>First I thought of converting int to string then use two pointer to reverse the number, but we need to pay attention to the two sepcial cases mentioned above. I will update that solution after I solved ‘reverse string’ problem.<br>The following solution uses only one parameter x, we get each digit by computing x%10 and add it to result, then we multiply result with 10 each round. This method deal with first special case of last digit 0 itself, but didn’t pass OJ because of overflows.  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reverse</span>(<span class="keyword">int</span> x) {</div><div class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(x!=<span class="number">0</span>){</div><div class="line">            res=x%<span class="number">10</span>+res*<span class="number">10</span>;</div><div class="line">            x=x/<span class="number">10</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    }</div></pre></td></tr></table></figure>

<h3 id="Correct_Solution:">Correct Solution:</h3>
<p>After running a few tests, I figured the overflow probelm occurs when we try to add to Integer.MAX_VALUE(2^32-1), or subtract from Integer.MIN_VALUE(-2^32), this would cause number jump from minus to positive and therefore wrong output.<br>So first we record the sign of the number, and use ABS(x) to compute the ABS of reversed int, during which we check if the new res&gt;Integer.MAX_VALUE,moving res to one side is a really clever trick. At last, output the right sign of result. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reverse</span>(<span class="keyword">int</span> x) {</div><div class="line">       <span class="keyword">int</span> res=<span class="number">0</span>,num=Math.abs(x);</div><div class="line">       <span class="keyword">boolean</span> sign=x&gt;<span class="number">0</span>? <span class="keyword">true</span>:<span class="keyword">false</span>;</div><div class="line">       <span class="keyword">while</span>(num!=<span class="number">0</span>){</div><div class="line">       <span class="comment">//check if res&gt;Integer.MAX_VALUE</span></div><div class="line">        <span class="keyword">if</span>(res&gt;(Integer.MAX_VALUE-num%<span class="number">10</span>)/<span class="number">10</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">           res=num%<span class="number">10</span>+res*<span class="number">10</span>;</div><div class="line">           num=num/<span class="number">10</span>;</div><div class="line">       } </div><div class="line">       <span class="keyword">return</span> sign? res:-res;</div><div class="line">   }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Reverse_Linked_List_II">Reverse Linked List II</h2>
<blockquote>
<p>Reverse a linked list from position m to n. Do it in-place and in one-pass.<br>For example:<br>Given 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2 and n = 4,<br>return 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL.<br>Note:<br>Given m, n satisfy the following condition:<br>1 ≤ m ≤ n ≤ length of list.</p>
</blockquote>
<h3 id="Reverse_a_Singly_LinkedList">Reverse a Singly LinkedList</h3>
<p>First I thought of solving this problem: reverse 1-&gt;2-&gt;3 to 3-&gt;2-&gt;1.</p>
<p>Naive solution is to use a stack and reconstruct the list:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title">reverse</span>(ListNode head) {</div><div class="line">  Stack&lt;ListNode&gt; stack = <span class="keyword">new</span> Stack&lt;ListNode&gt;();</div><div class="line">  <span class="keyword">while</span> (head != <span class="keyword">null</span>) {</div><div class="line">    stack.add(head);</div><div class="line">    head = head.next;</div><div class="line">  }</div><div class="line">  ListNode current = stack.pop();</div><div class="line">  head = current;</div><div class="line">  <span class="keyword">while</span> (!stack.empty()) {</div><div class="line">    ListNode next = stack.pop();</div><div class="line">    current.next=next;</div><div class="line">    current = next;</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> head;  </div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Better_solution:">Better solution:</h3>
<li>We need to update each node.next</li>

<li>Before that, we need to record the original node.next to continue</li>

<li>Use two pointers, pre to the previous element, and post to the next element</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">reverse</span>(ListNode head){</div><div class="line">  ListNode pre=<span class="keyword">null</span>,post=<span class="keyword">null</span>,cur=head;</div><div class="line">  <span class="keyword">while</span>(cur!=<span class="keyword">null</span>){</div><div class="line">    post=cur.next;</div><div class="line">    cur.next=pre;</div><div class="line">    pre=cur;</div><div class="line">    cur=post;</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> pre;</div><div class="line">}</div></pre></td></tr></table></figure>

<p><a href="http://blog.csdn.net/beiyetengqing/article/details/7596554" target="_blank" rel="external">Iterative Method</a> are even more efficent, but harder to understand…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">reverse</span>(ListNode head){</div><div class="line">  ListNode cur=head;</div><div class="line">  <span class="keyword">if</span>(cur==<span class="keyword">null</span>||cur.next==<span class="keyword">null</span>)</div><div class="line">    <span class="keyword">return</span> cur;</div><div class="line">  ListNode post=cur.next;</div><div class="line">  cur.next=<span class="keyword">null</span>;</div><div class="line">  <span class="comment">//rest is the last element, the new head</span></div><div class="line">  ListNode rest=reverse(post);</div><div class="line">  <span class="comment">//update node.next</span></div><div class="line">  post.next=cur;</div><div class="line">  <span class="keyword">return</span> rest;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Correct_Solution:-1">Correct Solution:</h3>
<p>Different from reverse a Singly LinkedList, we now only need to reverse a part of it (m to n). We use the following pointers:</p>
<li>preM: the last node before m</li>

<li>pre: the last node among the part already reversed. Dont’t need to be udpated, as it always points to the same node</li>

<li>cur: the node we want to add after PreM, in other words, the first node among the part already reversed. Need to be set to pre.next</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">  <span class="keyword">public</span> ListNode <span class="title">reverseBetween</span>(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n){</div><div class="line">  ListNode pre=<span class="keyword">null</span>,post=<span class="keyword">null</span>;</div><div class="line">  ListNode dummy=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</div><div class="line">  dummy.next=head;</div><div class="line">  ListNode preM=dummy,cur=<span class="keyword">null</span>;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>;i&lt;=n;i++){</div><div class="line">    <span class="keyword">if</span>(i&lt;m)</div><div class="line">      preM=preM.next;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(i==m){</div><div class="line">      pre=preM.next;</div><div class="line">      cur=pre.next;</div><div class="line">    }</div><div class="line">    <span class="keyword">else</span>{</div><div class="line">      pre.next=cur.next;</div><div class="line">      <span class="comment">//made a mistake here by cur.next=pre; </span></div><div class="line">      cur.next=preM.next;</div><div class="line">      preM.next=cur;</div><div class="line">      cur=pre.next;</div><div class="line">    }</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> dummy.next;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Reverse_Nodes_in_k-Group">Reverse Nodes in k-Group</h2>
<blockquote>
<p>Given a linked list, reverse the nodes of a linked list k at a time and return its modified list.<br>If the number of nodes is not a multiple of k then left-out nodes in the end should remain as it is.<br>You may not alter the values in the nodes, only nodes itself may be changed.<br>Only constant memory is allowed.<br>For example,<br>Given this linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5<br>For k = 2, you should return: 2-&gt;1-&gt;4-&gt;3-&gt;5<br>For k = 3, you should return: 3-&gt;2-&gt;1-&gt;4-&gt;5</p>
</blockquote>
<h3 id="Iterative_Solution:">Iterative Solution:</h3>
<p>We use the sub-process of reverse(ListNode start,ListNode end), while we scan through the list, keep three pointers:</p>
<li>pref: breakpoint for different groups.</li>

<li>start: first node of current group. Initialized as node 1</li>

<li>end: last node of current group</li>

<p>Each round we:</p>
<li>move pref to position, set start and end pointer</li>

<li>reverse current group, link last node to the rest</li>

<li>link pref to the returned head, and repeat</li>

<p>This is One Pass O(n) solution.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span>(ListNode head, <span class="keyword">int</span> k) {</div><div class="line">  ListNode dummy=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</div><div class="line">  dummy.next=head;</div><div class="line">  ListNode pref=dummy, start, end;</div><div class="line">  <span class="keyword">while</span>(pref!=<span class="keyword">null</span>){</div><div class="line">    start=pref.next;</div><div class="line">    end=pref;</div><div class="line">    <span class="comment">//move end pointer K times, pointing to kth node</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++){</div><div class="line">      end=end.next;</div><div class="line">      <span class="comment">//last nodes not enough for a group</span></div><div class="line">      <span class="keyword">if</span>(end==<span class="keyword">null</span>) <span class="keyword">return</span> dummy.next;</div><div class="line">    }</div><div class="line">    <span class="comment">//link pref with head of reversed group</span></div><div class="line">    pref.next=reverse(start,end);</div><div class="line">    <span class="comment">//move pref pointer K times, pointing to the node before next group</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;k;j++){pref=pref.next;}</div><div class="line">  } <span class="keyword">return</span> dummy.next;</div><div class="line">}</div><div class="line"><span class="keyword">public</span> ListNode <span class="title">reverse</span>(ListNode start,ListNode end){</div><div class="line">  ListNode post=end.next,tmp;</div><div class="line">  ListNode pre=start,cur=start.next;</div><div class="line">  <span class="comment">//inside this group</span></div><div class="line">  <span class="keyword">while</span>(cur!=post){</div><div class="line">     tmp=cur.next;</div><div class="line">     cur.next=pre;</div><div class="line">     pre=cur;</div><div class="line">     cur=tmp;</div><div class="line">  }</div><div class="line">  <span class="comment">//don't forget to link end of reversed group with the rest nodes</span></div><div class="line">  start.next=post;</div><div class="line">  <span class="keyword">return</span> pre;</div><div class="line">}</div></pre></td></tr></table></figure>

<h2 id="Two_Pass_Solution:">Two Pass Solution:</h2>
<p>I first thought of this solution, but wasn’t careful enough with the details…</p>
<li>First scan through the list and get the number of groups</li>

<li>For each group i smaller than num, use an inner loop to do the following:</li>

<li>reverse each group, keep curhead and curtail as inner group pointers, move cur to first node outside of group</li>

<li>if is the first group, we update head and let tail=curtail, in other rounds we just attach curhead to tail.</li>

<li>At last, don’t forget to attach the leftover nodes curtail.next=cur</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span>(ListNode head,<span class="keyword">int</span> k){</div><div class="line">  <span class="keyword">if</span>(k==<span class="number">0</span>||k==<span class="number">1</span>) <span class="keyword">return</span> head;</div><div class="line">  ListNode count=head;</div><div class="line">  <span class="keyword">int</span> n=<span class="number">0</span>;</div><div class="line">  <span class="keyword">while</span>(count!=<span class="keyword">null</span>){count=count.next;n++;}</div><div class="line">  <span class="keyword">int</span> num=n/k;</div><div class="line">  <span class="keyword">if</span>(num==<span class="number">0</span>) <span class="keyword">return</span> head;</div><div class="line">  ListNode curtail=<span class="keyword">null</span>, curhead=<span class="keyword">null</span>, tail=<span class="keyword">null</span>, pre=<span class="keyword">null</span>, cur,tmp=<span class="keyword">null</span>;</div><div class="line">  cur=head;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num;i++){</div><div class="line">    pre=<span class="keyword">null</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;k;j++){</div><div class="line">      <span class="keyword">if</span>(cur!=<span class="keyword">null</span>){</div><div class="line">        tmp=cur.next;</div><div class="line">        cur.next=pre;</div><div class="line">        pre=cur;</div><div class="line">      }</div><div class="line">      <span class="keyword">if</span>(j==<span class="number">0</span>) curtail=cur;</div><div class="line">      <span class="keyword">if</span>(j==(k-<span class="number">1</span>)) curhead=cur;</div><div class="line">      cur=tmp;</div><div class="line">    }</div><div class="line">    <span class="keyword">if</span>(tail==<span class="keyword">null</span>) head=curhead;</div><div class="line">    <span class="keyword">else</span> tail.next=curhead;</div><div class="line">    tail=curtail;</div><div class="line">  }</div><div class="line">  curtail.next=cur;</div><div class="line">  <span class="keyword">return</span> head;</div><div class="line">}</div></pre></td></tr></table></figure>

<h2 id="Rotate_List">Rotate List</h2>
<blockquote>
<p>Given a list, rotate the list to the right by k places, where k is non-negative.<br>For example:<br>Given 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL and k = 2,<br>return 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL.</p>
</blockquote>
<h3 id="Naive_Solution">Naive Solution</h3>
<p>First count the length of list, link the last node with head to form a loop. Now cur is pointing to the last node, we use a for loop to move it to (n-k)th node, and break the loop there. At last, return (n-k).next as new head.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> ListNode <span class="title">rotateRight</span>(ListNode head, <span class="keyword">int</span> n) {</div><div class="line">     <span class="keyword">int</span> k=<span class="number">1</span>;</div><div class="line">     ListNode cur=head;</div><div class="line">     <span class="keyword">if</span>(cur==<span class="keyword">null</span>||cur.next==<span class="keyword">null</span>||n==<span class="number">0</span>) <span class="keyword">return</span> head;</div><div class="line">     <span class="keyword">while</span>(cur.next!=<span class="keyword">null</span>){cur=cur.next;k++;}</div><div class="line">     cur.next=head;</div><div class="line">     <span class="comment">//set n to the position of new head in the original list</span></div><div class="line">     n=n%k;</div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k-n;i++){</div><div class="line">         cur=cur.next;</div><div class="line">     }</div><div class="line">     head=cur.next;</div><div class="line">     cur.next=<span class="keyword">null</span>;</div><div class="line">     <span class="keyword">return</span> head;</div><div class="line"> }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fprinzegeorge%2Fvictor-1&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>



        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/LinkedList/"> #LinkedList </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.6/">
                Substring with Concatenation of All Words, Longest Substring Without Repeating Characters, Minimum Window Substring, Longest Palindromic Substring
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.6/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.6/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Substring_with_Concatenation_of_All_Words">Substring with Concatenation of All Words</h2>
<blockquote>
<p>You are given a string, S, and a list of words, L, that are all of the same length. Find all starting indices of substring(s) in S that is a concatenation of each word in L exactly once and without any intervening characters.<br>For example, given:<br>S: “barfoothefoobarman”<br>L: [“foo”, “bar”]<br>You should return the indices: [0,9].<br>(order does not matter).</p>
</blockquote>
<h3 id="Brute_Force_Solution">Brute Force Solution</h3>
<p>Two Hashmaps</p>
<li>rest: store all words in L, including times of appreance</li>

<li>found: renew at each round, store matched words, including times of appreance</li>

<p>Two pointers</p>
<li>i: starting index of current substring</li>

<li>j: numebers of words matched to current substring</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">findSubstring</span>(String S, String[] L) {</div><div class="line">     ArrayList&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">     HashMap&lt;String, Integer&gt; rest=<span class="keyword">new</span>  HashMap&lt;String, Integer&gt;();</div><div class="line">     HashMap&lt;String, Integer&gt; found=<span class="keyword">new</span>  HashMap&lt;String, Integer&gt;();</div><div class="line">     <span class="keyword">if</span>(S==<span class="keyword">null</span>||L.length==<span class="number">0</span>) <span class="keyword">return</span> res;</div><div class="line">     <span class="keyword">int</span> wordlen=L[<span class="number">0</span>].length(), Llen=L.length, Slen=S.length();</div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;L.length;i++){</div><div class="line">         <span class="keyword">int</span> num=<span class="number">1</span>;</div><div class="line">         <span class="keyword">if</span>(rest.get(L[i])!=<span class="keyword">null</span>) </div><div class="line">             num+=rest.get(L[i]);</div><div class="line">         rest.put(L[i], num);</div><div class="line">     }</div><div class="line">    </div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;Slen-Llen*wordlen+<span class="number">1</span>;i++){</div><div class="line">         <span class="keyword">int</span> j=<span class="number">0</span>;</div><div class="line">         found.clear();</div><div class="line">         <span class="keyword">for</span>(;j&lt;Llen;j++){</div><div class="line">             <span class="keyword">int</span> start=i+j*wordlen;</div><div class="line">             <span class="keyword">int</span> end=start+wordlen;</div><div class="line">             <span class="keyword">int</span> num=<span class="number">1</span>;</div><div class="line">             String tmp=S.substring(start, end);</div><div class="line">             <span class="keyword">if</span>(!rest.containsKey(tmp)) <span class="keyword">break</span>;</div><div class="line">             <span class="keyword">if</span>(found.get(tmp)!=<span class="keyword">null</span>) num+=found.get(tmp);</div><div class="line">             <span class="keyword">if</span>(num&gt;rest.get(tmp)) <span class="keyword">break</span>;</div><div class="line">             found.put(tmp, num);</div><div class="line">         }</div><div class="line">         <span class="keyword">if</span>(j==Llen) res.add(i);</div><div class="line">     }</div><div class="line">     <span class="keyword">return</span> res;   </div><div class="line"> }</div></pre></td></tr></table></figure>

<p><a href="http://www.cnblogs.com/springfor/p/3872516.html" target="_blank" rel="external">Minimun Window Solution</a></p>
<li>outer loop: i increment wordlen times, each time scan through S</li>

<li>inner loop: j increment wordlen per time, until first letter of last word</li>

<li>each outerloop: reset count=0, reset index=i</li>

<li>each innerloop: curdict to store current window</li>

<p>If tmp str not found in dict, increment index, reset count and curdict<br>If found, add to curdict, count++<br>before count++: compare num, if exceeded, increment index ,then decrement count and curdict<br>If count equals listlen add index into result, increment index, update curdict</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Integer&gt; <span class="title">findSubstring</span>(String S, String[] L) { </div><div class="line">  ArrayList&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">  <span class="keyword">if</span>(S==<span class="keyword">null</span>||L==<span class="keyword">null</span>||S.length()==<span class="number">0</span>||L.length==<span class="number">0</span>)</div><div class="line">     <span class="keyword">return</span> res;</div><div class="line">  <span class="keyword">int</span> wordLen = L[<span class="number">0</span>].length();<span class="comment">//same length for each word in dictionary</span></div><div class="line">  </div><div class="line">  <span class="comment">//put given dictionary into hashmap with each word's count</span></div><div class="line">  HashMap&lt;String, Integer&gt; dict = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</div><div class="line">  <span class="keyword">for</span>(String word: L){</div><div class="line">      <span class="keyword">if</span>(!dict.containsKey(word))</div><div class="line">         dict.put(word, <span class="number">1</span>);</div><div class="line">      <span class="keyword">else</span></div><div class="line">         dict.put(word, dict.get(word) + <span class="number">1</span>);</div><div class="line">  }</div><div class="line">  </div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; wordLen; i++){</div><div class="line">      <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line">      <span class="keyword">int</span> index = i;<span class="comment">//index of each startpoint</span></div><div class="line">      HashMap&lt;String, Integer&gt; curdict = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</div><div class="line">      <span class="comment">//till the first letter of last word </span></div><div class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt;= S.length() - wordLen; j += wordLen){</div><div class="line">          String curWord = S.substring(j, j + wordLen);</div><div class="line">          <span class="comment">//check each word to tell if it existes in give dictionary</span></div><div class="line">          <span class="keyword">if</span>(!dict.containsKey(curWord)){</div><div class="line">              curdict.clear();</div><div class="line">              count = <span class="number">0</span>;</div><div class="line">              index = j + wordLen;</div><div class="line">          }<span class="keyword">else</span>{</div><div class="line">              <span class="comment">//form current dictionary</span></div><div class="line">              <span class="keyword">if</span>(!curdict.containsKey(curWord))</div><div class="line">                 curdict.put(curWord, <span class="number">1</span>);</div><div class="line">              <span class="keyword">else</span></div><div class="line">                 curdict.put(curWord, curdict.get(curWord) + <span class="number">1</span>);</div><div class="line">              </div><div class="line">              <span class="comment">//count for current found word and check if it exceed given word count</span></div><div class="line">              <span class="keyword">if</span>(curdict.get(curWord) &lt;= dict.get(curWord)){</div><div class="line">                  count++;</div><div class="line">              }<span class="keyword">else</span>{</div><div class="line">                <span class="keyword">while</span>(curdict.get(curWord) &gt; dict.get(curWord)){</div><div class="line">                     String temp = S.substring(index, index + wordLen);</div><div class="line">                     curdict.put(temp, curdict.get(temp)-<span class="number">1</span>);</div><div class="line">                     index = index + wordLen;<span class="comment">//make index move next</span></div><div class="line">                     <span class="keyword">if</span>(curdict.get(temp)&lt;dict.get(temp))</div><div class="line">                     count--;</div><div class="line">                 }</div><div class="line">              }</div><div class="line">              </div><div class="line">              <span class="comment">//put into res and move index point to nextword </span></div><div class="line">              <span class="comment">//and update current dictionary as well as count num</span></div><div class="line">              <span class="keyword">if</span>(count == L.length){</div><div class="line">                  res.add(index);</div><div class="line">                  String temp = S.substring(index, index + wordLen);</div><div class="line">                  curdict.put(temp, curdict.get(temp)-<span class="number">1</span>);</div><div class="line">                  index = index + wordLen;</div><div class="line">                  count--;</div><div class="line">              }</div><div class="line">          }</div><div class="line">      }<span class="comment">//end for j</span></div><div class="line">  }<span class="comment">//end for i</span></div><div class="line">   <span class="keyword">return</span> res;</div><div class="line"> }</div></pre></td></tr></table></figure>

<h2 id="Longest_Substring_Without_Repeating_Characters">Longest Substring Without Repeating Characters</h2>
<blockquote>
<p>Given a string, find the length of the longest substring without repeating characters. For example, the longest substring without repeating letters for “abcabcbb” is “abc”, which the length is 3. For “bbbbb” the longest substring is “b”, with the length of 1.</p>
</blockquote>
<h3 id="Brute_force_method">Brute force method</h3>
<p>Find all substrings and check if each of it contains only unique characters. As for the maxlength, we use Greedy Algorithm to only keep the longest substring seen so far. There are one inner loop and each check takes linear time, O(N^2) time won’t pass the OJ.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span>(String s) {</div><div class="line"><span class="keyword">if</span>(s==<span class="keyword">null</span>||s.length()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> maxlen=<span class="number">1</span>;</div><div class="line">Hashtable &lt;Character, Boolean&gt; map=<span class="keyword">new</span> Hashtable&lt;Character, Boolean&gt;();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt; s.length();i++){</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;s.length();j++){</div><div class="line">        <span class="keyword">if</span>(map.containsKey(s.charAt(j))){map.clear(); <span class="keyword">break</span>;}</div><div class="line">        <span class="keyword">else</span>{map.put(s.charAt(j), <span class="keyword">false</span>);}</div><div class="line">        <span class="keyword">int</span> len=map.size();</div><div class="line">        <span class="keyword">if</span>(len&gt;maxlen){maxlen=len;}</div><div class="line">    }</div><div class="line">}</div><div class="line">    <span class="keyword">return</span> maxlen;</div><div class="line">}</div></pre></td></tr></table></figure>

<p><a href="http://www.geeksforgeeks.org/length-of-the-longest-substring-without-repeating-characters/" target="_blank" rel="external">Better Solution</a><br>Use a Hashmap/Hashset recording current substring and two pointers to record current positions.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span>(String s) {</div><div class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span>||s.length()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> maxlen=<span class="number">1</span>,l=<span class="number">0</span>,r=<span class="number">0</span>;</div><div class="line">        Hashtable &lt;Character, Boolean&gt; map=<span class="keyword">new</span> Hashtable&lt;Character, Boolean&gt;();</div><div class="line">        <span class="keyword">while</span>(r&lt;s.length()){</div><div class="line">            <span class="keyword">char</span> tmp=s.charAt(r);</div><div class="line">            <span class="keyword">if</span>(!map.containsKey(tmp)||map.get(tmp)==<span class="keyword">false</span>){</div><div class="line">                map.put(tmp, <span class="keyword">true</span>);</div><div class="line">                maxlen=Math.max((r-l+<span class="number">1</span>), maxlen);</div><div class="line">            }</div><div class="line">            <span class="keyword">else</span>{</div><div class="line">                <span class="keyword">while</span>(s.charAt(l)!=s.charAt(r)){map.put(s.charAt(l), <span class="keyword">false</span>);l++;}</div><div class="line">                l++;</div><div class="line">            }</div><div class="line">            r++;</div><div class="line">        }</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> maxlen;</div><div class="line">}</div></pre></td></tr></table></figure>

<h2 id="Minimum_Window_Substring">Minimum Window Substring</h2>
<blockquote>
<p>Given a string S and a string T, find the minimum window in S which will contain all the characters in T in complexity O(n).<br>For example,<br>S = “ADOBECODEBANC”<br>T = “ABC”<br>Minimum window is “BANC”.<br>Note:<br>If there is no such window in S that covers all characters in T, return the emtpy string “”.<br>If there are multiple such windows, you are guaranteed that there will always be only one unique minimum window in S.</p>
</blockquote>
<h3 id="Min_Sliding_Window_Solution"><a href="http://blog.csdn.net/linhuanmars/article/details/20343903" target="_blank" rel="external">Min Sliding Window Solution</a></h3>
<li>Use a Hashmap to record each character, numbers in T</li>

<li>Two pointers:</li><br>left: increment when current substring contains all chars in T, pass unrelevant chars and exceeded chars<br>right: increment each loop, if found a match in T decrement its Hashmap value<br><br><li>Minlen: when we found a new substring update minlength</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">minWindow</span>(String S, String T) {</div><div class="line">    HashMap&lt;Character,Integer&gt; dict=<span class="keyword">new</span> HashMap&lt;Character,Integer&gt;();</div><div class="line">    <span class="keyword">int</span> tlen=T.length(), slen=S.length(),minlen=slen+<span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tlen;i++){</div><div class="line">        <span class="keyword">int</span> num=<span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span>(dict.containsKey(T.charAt(i))) num+=dict.get(T.charAt(i));</div><div class="line">        dict.put(T.charAt(i),num);</div><div class="line">    }</div><div class="line">    <span class="keyword">int</span> count=<span class="number">0</span>,left=<span class="number">0</span>,start=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;slen;i++){</div><div class="line">        <span class="keyword">if</span>(dict.containsKey(S.charAt(i))){</div><div class="line">            dict.put(S.charAt(i),dict.get(S.charAt(i))-<span class="number">1</span>);</div><div class="line">            <span class="keyword">if</span>(dict.get(S.charAt(i))&gt;=<span class="number">0</span>) count++;</div><div class="line">            <span class="keyword">if</span>(count==tlen){</div><div class="line">                <span class="keyword">while</span>(count==tlen){</div><div class="line">                    <span class="keyword">if</span>(i-left+<span class="number">1</span>&lt;minlen){minlen=i-left+<span class="number">1</span>; start=left; }</div><div class="line">                    <span class="keyword">if</span>(dict.containsKey(S.charAt(left))) {</div><div class="line">                         dict.put(S.charAt(left),dict.get(S.charAt(left))+<span class="number">1</span>);</div><div class="line">                         <span class="keyword">if</span>(dict.get(S.charAt(left))&gt;<span class="number">0</span>) count--;</div><div class="line">                    }</div><div class="line">                    left++;</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    </div><div class="line">     <span class="keyword">return</span> minlen&gt;slen? <span class="string">""</span>:S.substring(start,start+minlen);</div><div class="line">    </div><div class="line">}</div></pre></td></tr></table></figure>

<p>Another version using <a href="http://www.lifeincode.net/programming/leetcode-minimum-window-substring-java/" target="_blank" rel="external">two hashmaps</a>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">minWindow</span>(String S, String T) {</div><div class="line">    HashMap&lt;Character, Integer&gt; dict = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; T.length(); i++) {</div><div class="line">        <span class="keyword">char</span> c = T.charAt(i);</div><div class="line">        <span class="keyword">if</span> (!dict.containsKey(c))</div><div class="line">            dict.put(c, <span class="number">1</span>);</div><div class="line">        <span class="keyword">else</span></div><div class="line">            dict.put(c, dict.get(c) + <span class="number">1</span>);</div><div class="line">    }</div><div class="line">    HashMap&lt;Character, Integer&gt; found = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">int</span> foundCounter = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> start = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> end = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> min = Integer.MAX_VALUE;</div><div class="line">    String minWindow = <span class="string">""</span>;</div><div class="line">    <span class="keyword">while</span> (end &lt; S.length()) {</div><div class="line">        <span class="keyword">char</span> c = S.charAt(end);</div><div class="line">        <span class="keyword">if</span> (dict.containsKey(c)) {</div><div class="line">            <span class="keyword">if</span> (found.containsKey(c)) {</div><div class="line">                <span class="keyword">if</span> (found.get(c) &lt; dict.get(c))</div><div class="line">                    foundCounter++;</div><div class="line">                found.put(c, found.get(c) + <span class="number">1</span>);</div><div class="line">            } <span class="keyword">else</span> {</div><div class="line">                found.put(c, <span class="number">1</span>);</div><div class="line">                foundCounter++;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">if</span> (foundCounter == T.length()) {</div><div class="line">            <span class="comment">//When foundCounter equals to T.length(), in other words, found all characters.</span></div><div class="line">            <span class="keyword">char</span> sc = S.charAt(start);</div><div class="line">            <span class="keyword">while</span> (!found.containsKey(sc) || found.get(sc) &gt; dict.get(sc)) {</div><div class="line">                <span class="keyword">if</span> (found.containsKey(sc) && found.get(sc) &gt; dict.get(sc))</div><div class="line">                    found.put(sc, found.get(sc) - <span class="number">1</span>);</div><div class="line">                start++;</div><div class="line">                sc = S.charAt(start);</div><div class="line">            }</div><div class="line">            <span class="keyword">if</span> (end - start + <span class="number">1</span> &lt; min) {</div><div class="line">                minWindow = S.substring(start, end + <span class="number">1</span>);</div><div class="line">                min = end - start + <span class="number">1</span>;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        end++;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> minWindow;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Array_Solution">Array Solution</h3>
<p>To count occurrence of characters, instead of using a hash map, can use an int array of 256<br>Two pointer method with one point to end and one point to start.<br>Pointer advance condition: move end forward till finds one window, then move start forward till the window no longer valid</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> String <span class="title">minWindow</span>(String S, String T) {</div><div class="line">        <span class="keyword">int</span>[] map=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>],found=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</div><div class="line">        <span class="keyword">int</span> start=<span class="number">0</span>, count=<span class="number">0</span>,end=<span class="number">0</span>,minlen=S.length()+<span class="number">1</span>,tlen=T.length(),slen=S.length();</div><div class="line">        String min=<span class="string">""</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tlen; i++){</div><div class="line">            map[T.charAt(i)]++;</div><div class="line">        }</div><div class="line">        <span class="keyword">for</span>(;end&lt;slen;end++){</div><div class="line">            <span class="keyword">if</span>(map[S.charAt(end)]&gt;found[S.charAt(end)]) {count++;}</div><div class="line">            found[S.charAt(end)]++;</div><div class="line">            <span class="keyword">if</span>(count==T.length()){</div><div class="line">                <span class="keyword">while</span>(found[S.charAt(start)]&gt;map[S.charAt(start)])</div><div class="line">                {   found[S.charAt(start)]--;</div><div class="line">                    start++;</div><div class="line">                }</div><div class="line">                <span class="keyword">if</span>(end-start+<span class="number">1</span>&lt;minlen) {minlen=end-start+<span class="number">1</span>; min = S.substring(start, end+<span class="number">1</span>);</div><div class="line">}</div><div class="line">                found[S.charAt(start)]--;</div><div class="line">                start++;</div><div class="line">                count--;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> min;</div><div class="line">    }</div></pre></td></tr></table></figure>

<h2 id="Longest_Palindromic_Substring">Longest Palindromic Substring</h2>
<blockquote>
<p>Given a string S, find the longest palindromic substring in S. You may assume that the maximum length of S is 1000, and there exists one unique longest palindromic substring.</p>
</blockquote>
<h3 id="Brute_Force_Solution-1">Brute Force Solution</h3>
<p>Find all possible substrings and check if each is palindrome. O(N^3) too LTE…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">longestPalindrome</span>(String s) {</div><div class="line">       <span class="keyword">int</span> maxlen=<span class="number">0</span>; </div><div class="line">       String maxstr=<span class="keyword">null</span>;</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++){</div><div class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;s.length();j++){</div><div class="line">               String tmp=s.substring(i,j+<span class="number">1</span>);</div><div class="line">               <span class="keyword">if</span>(IsPalindrome(tmp)&&tmp.length()&gt;maxlen)</div><div class="line">                   {</div><div class="line">                   maxlen=tmp.length();</div><div class="line">                   maxstr=tmp;}</div><div class="line">           }</div><div class="line">       }<span class="keyword">return</span> maxstr;</div><div class="line">   }</div><div class="line"> </div><div class="line"> <span class="keyword">public</span> Boolean <span class="title">IsPalindrome</span>(String s) {</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++){</div><div class="line">       <span class="keyword">if</span>(s.charAt(i)!=s.charAt(s.length()-<span class="number">1</span>-i)) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">       } <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">   }</div></pre></td></tr></table></figure>

<h3 id="DP_Solution">DP Solution</h3>
<p>Time O(n^2) Space O(n^2) but didn’t pass OJ. Why?<br>Three rounds of loops:</p>
<li>set diagonal to 1: t[i][i]=0</li><br><li>set top-right second diagonal: t[i][i+1]=1 if two consecutive character</li><br><li>set whole table [diagonaly]</li><br><li>a. start from substring length 3 to full length</li><br><li>b. inner loop: from 0 to length-len, check substring(i, i+len), set t[i][i+len-1] according to changing rule:</li><br><li>c. If s.charAt(i) == s.charAt(j) then t[i][j] = t[i + 1][j - 1]</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">longestPalindrome2</span>(String s) {</div><div class="line">          <span class="keyword">int</span> maxlen=<span class="number">0</span>; </div><div class="line">          String maxstr=<span class="keyword">null</span>;</div><div class="line">          <span class="keyword">int</span>[][] t=<span class="keyword">new</span> <span class="keyword">int</span>[s.length()][s.length()];</div><div class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++){t[i][i]=<span class="number">1</span>;}</div><div class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length()-<span class="number">1</span>;i++){</div><div class="line">              <span class="keyword">if</span>(s.charAt(i)==s.charAt(i+<span class="number">1</span>))</div><div class="line">                  {t[i][i+<span class="number">1</span>]=<span class="number">1</span>;</div><div class="line">                  maxlen=<span class="number">2</span>;maxstr=s.substring(i,i+<span class="number">2</span>);}</div><div class="line">              <span class="keyword">else</span> t[i][i+<span class="number">1</span>]=<span class="number">0</span>;</div><div class="line">              }</div><div class="line">          </div><div class="line">          printTable(t);</div><div class="line">          </div><div class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> len = <span class="number">3</span>; len &lt;= s.length(); len++) {</div><div class="line">              <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.length()-len; i++) {</div><div class="line">                  <span class="keyword">int</span> j = i + len - <span class="number">1</span>;</div><div class="line">                  <span class="keyword">if</span> (s.charAt(i) == s.charAt(j)) {</div><div class="line">                      t[i][j] = t[i + <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">                      <span class="keyword">if</span> (t[i][j] == <span class="number">1</span> && len &gt; maxlen)</div><div class="line">                          maxstr = s.substring(i, j + <span class="number">1</span>);</div><div class="line">                  } </div><div class="line">                  <span class="keyword">else</span> {t[i][j]=<span class="number">0</span>;}</div><div class="line">                  printTable(t);</div><div class="line">              }</div><div class="line">          }</div><div class="line">          </div><div class="line">          <span class="keyword">return</span> maxstr;</div><div class="line">          </div><div class="line">    }</div><div class="line">      </div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printTable</span>(<span class="keyword">int</span>[][] x){</div><div class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> [] y : x){</div><div class="line">              <span class="keyword">for</span>(<span class="keyword">int</span> z: y){</div><div class="line">                  System.out.print(z + <span class="string">" "</span>);</div><div class="line">              }</div><div class="line">              System.out.println();</div><div class="line">          }</div><div class="line">          System.out.println(<span class="string">"------"</span>);</div><div class="line">      }</div></pre></td></tr></table></figure>

<p><a href="http://www.programcreek.com/2013/12/leetcode-solution-of-longest-palindromic-substring-java/" target="_blank" rel="external">Another Algorithm</a></p>
<p>i from 0 to length-1, get palindrom substring with center of i or i, i+1, keep updating the longest substring: Time O(n^2), space O(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">longestPalindrome</span>(String s) {       </div><div class="line">          String maxstr = <span class="string">""</span>;</div><div class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) {</div><div class="line">              <span class="comment">// get longest palindrome with center of i eg: BAB</span></div><div class="line">              String tmp = helper(s, i, i);</div><div class="line">              <span class="keyword">if</span> (tmp.length() &gt; maxstr.length()) {</div><div class="line">                  maxstr = tmp;</div><div class="line">              }</div><div class="line">       </div><div class="line">              <span class="comment">// get longest palindrome with center of i, i+1 eg: ABBA</span></div><div class="line">              tmp = helper(s, i, i + <span class="number">1</span>);</div><div class="line">              <span class="keyword">if</span> (tmp.length() &gt; maxstr.length()) {</div><div class="line">                  maxstr = tmp;</div><div class="line">              }</div><div class="line">          }</div><div class="line">       </div><div class="line">          <span class="keyword">return</span> maxstr;</div><div class="line">      }</div><div class="line">    </div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">helper</span>(String s, <span class="keyword">int</span> begin, <span class="keyword">int</span> end) {</div><div class="line">          <span class="keyword">while</span> (begin &gt;= <span class="number">0</span> && end &lt;= s.length() - <span class="number">1</span> && s.charAt(begin) == s.charAt(end)) {</div><div class="line">              begin--;</div><div class="line">              end++;</div><div class="line">          }</div><div class="line">          <span class="keyword">return</span> s.substring(begin + <span class="number">1</span>, end);</div><div class="line">          }</div></pre></td></tr></table></figure>

<p><a href="http://algs4.cs.princeton.edu/53substring/Manacher.java.html" target="_blank" rel="external">Manacher’s algorithm</a><br>Computes the longest palindromic substring in linear time.</p>
<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Flidogotsongs%2Fbastille-bad-blood-lido-remix-1&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/String/"> #String </a>
          
            <a href="/tags/DP/"> #DP </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.5/">
                Remove Duplicates from Sorted List I & II, Remove Duplicates from Sorted Array I & II
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.5/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.5/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Remove_Duplicates_from_Sorted_List_I">Remove Duplicates from Sorted List I</h2>
<blockquote>
<p>Given a sorted linked list, delete all duplicates such that each element appear only once.<br>For example,<br>Given 1-&gt;1-&gt;2, return 1-&gt;2.<br>Given 1-&gt;1-&gt;2-&gt;3-&gt;3, return 1-&gt;2-&gt;3.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>Two loops One pointer solution, only move cursor to next when we confirmed cur.next.val!==cur.val.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span>(ListNode head) {</div><div class="line">    ListNode h = head;</div><div class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span>||head.next==<span class="keyword">null</span>) <span class="keyword">return</span> head;</div><div class="line">    ListNode cur= head;</div><div class="line">    <span class="keyword">while</span>(cur!=<span class="keyword">null</span>){</div><div class="line">        <span class="keyword">while</span>(cur.next!=<span class="keyword">null</span>&&cur.next.val==cur.val)</div><div class="line">        cur.next=cur.next.next;</div><div class="line">        cur=cur.next;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> h;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>Or we can use only one loop:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span>(ListNode head) {</div><div class="line">      ListNode h = head;</div><div class="line">      <span class="keyword">if</span>(head==<span class="keyword">null</span>||head.next==<span class="keyword">null</span>) <span class="keyword">return</span> head;</div><div class="line">      ListNode cur= head;</div><div class="line">      <span class="keyword">while</span>(cur!=<span class="keyword">null</span>){</div><div class="line">          ListNode tmp=cur.next;</div><div class="line">          <span class="keyword">if</span>(tmp!=<span class="keyword">null</span>&&tmp.val==cur.val){</div><div class="line">              cur.next=tmp.next;}</div><div class="line">          <span class="keyword">else</span> cur=cur.next;</div><div class="line">      }</div><div class="line">      <span class="keyword">return</span> h;</div><div class="line">  }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Remove_Duplicates_from_Sorted_List_II">Remove Duplicates from Sorted List II</h2>
<blockquote>
<p>Given a sorted linked list, delete all nodes that have duplicate numbers, leaving only distinct numbers from the original list.<br>For example,<br>Given 1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5, return 1-&gt;2-&gt;5.<br>Given 1-&gt;1-&gt;1-&gt;2-&gt;3, return 2-&gt;3.</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<p>Similar to how we deleted duplicates in I, now we add a pre pointer to record the last non-duplicate element, and a dummy head to deal with cases where head needs to be removed. Note: we can only move pre to next when we confirmed now cur is pointing to a unique element.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span>(ListNode head) {</div><div class="line">       ListNode dummy=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</div><div class="line">       dummy.next=head;</div><div class="line">       ListNode cur=head, pre=dummy;</div><div class="line">       <span class="keyword">while</span>(cur!=<span class="keyword">null</span>&& cur.next!=<span class="keyword">null</span>){</div><div class="line">           <span class="comment">//if dup found, keep cur at last dup element</span></div><div class="line">           <span class="keyword">if</span>(cur.val==cur.next.val){</div><div class="line">           <span class="keyword">while</span>(cur.next!=<span class="keyword">null</span>&&cur.val==cur.next.val){cur=cur.next;}</div><div class="line">           <span class="comment">//remove the dups, remember to move the cur for detecting more dups</span></div><div class="line">           pre.next=cur.next;</div><div class="line">           cur=cur.next;}</div><div class="line">           <span class="comment">//move the two pointers next when no dup found</span></div><div class="line">           <span class="keyword">else</span> {pre=pre.next; cur=cur.next;}     </div><div class="line">       }       </div><div class="line">       <span class="keyword">return</span> dummy.next;</div><div class="line">   }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Remove_Duplicates_from_Sorted_Array">Remove Duplicates from Sorted Array</h2>
<blockquote>
<p>Given a sorted array, remove the duplicates in place such that each element appear only once and return the new length.<br>Do not allocate extra space for another array, you must do this in place with constant memory.<br>For example,<br>Given input array A = [1,1,2],<br>Your function should return length = 2, and A is now [1,2].</p>
</blockquote>
<h3 id="Solution-2">Solution</h3>
<p>Just replace current element with the first non-duplicate, in other words, non-equal-to-current element.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeDuplicates</span>(<span class="keyword">int</span>[] A) {</div><div class="line">          <span class="keyword">int</span> n=A.length;</div><div class="line">          <span class="keyword">int</span> count=<span class="number">0</span>;</div><div class="line">          <span class="keyword">if</span>(A.length==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++){</div><div class="line">              <span class="comment">//count points to the last element of our new array, i pointer finds the next non-dup element</span></div><div class="line">              <span class="keyword">if</span>(A[i]!=A[count]){A[++count]=A[i];}</div><div class="line">          }<span class="keyword">return</span> count+<span class="number">1</span>;</div><div class="line">      }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Remove_Duplicates_from_Sorted_Array_II">Remove Duplicates from Sorted Array II</h2>
<blockquote>
<p>Follow up for “Remove Duplicates”:<br>What if duplicates are allowed at most twice?<br>For example,<br>Given sorted array A = [1,1,1,2,2,3],<br>Your function should return length = 5, and A is now [1,1,2,2,3].</p>
</blockquote>
<h3 id="Solution-3">Solution</h3>
<p>The solution is a bit tricky. We use two pointers, pre to keep the second duplicate element, and cur to keep the first element different from current duplicate element. Then we replcace the next element of pre, to whatever next element cur is pointing at.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeDuplicates</span>(<span class="keyword">int</span>[] A) {</div><div class="line">       <span class="keyword">int</span> n = A.length;</div><div class="line">       <span class="keyword">int</span> pre=<span class="number">1</span>,cur=<span class="number">2</span>;</div><div class="line">       <span class="keyword">if</span>(n==<span class="number">0</span>||n==<span class="number">1</span>||n==<span class="number">2</span>) <span class="keyword">return</span> n;</div><div class="line">       <span class="keyword">while</span>(cur&lt;n){</div><div class="line">           <span class="comment">//confirm no three dups in new array  </span></div><div class="line">           <span class="keyword">if</span>(A[cur]==A[pre-<span class="number">1</span>]){</div><div class="line">               <span class="comment">//cur points to the first element different from current dups</span></div><div class="line">               cur++;</div><div class="line">           }</div><div class="line">           <span class="keyword">else</span> {</div><div class="line">               <span class="comment">//move pre to the third dup element</span></div><div class="line">               pre++;</div><div class="line">               <span class="comment">//replace the third dup with the next element </span></div><div class="line">               A[pre]=A[cur];</div><div class="line">               cur++;</div><div class="line">           }</div><div class="line">       }</div><div class="line">       <span class="keyword">return</span> pre+<span class="number">1</span>;</div><div class="line">       </div><div class="line">   }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Flidogotsongs%2Fbastille-bad-blood-lido-remix-1&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/LinkedList/"> #LinkedList </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.27/">
                Regular Expression Matching, Edit Distance, Rotate Image, Spiral Matrix
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.27/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.27/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Regular_Expression_Matching">Regular Expression Matching</h2>
<blockquote>
<p>Implement regular expression matching with support for ‘.’ and ‘‘.<br>‘.’ Matches any single character.<br>‘‘ Matches zero or more of the preceding element.<br>The matching should cover the entire input string (not partial).<br>The function prototype should be:<br>bool isMatch(const char s, const char p)<br>Some examples:<br>isMatch(“aa”,”a”) → false<br>isMatch(“aa”,”aa”) → true<br>isMatch(“aaa”,”aa”) → false<br>isMatch(“aa”, “a“) → true<br>isMatch(“aa”, “.“) → true<br>isMatch(“ab”, “.“) → true<br>isMatch(“aab”, “ca*b”) → true</p>
</blockquote>
<h3 id="Recursive_solution">Recursive solution</h3>
<p>So hard to think of all the cases….</p>
<p>Base case: p was cut to zero<br>Special Case: p=1, when to return false? (now p!=’‘, this case will be process next<br>Case 1: p.charAt(1) is not ‘‘,<br>Case 2: p.charAt(1) is ‘*’,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">  <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span>(String s, String p){</div><div class="line">  <span class="comment">//base case</span></div><div class="line">  <span class="keyword">if</span>(p.length()==<span class="number">0</span>) <span class="keyword">return</span> s.length()==<span class="number">0</span>;</div><div class="line">  <span class="comment">//p=1 special case</span></div><div class="line">  <span class="keyword">if</span>(p.length()==<span class="number">1</span> || p.charAt(<span class="number">1</span>)!=<span class="string">'*'</span>){</div><div class="line">    <span class="comment">//false case: s len=0; </span></div><div class="line">        <span class="comment">/*if the first char of s and the first char of p is not the same, </span></div><div class="line">        and the char of p is not '.', return false; </div><div class="line">    if(s.length()&lt;1 || p.charAt(0)!=s.charAt(0) && p.charAt(0)!='.')</div><div class="line">      return false;</div><div class="line">    //otherwise, compare the rest of the string of s and p.</div><div class="line">    else return isMatch(s.substring(1),p.substring(1));</div><div class="line">  }</div><div class="line">  //p!=1 and  when the second char of p is '*'</div><div class="line">  else{</div><div class="line">    int i=-1;</div><div class="line">    while(i&lt;s.length() && (i&lt; 0 || p.charAt(0)=='.' || p.charAt(0)==s.charAt(i))){</div><div class="line">      //start from isMatch(s itself, p.substring(2)) stands for 0 preceding element</div><div class="line">      //when the '*' stands for 1 or more preceding element,try every possible number</div><div class="line">      if(isMatch(s.substring(i+1), p.substring(2)))</div><div class="line">        return true;</div><div class="line">      i++;}</div><div class="line">  }</div><div class="line">  return false;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Edit_Distance">Edit Distance</h2>
<blockquote>
<p>Given two words word1 and word2, find the minimum number of steps required to convert word1 to word2. (each operation is counted as 1 step.)<br>You have the following 3 operations permitted on a word:<br>a) Insert a character<br>b) Delete a character<br>c) Replace a character</p>
</blockquote>
<h3 id="Recursive_Solution">Recursive Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDistance</span>(String word1, String word2) {</div><div class="line">        <span class="keyword">if</span>(word1.equals(word2)) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(word1==<span class="keyword">null</span> || word1.length()&lt;=<span class="number">0</span>) <span class="keyword">return</span> word2.length();</div><div class="line">        <span class="keyword">if</span>(word2==<span class="keyword">null</span> || word2.length()&lt;=<span class="number">0</span>) <span class="keyword">return</span> word1.length();</div><div class="line">         </div><div class="line">        <span class="keyword">int</span> delete_dis=minDistance(word1.substring(<span class="number">1</span>),word2)+<span class="number">1</span>;  </div><div class="line">        <span class="keyword">int</span> add_dis=minDistance(word1,word2.substring(<span class="number">1</span>))+<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> change_dis=minDistance(word1.substring(<span class="number">1</span>),word2.substring(<span class="number">1</span>)) + word1.charAt(<span class="number">0</span>)==word2.charAt(<span class="number">0</span>) ?  <span class="number">0</span> : <span class="number">1</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> Math.min(Math.min(delete_dis, add_dis), change_dis);</div><div class="line">    </div><div class="line">    }</div></pre></td></tr></table></figure>



<h3 id="DP_Solution">DP Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">  <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDistance</span>(String word1, String word2) {</div><div class="line">    <span class="keyword">if</span>(word2.length()==<span class="number">0</span>) <span class="keyword">return</span> word1.length();</div><div class="line">    <span class="keyword">if</span>(word1.length()==<span class="number">0</span>) <span class="keyword">return</span> word2.length();</div><div class="line">    <span class="keyword">int</span> m=word1.length()+<span class="number">1</span>, n=word2.length()+<span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span>[][] Dis=<span class="keyword">new</span> <span class="keyword">int</span>[m][n];</div><div class="line">    <span class="comment">//initiate null cases</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++){Dis[i][<span class="number">0</span>]=i;}</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++){Dis[<span class="number">0</span>][j]=j;}</div><div class="line">    <span class="comment">//fill up whole table</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;m;i++){</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;n;j++){</div><div class="line">            <span class="keyword">int</span> del_dis=Dis[i-<span class="number">1</span>][j]+<span class="number">1</span>;</div><div class="line">            <span class="keyword">int</span> add_dis=Dis[i][j-<span class="number">1</span>]+<span class="number">1</span>;</div><div class="line">            <span class="keyword">int</span> change_dis=Dis[i-<span class="number">1</span>][j-<span class="number">1</span>]+ (word1.charAt(i-<span class="number">1</span>)==word2.charAt(j-<span class="number">1</span>)? <span class="number">0</span> :<span class="number">1</span>);</div><div class="line">            Dis[i][j]=Math.min(Math.min(del_dis,add_dis),change_dis);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> Dis[m-<span class="number">1</span>][n-<span class="number">1</span>];</div><div class="line">    </div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Rotate_Image">Rotate Image</h2>
<blockquote>
<p>You are given an n x n 2D matrix representing an image.<br>Rotate the image by 90 degrees (clockwise).<br>Follow up:<br>Could you do this in-place?</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>swap four directions layer by layer:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rotate</span>(<span class="keyword">int</span>[][] matrix) {</div><div class="line">  </div><div class="line">    <span class="keyword">int</span> len = matrix[<span class="number">0</span>].length;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> layer = <span class="number">0</span>; layer &lt; len / <span class="number">2</span>; layer++) {</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = layer; i &lt; len - <span class="number">1</span> - layer; i++) {</div><div class="line">        <span class="comment">// save upper</span></div><div class="line">        <span class="keyword">int</span> temp = matrix[layer][i];</div><div class="line">     </div><div class="line">        <span class="comment">// upper = left</span></div><div class="line">        matrix[layer][i] = matrix[len - <span class="number">1</span> - i][layer];</div><div class="line">        <span class="comment">// left = bottom</span></div><div class="line">   </div><div class="line">        matrix[len - <span class="number">1</span> - i][layer] = matrix[len - <span class="number">1</span> - layer][len - <span class="number">1</span> - i];</div><div class="line">      </div><div class="line">        <span class="comment">// bottom = right</span></div><div class="line">        matrix[len - <span class="number">1</span> - layer][len - <span class="number">1</span> - i] = matrix[i][len - <span class="number">1</span> - layer];</div><div class="line">        <span class="comment">// right = up</span></div><div class="line">        matrix[i][len - <span class="number">1</span> - layer] = temp;</div><div class="line">        </div><div class="line">      }</div><div class="line">    }</div><div class="line">  }</div></pre></td></tr></table></figure>



<hr>
<h2 id="Spiral_Matrix">Spiral Matrix</h2>
<blockquote>
<p>Given a matrix of m x n elements (m rows, n columns), return all elements of the matrix in spiral order.<br>For example,<br>Given the following matrix:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line"> [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ],</div><div class="line"> [ <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> ],</div><div class="line"> [ <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> ]</div><div class="line">]</div></pre></td></tr></table></figure>

<p>You should return [1,2,3,6,9,8,7,4,5].</p>
<h3 id="Solution-1">Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">spiralOrder</span>(<span class="keyword">int</span>[][] matrix) {</div><div class="line">    ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">    <span class="keyword">if</span>(matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span>) <span class="keyword">return</span> result;</div><div class="line">    <span class="keyword">int</span> m = matrix.length;</div><div class="line">    <span class="keyword">int</span> n = matrix[<span class="number">0</span>].length;</div><div class="line">    <span class="keyword">int</span> x=<span class="number">0</span>; </div><div class="line">    <span class="keyword">int</span> y=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(m&gt;<span class="number">0</span> && n&gt;<span class="number">0</span>){</div><div class="line">        <span class="comment">//if one row/column left, no circle can be formed</span></div><div class="line">        <span class="keyword">if</span>(m==<span class="number">1</span>){</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++){</div><div class="line">                result.add(matrix[x][y++]);</div><div class="line">            }</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">1</span>){</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++){</div><div class="line">                result.add(matrix[x++][y]);</div><div class="line">            }</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        }</div><div class="line">        <span class="comment">//below, process a circle</span></div><div class="line">        <span class="comment">//top - move right</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n-<span class="number">1</span>;i++){</div><div class="line">            result.add(matrix[x][y++]);</div><div class="line">        }</div><div class="line">        <span class="comment">//right - move down</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m-<span class="number">1</span>;i++){</div><div class="line">            result.add(matrix[x++][y]);</div><div class="line">        }</div><div class="line">        <span class="comment">//bottom - move left</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n-<span class="number">1</span>;i++){</div><div class="line">            result.add(matrix[x][y--]);</div><div class="line">        }</div><div class="line">        <span class="comment">//left - move up</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m-<span class="number">1</span>;i++){</div><div class="line">            result.add(matrix[x--][y]);</div><div class="line">        }</div><div class="line">        x++;</div><div class="line">        y++;</div><div class="line">        m=m-<span class="number">2</span>;</div><div class="line">        n=n-<span class="number">2</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Falextambo%2Flinkin-park-session&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>








        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/String/"> #String </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.24/">
                Plus One, Largest Number, Pow(x, n), Sqrt(x) , Min Stack, Valid Parentheses, Valid Sudoku, Word Ladder, Word Ladder II
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.24/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.24/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Plus_One">Plus One</h2>
<blockquote>
<p>Given a non-negative number represented as an array of digits, plus one to the number.<br>The digits are stored such that the most significant digit is at the head of the list.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>Just find the last 9…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] <span class="title">plusOne</span>(<span class="keyword">int</span>[] digits) {</div><div class="line">          <span class="keyword">int</span> i=digits.length-<span class="number">1</span>;</div><div class="line">          <span class="keyword">for</span>(;i&gt;=<span class="number">0</span>;i--){</div><div class="line">              <span class="keyword">if</span>(digits[i]!=<span class="number">9</span>) <span class="keyword">break</span>;</div><div class="line">          }</div><div class="line">            </div><div class="line">          <span class="keyword">if</span>(i==-<span class="number">1</span>){</div><div class="line">              <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[digits.length+<span class="number">1</span>];</div><div class="line">                      res[<span class="number">0</span>]=<span class="number">1</span>;</div><div class="line">                      <span class="keyword">return</span> res;</div><div class="line">          }   </div><div class="line">           </div><div class="line">          <span class="keyword">else</span>{</div><div class="line">             <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[digits.length];</div><div class="line">             <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=i;j++){</div><div class="line">                 res[j]=digits[j];</div><div class="line">             }</div><div class="line">             res[i]+=<span class="number">1</span>;</div><div class="line">             <span class="keyword">return</span> res;</div><div class="line">          } </div><div class="line"> </div><div class="line">      }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Largest_Number">Largest Number</h2>
<blockquote>
<p>Given a list of non negative integers, arrange them such that they form the largest number.<br>For example, given [3, 30, 34, 5, 9], the largest formed number is 9534330.<br>Note: The result may be very large, so you need to return a string instead of an integer.</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<p>Rewirte comparator (to desc), sort and add.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">StringComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">String</span>&gt; </span>{</div><div class="line">       <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span>(String x, String y) {</div><div class="line">           <span class="keyword">if</span> (x.equals(y)) <span class="keyword">return</span> <span class="number">0</span>;            </div><div class="line">           <span class="keyword">return</span> -(x+y).compareTo(y+x);</div><div class="line">       }</div><div class="line">   }</div><div class="line"><span class="keyword">public</span> String <span class="title">largestNumber</span>(<span class="keyword">int</span>[] num){</div><div class="line">  String[] nums = <span class="keyword">new</span> String[num.length];</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span> ;i&lt;num.length;i++){</div><div class="line">    nums[i]=String.valueOf(num[i]);</div><div class="line">  }</div><div class="line">  Comparator&lt;String&gt; comparator = <span class="keyword">new</span> StringComparator();</div><div class="line">  Arrays.sort(nums,comparator);</div><div class="line">  StringBuilder str = <span class="keyword">new</span> StringBuilder();</div><div class="line">  <span class="keyword">for</span>(String n:nums){</div><div class="line">    str.append(n);</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> str.charAt(<span class="number">0</span>)==<span class="string">'0'</span>?<span class="string">"0"</span>:str.toString();</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Pow(x,_n)">Pow(x, n)</h2>
<blockquote>
<p>Implement pow(x, n).</p>
</blockquote>
<h3 id="Recursive_Solution">Recursive Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">pow</span>(<span class="keyword">double</span> x, <span class="keyword">int</span> n) {</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)</div><div class="line">    {</div><div class="line">        n=-n;</div><div class="line">        x=<span class="number">1</span>/x;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> n%<span class="number">2</span>==<span class="number">0</span> ? pow(x*x,n/<span class="number">2</span>) : x*pow(x*x,n/<span class="number">2</span>);</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Sqrt(x)">Sqrt(x)</h2>
<blockquote>
<p>Implement int sqrt(int x).<br>Compute and return the square root of x.</p>
</blockquote>
<h3 id="Solution-2"><a href="http://www.cnblogs.com/pkuoliver/archive/2010/10/06/1844725.html" target="_blank" rel="external">Solution</a></h3>
<p>Beware of overflow problems…<br>mid*mid could overflow, instead of using long, compare mid with x/mid<br>but now we have to treat 0 and 1 as special cases…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sqrt</span>(<span class="keyword">int</span> x) {     </div><div class="line">       <span class="keyword">int</span> l=<span class="number">0</span>,r=x;</div><div class="line">       <span class="keyword">if</span>(x==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">       <span class="keyword">if</span>(x==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">       <span class="keyword">while</span>(l&lt;=r){</div><div class="line">        <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(x/mid==mid) <span class="keyword">return</span> mid;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mid&gt;x/mid){r=mid-<span class="number">1</span>;}</div><div class="line">        <span class="keyword">else</span> {l=mid+<span class="number">1</span>;}</div><div class="line">       }</div><div class="line">       <span class="keyword">return</span> r;      </div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Min_Stack">Min Stack</h2>
<blockquote>
<p>Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.<br>push(x) — Push element x onto stack.<br>pop() — Removes the element on top of the stack.<br>top() — Get the top element.<br>getMin() — Retrieve the minimum element in the stack.</p>
</blockquote>
<h3 id="Solution-2">Solution</h3>
<p>Just use an extra stack to keep track of the min values…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Stack&lt;Integer&gt; stk=<span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">   Stack&lt;Integer&gt; minstk=<span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">   </div><div class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span>(<span class="keyword">int</span> x) {</div><div class="line">       stk.push(x);</div><div class="line">       <span class="keyword">if</span>(minstk.isEmpty() || x&lt;=minstk.peek()){minstk.push(x);}</div><div class="line">   }</div><div class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span>() {</div><div class="line">    <span class="keyword">if</span>(stk.isEmpty()) <span class="keyword">return</span>;     </div><div class="line">       <span class="keyword">int</span> tmp=stk.pop();</div><div class="line">       <span class="keyword">if</span>(!minstk.isEmpty() && tmp==minstk.peek()){minstk.pop();}</div><div class="line">   }</div><div class="line">   <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span>() {</div><div class="line">    <span class="keyword">if</span>(stk.isEmpty()) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> stk.peek();</div><div class="line">   }</div><div class="line">   <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span>() {</div><div class="line">       <span class="keyword">if</span>(!minstk.isEmpty()) <span class="keyword">return</span> minstk.peek();</div><div class="line">       <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">   }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Valid_Parentheses">Valid Parentheses</h2>
<blockquote>
<p>Given a string containing just the characters ‘(‘, ‘)’, ‘{‘, ‘}’, ‘[‘ and ‘]’, determine if the input string is valid.<br>The brackets must close in the correct order, “()” and “()[]{}” are all valid but “(]” and “([)]” are not.</p>
</blockquote>
<h3 id="Solution-3">Solution</h3>
<p>Just use a stack, push when empty, or left parenthese found; pop when found a match.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span>(String s) {</div><div class="line">    Stack&lt;Character&gt; stk=<span class="keyword">new</span> Stack&lt;Character&gt;();</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++){</div><div class="line">        Character tmp=s.charAt(i);</div><div class="line">        <span class="keyword">if</span>(stk.isEmpty() && (tmp==<span class="string">')'</span> || tmp==<span class="string">']'</span> || tmp==<span class="string">'}'</span>)) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">if</span>(!stk.isEmpty() && isMatch(stk.peek(), tmp)) </div><div class="line">            stk.pop();</div><div class="line">        <span class="keyword">else</span> stk.push(tmp);</div><div class="line">    } <span class="keyword">return</span> stk.isEmpty();</div><div class="line">}</div><div class="line">  <span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isMatch</span>(Character a, Character b){</div><div class="line">    <span class="keyword">if</span>(a==<span class="string">'('</span> && b==<span class="string">')'</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    <span class="keyword">if</span>(a==<span class="string">'['</span> && b==<span class="string">']'</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    <span class="keyword">if</span>(a==<span class="string">'{'</span> && b==<span class="string">'}'</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Valid_Sudoku">Valid Sudoku</h2>
<blockquote>
<p>Determine if a Sudoku is valid, according to: Sudoku Puzzles - The Rules.<br>The Sudoku board could be partially filled, where empty cells are filled with the character ‘.’.<br><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png" alt="pic"><br>A partially filled sudoku which is valid.<br>Note:<br>A valid Sudoku board (partially filled) is not necessarily solvable. Only the filled cells need to be validated.</p>
</blockquote>
<h3 id="Solution-4">Solution</h3>
<p>Three HashSets, return false when add failure.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span>(<span class="keyword">char</span>[][] board) {</div><div class="line">    <span class="keyword">int</span> len=board[<span class="number">0</span>].length;</div><div class="line">    <span class="comment">//column</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len;i++){</div><div class="line">        HashSet&lt;Character&gt; col=<span class="keyword">new</span> HashSet&lt;Character&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span> ;j&lt;len;j++){</div><div class="line">        <span class="keyword">if</span>(board[j][i]!=<span class="string">'.'</span> && !col.add(board[j][i])) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line">    }</div><div class="line">    <span class="comment">//row</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len;i++){</div><div class="line">        HashSet&lt;Character&gt; row=<span class="keyword">new</span> HashSet&lt;Character&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span> ;j&lt;len;j++){</div><div class="line">        <span class="keyword">if</span>(board[i][j]!=<span class="string">'.'</span> && !row.add(board[i][j])) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line">    }</div><div class="line">    <span class="comment">//tuple</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++){</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++){</div><div class="line">            HashSet&lt;Character&gt; tup=<span class="keyword">new</span> HashSet&lt;Character&gt;();</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> m=i*<span class="number">3</span>;m&lt;<span class="number">3</span>+i*<span class="number">3</span>;m++){</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> n=j*<span class="number">3</span>;n&lt;<span class="number">3</span>+j*<span class="number">3</span>;n++){</div><div class="line">                    <span class="keyword">if</span>(board[m][n]!=<span class="string">'.'</span> && !tup.add(board[m][n])) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Word_Ladder">Word Ladder</h2>
<blockquote>
<p>Given two words (start and end), and a dictionary, find the length of shortest transformation sequence from start to end, such that:<br>Only one letter can be changed at a time<br>Each intermediate word must exist in the dictionary<br>For example,<br>Given:<br>start = “hit”<br>end = “cog”<br>dict = [“hot”,”dot”,”dog”,”lot”,”log”]<br>As one shortest transformation is “hit” -&gt; “hot” -&gt; “dot” -&gt; “dog” -&gt; “cog”,<br>return its length 5.<br>Note:<br>Return 0 if there is no such transformation sequence.<br>All words have the same length.<br>All words contain only lowercase alphabetic characters.</p>
</blockquote>
<h3 id="BFS_Search_Solution">BFS Search Solution</h3>
<p>Naive approach might not give the shortest length, this problem is equavlent to finding the shortes path between start and end characters, in a graph where chars in dict are vertexes and vertexes with one char difference are connected.</p>
<p>Few more details to attend to:</p>
<p>length should start at 1, and return length+1<br>queue.size() and q.poll() is changing within each loop, so keep track of them</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span>(String start, String end, HashSet&lt;String&gt; dict) {</div><div class="line">    LinkedList&lt;String&gt; q=<span class="keyword">new</span> LinkedList&lt;String&gt;();</div><div class="line">    <span class="keyword">if</span>(start==<span class="keyword">null</span> || end==<span class="keyword">null</span> || dict==<span class="keyword">null</span> || dict.size()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> length=<span class="number">1</span>;</div><div class="line">    q.offer(start);</div><div class="line">    dict.remove(start);</div><div class="line">    <span class="keyword">while</span>(!q.isEmpty()){</div><div class="line">        <span class="keyword">int</span> count_level=q.size();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;count_level;i++){</div><div class="line">            String cur=q.poll();</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;cur.length();j++){</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'a'</span>; c&lt;=<span class="string">'z'</span>;c++){</div><div class="line">                    String tmp=reorg(cur, j, c);</div><div class="line">                    <span class="keyword">if</span>(tmp.equals(end)) <span class="keyword">return</span> length+<span class="number">1</span>;</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(dict.contains(tmp)){dict.remove(tmp); q.offer(tmp);}</div><div class="line">                } </div><div class="line">            }</div><div class="line">        } length++;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="keyword">private</span> String <span class="title">reorg</span>(String s, <span class="keyword">int</span> i, <span class="keyword">char</span> c)</div><div class="line">{</div><div class="line">    <span class="keyword">char</span>[] tmparr=s.toCharArray();</div><div class="line">    tmparr[i]=c;</div><div class="line">    String res=<span class="keyword">new</span> String(tmparr);</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Word_Ladder_II">Word Ladder II</h2>
<blockquote>
<p>Given two words (start and end), and a dictionary, find all shortest transformation sequence(s) from start to end, such that:<br>Only one letter can be changed at a time<br>Each intermediate word must exist in the dictionary<br>For example,<br>Given:<br>start = “hit”<br>end = “cog”<br>dict = [“hot”,”dot”,”dog”,”lot”,”log”]<br>Return</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="string">"hit"</span>,<span class="string">"hot"</span>,<span class="string">"dot"</span>,<span class="string">"dog"</span>,<span class="string">"cog"</span>],</div><div class="line">  [<span class="string">"hit"</span>,<span class="string">"hot"</span>,<span class="string">"lot"</span>,<span class="string">"log"</span>,<span class="string">"cog"</span>]</div><div class="line">]</div></pre></td></tr></table></figure>

<p>Note:<br>All words have the same length.<br>All words contain only lowercase alphabetic characters.</p>
<p>人家的解法都看晕了…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</div><div class="line">    <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;String&gt;&gt; <span class="title">findLadders</span>(String start, String end, HashSet&lt;String&gt; dict) {</div><div class="line">        </div><div class="line">        <span class="comment">// Start typing your Java solution below</span></div><div class="line">        <span class="comment">// DO NOT write main() function              </span></div><div class="line">        </div><div class="line">        HashMap&lt;String, HashSet&lt;String&gt;&gt; neighbours = <span class="keyword">new</span> HashMap&lt;String, HashSet&lt;String&gt;&gt;();</div><div class="line">        </div><div class="line">        dict.add(start);</div><div class="line">        dict.add(end);</div><div class="line">        </div><div class="line">        <span class="comment">// init adjacent graph        </span></div><div class="line">        <span class="keyword">for</span>(String str : dict){</div><div class="line">            calcNeighbours(neighbours, str, dict);</div><div class="line">        }</div><div class="line">        </div><div class="line">        ArrayList&lt;ArrayList&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;String&gt;&gt;();</div><div class="line">        </div><div class="line">        <span class="comment">// BFS search queue</span></div><div class="line">        LinkedList&lt;Node&gt; queue = <span class="keyword">new</span> LinkedList&lt;Node&gt;();</div><div class="line">        queue.add(<span class="keyword">new</span> Node(<span class="keyword">null</span>, start, <span class="number">1</span>));</div><div class="line">        </div><div class="line">        <span class="comment">// BFS level</span></div><div class="line">        <span class="keyword">int</span> previousLevel = <span class="number">0</span>;</div><div class="line">        </div><div class="line">        <span class="comment">// mark which nodes have been visited, to break infinite loop</span></div><div class="line">        HashMap&lt;String, Integer&gt; visited = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;(); </div><div class="line">        <span class="keyword">while</span>(!queue.isEmpty()){</div><div class="line">            Node n = queue.pollFirst();            </div><div class="line">            <span class="keyword">if</span>(end.equals(n.str)){ </div><div class="line">                <span class="comment">// fine one path, check its length, if longer than previous path it's valid</span></div><div class="line">                <span class="comment">// otherwise all possible short path have been found, should stop</span></div><div class="line">                <span class="keyword">if</span>(previousLevel == <span class="number">0</span> || n.level == previousLevel){</div><div class="line">                    previousLevel = n.level;</div><div class="line">                    findPath(n, result);                    </div><div class="line">                }<span class="keyword">else</span> {</div><div class="line">                    <span class="comment">// all path with length *previousLevel* have been found</span></div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                }                </div><div class="line">            }<span class="keyword">else</span> {</div><div class="line">                HashSet&lt;String&gt; set = neighbours.get(n.str);                 </div><div class="line">                </div><div class="line">                <span class="keyword">if</span>(set == <span class="keyword">null</span> || set.isEmpty()) <span class="keyword">continue</span>;</div><div class="line">                <span class="comment">// note: I'm not using simple for(String s: set) here. This is to avoid hashset's</span></div><div class="line">                <span class="comment">// current modification exception.</span></div><div class="line">                ArrayList&lt;String&gt; toRemove = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">                <span class="keyword">for</span> (String s : set) {</div><div class="line">                    </div><div class="line">                    <span class="comment">// if s has been visited before at a smaller level, there is already a shorter </span></div><div class="line">                    <span class="comment">// path from start to s thus we should ignore s so as to break infinite loop; if </span></div><div class="line">                    <span class="comment">// on the same level, we still need to put it into queue.</span></div><div class="line">                    <span class="keyword">if</span>(visited.containsKey(s)){</div><div class="line">                        Integer occurLevel = visited.get(s);</div><div class="line">                        <span class="keyword">if</span>(n.level+<span class="number">1</span> &gt; occurLevel){</div><div class="line">                            neighbours.get(s).remove(n.str);</div><div class="line">                            toRemove.add(s);</div><div class="line">                            <span class="keyword">continue</span>;</div><div class="line">                        }</div><div class="line">                    }</div><div class="line">                    visited.put(s,  n.level+<span class="number">1</span>);</div><div class="line">                    queue.add(<span class="keyword">new</span> Node(n, s, n.level + <span class="number">1</span>));</div><div class="line">                    <span class="keyword">if</span>(neighbours.containsKey(s))</div><div class="line">                        neighbours.get(s).remove(n.str);</div><div class="line">                }</div><div class="line">                <span class="keyword">for</span>(String s: toRemove){</div><div class="line">                    set.remove(s);</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findPath</span>(Node n, ArrayList&lt;ArrayList&lt;String&gt;&gt; result){</div><div class="line">        ArrayList&lt;String&gt; path = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        Node p = n;</div><div class="line">        <span class="keyword">while</span>(p != <span class="keyword">null</span>){</div><div class="line">            path.add(<span class="number">0</span>, p.str);</div><div class="line">            p = p.parent; </div><div class="line">        }</div><div class="line">        result.add(path);</div><div class="line">    }</div><div class="line">    <span class="comment">/*</span></div><div class="line">     * complexity: O(26*str.length*dict.size)=O(L*N)</div><div class="line">     */</div><div class="line">    <span class="keyword">void</span> calcNeighbours(HashMap&lt;String, HashSet&lt;String&gt;&gt; neighbours, String str, HashSet&lt;String&gt; dict) {</div><div class="line">        <span class="keyword">int</span> length = str.length();</div><div class="line">        <span class="keyword">char</span> [] chars = str.toCharArray();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) {</div><div class="line">            </div><div class="line">            <span class="keyword">char</span> old = chars[i]; </div><div class="line">            <span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'a'</span>; c &lt;= <span class="string">'z'</span>; c++) {</div><div class="line">                <span class="keyword">if</span> (c == old)  <span class="keyword">continue</span>;</div><div class="line">                chars[i] = c;</div><div class="line">                String newstr = <span class="keyword">new</span> String(chars);                </div><div class="line">                </div><div class="line">                <span class="keyword">if</span> (dict.contains(newstr)) {</div><div class="line">                    HashSet&lt;String&gt; set = neighbours.get(str);</div><div class="line">                    <span class="keyword">if</span> (set != <span class="keyword">null</span>) {</div><div class="line">                        set.add(newstr);</div><div class="line">                    } <span class="keyword">else</span> {</div><div class="line">                        HashSet&lt;String&gt; newset = <span class="keyword">new</span> HashSet&lt;String&gt;();</div><div class="line">                        newset.add(newstr);</div><div class="line">                        neighbours.put(str, newset);</div><div class="line">                    }</div><div class="line">                }                </div><div class="line">            }</div><div class="line">            chars[i] = old;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>{</div><div class="line">        <span class="keyword">public</span> Node parent;</div><div class="line">        <span class="keyword">public</span> String str;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">int</span> level;</div><div class="line">        <span class="keyword">public</span> <span class="title">Node</span>(Node p, String s, <span class="keyword">int</span> l){</div><div class="line">            parent = p;</div><div class="line">            str = s;</div><div class="line">            level = l;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>





<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fsnow-man-4%2Fthe-xx-intro-themmmixx-long&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>





        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Math/"> #Math </a>
          
            <a href="/tags/Array/"> #Array </a>
          
            <a href="/tags/String/"> #String </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.23/">
                Same Tree, Symmetric Tree, Balanced Binary Tree, Binary Tree Level Order Traversal, Binary Tree Level Order Traversal II, Maximum Depth of Binary Tree, Minimum Depth of Binary Tree
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.23/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.23/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Same_Tree">Same Tree</h2>
<blockquote>
<p>Given two binary trees, write a function to check if they are equal or not.<br>Two binary trees are considered equal if they are structurally identical and the nodes have the same value.</p>
</blockquote>
<h3 id="Recursive_Solution">Recursive Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSameTree</span>(TreeNode p, TreeNode q) {</div><div class="line">      <span class="keyword">if</span>(p==<span class="keyword">null</span> && q==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">      <span class="keyword">if</span>(p!=<span class="keyword">null</span> && q!=<span class="keyword">null</span> && p.val==q.val){</div><div class="line">          <span class="keyword">return</span> isSameTree(p.left,q.left) && isSameTree(p.right,q.right);</div><div class="line">      }</div><div class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">  }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Symmetric_Tree">Symmetric Tree</h2>
<blockquote>
<p>Given a binary tree, check whether it is a mirror of itself (ie, symmetric around its center).<br>For example, this binary tree is symmetric:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">    1</div><div class="line">   / <span class="command">\</span></div><div class="line">  2   2</div><div class="line"> / <span class="command">\ </span>/ <span class="command">\</span></div><div class="line">3  4 4  3</div></pre></td></tr></table></figure>

<p>But the following is not:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">  1</div><div class="line"> / <span class="command">\</span></div><div class="line">2   2</div><div class="line"> <span class="command">\ </span>  <span class="command">\</span></div><div class="line"> 3    3</div></pre></td></tr></table></figure>

<p>Note:<br>Bonus points if you could solve it both recursively and iteratively.</p>
<h3 id="Recursive_Solution-1">Recursive Solution</h3>
<p>Just traverse both on left and right branches of the root symmetricaly and check if the values are equal.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span>(TreeNode root) {</div><div class="line">     <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">     <span class="keyword">return</span> rec(root.left ,root.right);</div><div class="line"> }</div><div class="line"> </div><div class="line"> <span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">rec</span>(TreeNode l, TreeNode r){</div><div class="line">     <span class="keyword">if</span>(l==<span class="keyword">null</span> && r==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">     <span class="keyword">else</span> <span class="keyword">if</span>(l!=<span class="keyword">null</span> && r!=<span class="keyword">null</span> && l.val==r.val) </div><div class="line">     <span class="keyword">return</span> rec(l.left,r.right) && rec(l.right, r.left);</div><div class="line">     <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line"> }</div></pre></td></tr></table></figure>

<h3 id="Iterative_Solution">Iterative Solution</h3>
<p>Two Stacks to store the two partitions of nodes that are supposed to be equal.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span>(TreeNode root) {</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        Stack&lt;TreeNode&gt; l=<span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">        Stack&lt;TreeNode&gt; r=<span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">        l.push(root.left);</div><div class="line">        r.push(root.right);</div><div class="line">        <span class="keyword">while</span>(!l.isEmpty() && ! r.isEmpty()){</div><div class="line">            TreeNode left=l.pop();</div><div class="line">            TreeNode right=r.pop();</div><div class="line">            <span class="keyword">if</span>(left==<span class="keyword">null</span> && right==<span class="keyword">null</span>) <span class="keyword">continue</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(left!=<span class="keyword">null</span> && right!=<span class="keyword">null</span> && right.val==left.val){</div><div class="line">                l.push(left.left); l.push(left.right);</div><div class="line">                r.push(right.right); r.push(right.left); </div><div class="line">            } </div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Balanced_Binary_Tree">Balanced Binary Tree</h2>
<blockquote>
<p>Given a binary tree, determine if it is height-balanced.<br>For this problem, a height-balanced binary tree is defined as a binary tree in which the depth of the two subtrees of every node never differ by more than 1.</p>
</blockquote>
<h3 id="Recursive_Solution-1">Recursive Solution</h3>
<p>Two Nested Recursive:</p>
<p>getheight returns the highest depths of current node</p>
<p>break and return false if two children’s height differ by more than 1</p>
<p>else continue checking for both children, until reached null node.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBalanced</span>(TreeNode root) {</div><div class="line">      <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">      <span class="keyword">if</span>(Math.abs(getheight(root.left) - getheight(root.right)) &gt; <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">      <span class="keyword">return</span> isBalanced(root.left) && isBalanced(root.right);</div><div class="line">  }</div><div class="line">  </div><div class="line">  <span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getheight</span>(TreeNode cur){</div><div class="line">      <span class="keyword">if</span>(cur==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">      <span class="keyword">return</span> <span class="number">1</span>+Math.max(getheight(cur.left), getheight(cur.right));</div><div class="line">  }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Binary_Tree_Level_Order_Traversal">Binary Tree Level Order Traversal</h2>
<blockquote>
<p>Given a binary tree, return the level order traversal of its nodes’ values. (ie, from left to right, level by level).<br>For example:<br>Given binary tree {3,9,20,#,#,15,7},</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">  3</div><div class="line"> / <span class="command">\</span></div><div class="line">9  20</div><div class="line">  /  <span class="command">\</span></div><div class="line"> 15   7</div></pre></td></tr></table></figure>

<p>return its level order traversal as:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">3</span>],</div><div class="line">  [<span class="number">9</span>,<span class="number">20</span>],</div><div class="line">  [<span class="number">15</span>,<span class="number">7</span>]</div><div class="line">]</div></pre></td></tr></table></figure>

<h3 id="BFS_Solution">BFS Solution</h3>
<p>use two queues to store all nodes on the current level and their children level, when current level queue is empty, go to the next level</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">levelOrder</span>(TreeNode root) {</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">        Queue&lt;TreeNode&gt; curlevel=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">        Queue&lt;TreeNode&gt; nextlevel=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</div><div class="line">        curlevel.add(root);</div><div class="line">        ArrayList&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        <span class="keyword">while</span>(!curlevel.isEmpty())</div><div class="line">        {</div><div class="line">            TreeNode cur=curlevel.poll();</div><div class="line">            tmp.add(cur.val);</div><div class="line">            <span class="keyword">if</span>(cur.left!=<span class="keyword">null</span>)</div><div class="line">            nextlevel.add(cur.left);</div><div class="line">            <span class="keyword">if</span>(cur.right!=<span class="keyword">null</span>)</div><div class="line">            nextlevel.add(cur.right);</div><div class="line">            </div><div class="line">            <span class="keyword">if</span>(curlevel.isEmpty()){</div><div class="line">              curlevel=nextlevel;</div><div class="line">              nextlevel=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">              res.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(tmp));</div><div class="line">              tmp.clear();</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    }</div></pre></td></tr></table></figure>



<h3 id="DFS_Solution">DFS Solution</h3>
<p>recursively add new levels to the list, keep a variable height to track when to create new list:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> height=<span class="number">0</span>;</div><div class="line">   <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">levelOrder</span>(TreeNode root){</div><div class="line">    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">    dfs(res, root,<span class="number">0</span>);</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line"> }</div><div class="line"> <span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span>( ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, TreeNode root, <span class="keyword">int</span> height){</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span>(height&gt;=res.size()){</div><div class="line">      res.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">    }</div><div class="line">    res.get(height).add(root.val);</div><div class="line">    dfs(res, root.left, height+<span class="number">1</span>);</div><div class="line">    dfs(res, root.right, height+<span class="number">1</span>);</div><div class="line"> }</div></pre></td></tr></table></figure>



<hr>
<h2 id="Binary_Tree_Level_Order_Traversal_II">Binary Tree Level Order Traversal II</h2>
<blockquote>
<p>Given a binary tree, return the bottom-up level order traversal of its nodes’ values. (ie, from left to right, level by level from leaf to root).<br>For example:<br>Given binary tree {3,9,20,#,#,15,7},</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">  3</div><div class="line"> / <span class="command">\</span></div><div class="line">9  20</div><div class="line">  /  <span class="command">\</span></div><div class="line"> 15   7</div></pre></td></tr></table></figure>

<p>return its bottom-up level order traversal as:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">15</span>,<span class="number">7</span>],</div><div class="line">  [<span class="number">9</span>,<span class="number">20</span>],</div><div class="line">  [<span class="number">3</span>]</div><div class="line">]</div></pre></td></tr></table></figure>

<h3 id="BFS_Solution-1">BFS Solution</h3>
<p>Just reverse the result list at the end…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">levelOrderBottom</span>(TreeNode root) {</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">        Queue&lt;TreeNode&gt; curlevel=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">        Queue&lt;TreeNode&gt; nextlevel=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</div><div class="line">        curlevel.add(root);</div><div class="line">        ArrayList&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        <span class="keyword">while</span>(!curlevel.isEmpty())</div><div class="line">        {</div><div class="line">            TreeNode cur=curlevel.poll();</div><div class="line">            tmp.add(cur.val);</div><div class="line">            <span class="keyword">if</span>(cur.left!=<span class="keyword">null</span>)</div><div class="line">            nextlevel.add(cur.left);</div><div class="line">            <span class="keyword">if</span>(cur.right!=<span class="keyword">null</span>)</div><div class="line">            nextlevel.add(cur.right);</div><div class="line">            </div><div class="line">            <span class="keyword">if</span>(curlevel.isEmpty()){</div><div class="line">              curlevel=nextlevel;</div><div class="line">              nextlevel=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">              res.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(tmp));</div><div class="line">              tmp.clear();</div><div class="line">            }</div><div class="line">        }</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; resnew=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=res.size()-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--){</div><div class="line">            resnew.add(res.get(i));</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> resnew;</div><div class="line">    }</div></pre></td></tr></table></figure>

<p>Or More concise</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; levelOrderBottom(TreeNode root) {</div><div class="line">      ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">      Queue&lt;TreeNode&gt; curlevel=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">      <span class="keyword">if</span>(root==<span class="literal">null</span>) return res;</div><div class="line">      curlevel.add(root);</div><div class="line">      <span class="keyword">while</span>(!curlevel.<span class="built_in">isEmpty</span>())</div><div class="line">      {</div><div class="line">         <span class="built_in">int</span> levelnum=curlevel.size();</div><div class="line">         ArrayList&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">         <span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>;i&lt;levelnum;i++){</div><div class="line">             <span class="keyword">if</span>(curlevel.peek().<span class="built_in">left</span>!=<span class="literal">null</span>) curlevel.offer(curlevel.peek().<span class="built_in">left</span>);</div><div class="line">             <span class="keyword">if</span>(curlevel.peek().<span class="built_in">right</span>!=<span class="literal">null</span>) curlevel.offer(curlevel.peek().<span class="built_in">right</span>);</div><div class="line">             tmp.add(curlevel.poll().val);</div><div class="line">         }</div><div class="line">         res.add(<span class="number">0</span>,tmp);</div><div class="line">      }</div><div class="line">      </div><div class="line">      return res;</div><div class="line">  }</div></pre></td></tr></table></figure>

<h3 id="DFS_Solution-1">DFS Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> height=<span class="number">0</span>;</div><div class="line">   <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">levelOrderBottom</span>(TreeNode root){</div><div class="line">    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">    dfs(res, root,<span class="number">0</span>);</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line"> }</div><div class="line"> <span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span>( ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, TreeNode root, <span class="keyword">int</span> height){</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span>(height&gt;=res.size()){</div><div class="line">      res.add(<span class="number">0</span>,<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">    }</div><div class="line">    res.get(res.size()-height-<span class="number">1</span>).add(root.val);</div><div class="line">    dfs(res, root.left, height+<span class="number">1</span>);</div><div class="line">    dfs(res, root.right, height+<span class="number">1</span>);</div><div class="line"> }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Maximum_Depth_of_Binary_Tree">Maximum Depth of Binary Tree</h2>
<blockquote>
<p>Given a binary tree, find its maximum depth.<br>The maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node.</p>
</blockquote>
<h3 id="DFS_Solution-1">DFS Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDepth</span>(TreeNode root) {</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>+Math.max(maxDepth(root.left),maxDepth(root.right));</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Iterative_Solution-1">Iterative Solution</h3>
<p>Use a List to store BFS nodes, and an extra node to keep track of the last node on current level:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDepth</span>(TreeNode root) {</div><div class="line">      <span class="keyword">int</span> depth=<span class="number">0</span>;</div><div class="line">      <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> depth;</div><div class="line">      LinkedList&lt;TreeNode&gt; q=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">      q.offer(root);</div><div class="line">      TreeNode levelend=root, tmp;</div><div class="line">      <span class="keyword">while</span>(!q.isEmpty()){</div><div class="line">          tmp=q.poll();</div><div class="line">          <span class="keyword">if</span>(tmp.left!=<span class="keyword">null</span>) q.offer(tmp.left);</div><div class="line">          <span class="keyword">if</span>(tmp.right!=<span class="keyword">null</span>) q.offer(tmp.right);</div><div class="line">          <span class="keyword">if</span>(tmp==levelend){</div><div class="line">              depth++;</div><div class="line">              levelend=q.peekLast();</div><div class="line">          }</div><div class="line">      } <span class="keyword">return</span> depth;</div><div class="line">  }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Minimum_Depth_of_Binary_Tree">Minimum Depth of Binary Tree</h2>
<blockquote>
<p>Given a binary tree, find its minimum depth.<br>The minimum depth is the number of nodes along the shortest path from the root node down to the nearest leaf node.</p>
</blockquote>
<h3 id="DFS_Solution-1">DFS Solution</h3>
<p>A little different from max path: when one child is null, return the other half, when both is null return 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDepth</span>(TreeNode root) {</div><div class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> && root.right==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span>) <span class="keyword">return</span> minDepth(root.right)+<span class="number">1</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(root.right==<span class="keyword">null</span>) <span class="keyword">return</span> minDepth(root.left)+<span class="number">1</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> Math.min(minDepth(root.left), minDepth(root.right))+<span class="number">1</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="BFS_Solution-1">BFS Solution</h3>
<p>One List to store BFS nodes, one list to store depth, min path found when reached any leaf:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDepth</span>(TreeNode root) {</div><div class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</div><div class="line">    LinkedList&lt;TreeNode&gt; l=<span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">    LinkedList&lt;Integer&gt; count=<span class="keyword">new</span> LinkedList&lt;Integer&gt;();</div><div class="line">    l.offer(root); count.offer(<span class="number">1</span>);</div><div class="line">    <span class="keyword">while</span>(!l.isEmpty()){</div><div class="line">        TreeNode tmp=l.poll();</div><div class="line">        res=count.poll();</div><div class="line">        <span class="keyword">if</span>(tmp.left!=<span class="keyword">null</span>){</div><div class="line">            l.offer(tmp.left);</div><div class="line">            count.offer(res+<span class="number">1</span>);</div><div class="line">        }</div><div class="line">        <span class="keyword">if</span>(tmp.right!=<span class="keyword">null</span>){</div><div class="line">            l.offer(tmp.right);</div><div class="line">            count.offer(res+<span class="number">1</span>);</div><div class="line">            }</div><div class="line">        <span class="keyword">if</span>(tmp.left==<span class="keyword">null</span> && tmp.right==<span class="keyword">null</span>) <span class="keyword">return</span> res;    </div><div class="line">    } <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fcashmerecat%2Fdo-you-cashmere-cat-remix&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>















        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/BFS/"> #BFS </a>
          
            <a href="/tags/DFS/"> #DFS </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.22/">
                Construct Binary Tree from Preorder and Inorder Traversal, Construct Binary Tree from Inorder and Postorder Traversal, Binary Tree Inorder Traversal, Convert Sorted Array to Binary Search Tree, Convert Sorted List to Binary Search Tree, Flatten Binary Tree to Linked List
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.22/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.22/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Construct_Binary_Tree_from_Preorder_and_Inorder_Traversal">Construct Binary Tree from Preorder and Inorder Traversal</h2>
<blockquote>
<p>Given preorder and inorder traversal of a tree, construct the binary tree.<br>Note:<br>You may assume that duplicates do not exist in the tree. </p>
</blockquote>
<h3 id="Solution">Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> pre=<span class="number">0</span>;</div><div class="line"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span>(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder) {</div><div class="line">    <span class="comment">//if(preorder.length==0||inorder.length==0){return null;}</span></div><div class="line">    <span class="keyword">int</span> l=<span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> r=preorder.length-<span class="number">1</span>;</div><div class="line">    <span class="keyword">return</span> build(preorder,inorder,l, r);</div><div class="line">}</div><div class="line"><span class="keyword">public</span> TreeNode <span class="title">build</span>(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder,<span class="keyword">int</span> l, <span class="keyword">int</span> r){</div><div class="line">    <span class="keyword">if</span>(l&gt;r){<span class="keyword">return</span> <span class="keyword">null</span>;}</div><div class="line">    <span class="keyword">int</span> cur=preorder[pre];</div><div class="line">    TreeNode node=<span class="keyword">new</span> TreeNode(cur);</div><div class="line">    pre++;</div><div class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (i=l; i&lt;=r; i++){</div><div class="line">        <span class="keyword">if</span>(inorder[i]==cur)</div><div class="line">        {<span class="keyword">break</span>;}</div><div class="line">    }</div><div class="line">     </div><div class="line">    node.left=build(preorder,inorder,l, i-<span class="number">1</span>);</div><div class="line">    node.right=build(preorder,inorder,i+<span class="number">1</span>, r);</div><div class="line">    </div><div class="line">   <span class="keyword">return</span> node;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Construct_Binary_Tree_from_Inorder_and_Postorder_Traversal">Construct Binary Tree from Inorder and Postorder Traversal</h2>
<blockquote>
<p>Given inorder and postorder traversal of a tree, construct the binary tree.<br>Note:<br>You may assume that duplicates do not exist in the tree.</p>
</blockquote>
<p>Almost the same with previous one, only this time we scan postorder from backwards and recursively add to the right subtree first.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> pos=<span class="number">0</span>;</div><div class="line">    <span class="keyword">public</span> TreeNode <span class="title">buildTree</span>(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder) {</div><div class="line">        pos=inorder.length-<span class="number">1</span>;</div><div class="line">       <span class="keyword">return</span> helper(inorder, postorder, <span class="number">0</span>, inorder.length-<span class="number">1</span>);</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> TreeNode <span class="title">helper</span>(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder, <span class="keyword">int</span> l, <span class="keyword">int</span> r){</div><div class="line">            <span class="keyword">if</span>(l&gt;r) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">            <span class="keyword">int</span> cur=postorder[pos];</div><div class="line">            TreeNode tmp=<span class="keyword">new</span> TreeNode(cur);</div><div class="line">            pos--;</div><div class="line">            <span class="keyword">int</span> i=l;</div><div class="line">            <span class="keyword">for</span>(;i&lt;=r;i++){</div><div class="line">                <span class="keyword">if</span>(inorder[i]==cur) <span class="keyword">break</span>;</div><div class="line">            }</div><div class="line">            </div><div class="line">            tmp.right=helper(inorder,postorder, i+<span class="number">1</span>, r);</div><div class="line">            tmp.left=helper(inorder, postorder, l, i-<span class="number">1</span>);</div><div class="line">            <span class="keyword">return</span> tmp;</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Binary_Tree_Inorder_Traversal">Binary Tree Inorder Traversal</h2>
<blockquote>
<p>Given a binary tree, return the inorder traversal of its nodes’ values.<br>For example:<br>Given binary tree {1,#,2,3},</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1</div><div class="line"> <span class="command">\</span></div><div class="line">  2</div><div class="line"> /</div><div class="line">3</div></pre></td></tr></table></figure>

<p>return [1,3,2].<br>Note: Recursive solution is trivial, could you do it iteratively?<br>confused what “{1,#,2,3}” means? &gt; read more on how binary tree is serialized on OJ.</p>
<h3 id="Recursive_Method(Trivial)">Recursive Method(Trivial)</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">inorderTraversal</span>(TreeNode root) {</div><div class="line">    ArrayList&lt;Integer&gt; res= <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">      <span class="comment">//第一次没过..少了这句</span></div><div class="line">      <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</div><div class="line">    <span class="keyword">return</span> helper(root,res);</div><div class="line">}</div><div class="line"><span class="keyword">private</span>  ArrayList&lt;Integer&gt; <span class="title">helper</span>(TreeNode cur,ArrayList&lt;Integer&gt; res){</div><div class="line">    <span class="keyword">if</span>(cur==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    helper(cur.left, res);</div><div class="line">    res.add(cur.val);</div><div class="line">    helper(cur.right, res);</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Iterative_Method">Iterative Method</h3>
<li>Inorder: left child -&gt; parent -&gt; right child</li><br><li>Use a stack to track nodes</li><br><li>Exit while loop when stack is empty and current node is null</li>

<p>push nodes in the stack when current node is not null, then move to left subtree<br>pop node when current node is null, move to right subtree</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">inorderTraversal</span>(TreeNode root) {</div><div class="line">        ArrayList&lt;Integer&gt; res= <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        Stack&lt;TreeNode&gt; nodestack=<span class="keyword">new</span> Stack&lt;TreeNode&gt;();</div><div class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</div><div class="line">        <span class="keyword">while</span>(!nodestack.isEmpty() || root!=<span class="keyword">null</span>){</div><div class="line">            <span class="keyword">if</span>(root!=<span class="keyword">null</span>){</div><div class="line">                nodestack.push(root);</div><div class="line">                root=root.left;</div><div class="line">            }</div><div class="line">            <span class="keyword">else</span>{</div><div class="line">                TreeNode tmp=nodestack.pop();</div><div class="line">                res.add(tmp.val);</div><div class="line">                root=tmp.right;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Convert_Sorted_Array_to_Binary_Search_Tree">Convert Sorted Array to Binary Search Tree</h2>
<blockquote>
<p>Given an array where elements are sorted in ascending order, convert it to a height balanced BST.</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<p>Use recursion, find median element each time, move to left/right subtree.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> TreeNode <span class="title">sortedArrayToBST</span>(<span class="keyword">int</span>[] num) {</div><div class="line">       <span class="keyword">return</span> helper(num, <span class="number">0</span>, num.length-<span class="number">1</span>);</div><div class="line">   }</div><div class="line">   </div><div class="line">   <span class="keyword">private</span> TreeNode <span class="title">helper</span>(<span class="keyword">int</span>[] num,<span class="keyword">int</span> l, <span class="keyword">int</span> r){</div><div class="line">       <span class="keyword">if</span>(l&gt;r) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">       <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</div><div class="line">       TreeNode newnode=<span class="keyword">new</span> TreeNode(num[mid]);</div><div class="line">       newnode.left=helper(num, l, mid-<span class="number">1</span>);</div><div class="line">       newnode.right=helper(num, mid+<span class="number">1</span>, r);</div><div class="line">       <span class="keyword">return</span> newnode;</div><div class="line">   }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Convert_Sorted_List_to_Binary_Search_Tree">Convert Sorted List to Binary Search Tree</h2>
<blockquote>
<p>Given a singly linked list where elements are sorted in ascending order, convert it to a height balanced BST.</p>
</blockquote>
<h3 id="Naive_Solution">Naive Solution</h3>
<p>Just convert LinkedList to Array first…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> TreeNode <span class="title">sortedListToBST</span>(ListNode head) {</div><div class="line">       ListNode cur = head;</div><div class="line">       List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">       <span class="keyword">while</span> (cur != <span class="keyword">null</span>) {</div><div class="line">           res.add(cur.val);</div><div class="line">           cur = cur.next;</div><div class="line">       }</div><div class="line">       <span class="keyword">return</span> helper(res, <span class="number">0</span>, res.size() - <span class="number">1</span>);</div><div class="line">   }</div><div class="line">    <span class="keyword">private</span> TreeNode <span class="title">helper</span>(List&lt;Integer&gt; res,<span class="keyword">int</span> l, <span class="keyword">int</span> r){</div><div class="line">       <span class="keyword">if</span>(l&gt;r) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">       <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</div><div class="line">       TreeNode newnode=<span class="keyword">new</span> TreeNode(res.get(mid));</div><div class="line">       newnode.left=helper(res, l, mid-<span class="number">1</span>);</div><div class="line">       newnode.right=helper(res, mid+<span class="number">1</span>, r);</div><div class="line">       <span class="keyword">return</span> newnode;</div><div class="line">   }</div></pre></td></tr></table></figure>

<h3 id="Recursive_Solution">Recursive Solution</h3>
<p>The trick here is to use two pointers, one slow and one twice the speed, to find the median element.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title">sortedListToBST</span>(ListNode head) {  </div><div class="line">        <span class="keyword">return</span> rec(head, <span class="keyword">null</span>);  </div><div class="line">    }  </div><div class="line">      </div><div class="line">    <span class="comment">// 在区间[start, end)里递归，后面的end是包括在内的，这样可以避免要多用一个指针来记录mid前的节点  </span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title">rec</span>(ListNode start, ListNode end){  </div><div class="line">        <span class="keyword">if</span>(start == end){  </div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </div><div class="line">        }  </div><div class="line">          </div><div class="line">        <span class="comment">// 一次遍历找到中点的方法：快慢指针  </span></div><div class="line">        ListNode mid = start;           <span class="comment">// 该指针最终会指向中点  </span></div><div class="line">        ListNode probe = start;         <span class="comment">// 探针最终会到达end  </span></div><div class="line">        <span class="keyword">while</span>(probe!=end && probe.next!=end){       <span class="comment">// 探针完成搜索，注意停止条件是和end比较而不是和null比！  </span></div><div class="line">            mid = mid.next;  </div><div class="line">            probe = probe.next.next;  </div><div class="line">        }  </div><div class="line">          </div><div class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(mid.val);  </div><div class="line">        root.left = rec(start, mid);  </div><div class="line">        root.right = rec(mid.next, end);  </div><div class="line">        <span class="keyword">return</span> root;  </div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Flatten_Binary_Tree_to_Linked_List">Flatten Binary Tree to Linked List</h2>
<blockquote>
<p>Given a binary tree, flatten it to a linked list in-place.<br>For example,<br>Given</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">    1</div><div class="line">   / <span class="command">\</span></div><div class="line">  2   5</div><div class="line"> / <span class="command">\ </span>  <span class="command">\</span></div><div class="line">3   4   6</div></pre></td></tr></table></figure>

<p>The flattened tree should look like:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">1</div><div class="line"> <span class="command">\</span></div><div class="line">  2</div><div class="line">   <span class="command">\</span></div><div class="line">    3</div><div class="line">     <span class="command">\</span></div><div class="line">      4</div><div class="line">       <span class="command">\</span></div><div class="line">        5</div><div class="line">         <span class="command">\</span></div><div class="line">          6</div></pre></td></tr></table></figure>

<h3 id="Iterative_Solution">Iterative Solution</h3>
<p>Using a stack to solve this problem is easy: start from root, push right, left into stack. If stack is not empty, set cur.right to stack.peek(). Continue to process the next node from top of stack.<br>But to do it inplace requires to keep track of the origin right node. Overall process is to squeeze the left node into between its parents and right child.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span>(TreeNode root) {</div><div class="line">        TreeNode head=<span class="keyword">new</span> TreeNode(<span class="number">0</span>);</div><div class="line">        head.right=root;</div><div class="line">        TreeNode cur=head;</div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(cur.right!=<span class="keyword">null</span>){</div><div class="line">            cur=cur.right;</div><div class="line">            <span class="keyword">if</span>(cur.left!=<span class="keyword">null</span>){</div><div class="line">                TreeNode end=cur.left;</div><div class="line">                <span class="keyword">while</span>(end.right!=<span class="keyword">null</span>)</div><div class="line">                end=end.right;</div><div class="line">                TreeNode tmp=tmp=cur.right;</div><div class="line">                cur.right=cur.left;</div><div class="line">                end.right=tmp;</div><div class="line">                cur.left=<span class="keyword">null</span>;</div><div class="line">            }</div><div class="line">        } head.right=<span class="keyword">null</span>;</div><div class="line">        </div><div class="line">    }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fanthony-cavazzoli%2Fdeorro-five-hours-original-mix&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>








        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/BFS/"> #BFS </a>
          
            <a href="/tags/DFS/"> #DFS </a>
          
            <a href="/tags/LinkedList/"> #LinkedList </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.20/">
                Subsets, Subsets II, Missing Ranges
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.20/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.20/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Subsets">Subsets</h2>
<blockquote>
<p>Given a set of distinct integers, S, return all possible subsets.<br>Note:<br>Elements in a subset must be in non-descending order.<br>The solution set must not contain duplicate subsets.<br>For example,<br>If S = [1,2,3], a solution is:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>],</div><div class="line">  [<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  []</div><div class="line">]</div></pre></td></tr></table></figure>

<h3 id="Non-recursive_Solution"><a href="https://leetcodenotes.wordpress.com/2013/10/08/leetcode-subsets-2-%E7%BB%99%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%EF%BC%8C%E8%BE%93%E5%87%BA%E6%89%80%E6%9C%89%E5%8D%87%E5%BA%8F%E7%9A%84%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84subsets/" target="_blank" rel="external">Non-recursive Solution</a></h3>
<p>Just keep adding current number to the result collection..<br>Pay attention to the use of add and addAll</p>
<p>i=0 | [[], [1]]<br>i=1 | [[2], [1,2]]<br>i=2 | [[3], [1,3], [2,3], [1,2,3]]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">subsets</span>(<span class="keyword">int</span>[] S) {</div><div class="line">        Arrays.sort(S);</div><div class="line">        ArrayList&lt;Integer&gt; subset=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ();</div><div class="line">        <span class="comment">//add empty set</span></div><div class="line">        subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">        <span class="comment">//add set from layers </span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;S.length;i++){</div><div class="line">             ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsetsfori=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">            <span class="keyword">for</span>(ArrayList&lt;Integer&gt; prev: subsets){</div><div class="line">                ArrayList&lt;Integer&gt; tmp= <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">                tmp.addAll(prev);</div><div class="line">                tmp.add(S[i]);</div><div class="line">                subsetsfori.add(tmp);</div><div class="line">        }</div><div class="line">        subsets.addAll(subsetsfori);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> subsets;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Recursive_Solution"><a href="http://blog.csdn.net/u011095253/article/details/9158397" target="_blank" rel="external">Recursive Solution</a></h3>
<p>Similar to DFS, i refers to start position of a subset</p>
<p>i=0 | [[], [1], [1,2], [1,2,3]]<br>i=1 | [[2], [2,3]]<br>i=2 | [[3]]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">subsets</span>(<span class="keyword">int</span>[] S) {</div><div class="line">        Arrays.sort(S);</div><div class="line">        ArrayList&lt;Integer&gt; subset=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ();</div><div class="line">        subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">        subset_helper(subsets, subset, <span class="number">0</span>, S);</div><div class="line">    <span class="keyword">return</span> subsets;</div><div class="line">}</div><div class="line">    <span class="keyword">private</span>  <span class="keyword">void</span> <span class="title">subset_helper</span>(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets, ArrayList&lt;Integer&gt; subset, <span class="keyword">int</span> start, <span class="keyword">int</span>[] s){</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;s.length;i++){</div><div class="line">            subset.add(s[i]);</div><div class="line">            <span class="comment">//add new arraylist subset here</span></div><div class="line">            subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(subset));</div><div class="line">            subset_helper(subsets, subset, i+<span class="number">1</span>, s);</div><div class="line">            subset.remove(subset.size()-<span class="number">1</span>);</div><div class="line">        }</div><div class="line">    }</div></pre></td></tr></table></figure>

<h2 id="Subsets_II">Subsets II</h2>
<blockquote>
<p>Given a collection of integers that might contain duplicates, S, return all possible subsets.<br>Note:<br>Elements in a subset must be in non-descending order.<br>The solution set must not contain duplicate subsets.<br>For example,<br>If S = [1,2,2], a solution is:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  []</div><div class="line">]</div></pre></td></tr></table></figure>

<p>Only difference is the added while loop.<br>If completed current layer, and found the next element is the same then skip.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">subsetsWithDup</span>(<span class="keyword">int</span>[] num) {</div><div class="line">          Arrays.sort(num);</div><div class="line">        ArrayList&lt;Integer&gt; subset=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ();</div><div class="line">        subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">        subset_helper(subsets, subset, <span class="number">0</span>, num);</div><div class="line">    <span class="keyword">return</span> subsets;</div><div class="line">    }</div><div class="line">    </div><div class="line">  <span class="keyword">private</span>  <span class="keyword">void</span> <span class="title">subset_helper</span>(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets, ArrayList&lt;Integer&gt; subset, <span class="keyword">int</span> start, <span class="keyword">int</span>[] s){</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;s.length;i++){</div><div class="line">      subset.add(s[i]);</div><div class="line">      <span class="comment">//add new arraylist subset here</span></div><div class="line">      subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(subset));</div><div class="line">      subset_helper(subsets, subset, i+<span class="number">1</span>, s);</div><div class="line">      subset.remove(subset.size()-<span class="number">1</span>);</div><div class="line">      <span class="keyword">while</span>(i &lt; s.length-<span class="number">1</span> && s[i]==s[i+<span class="number">1</span>]) </div><div class="line">      {i++;}</div><div class="line">  }</div><div class="line">}</div></pre></td></tr></table></figure>

<h2 id="Missing_Ranges">Missing Ranges</h2>
<blockquote>
<p>Given a sorted integer array where the range of elements are [lower, upper] inclusive, return its missing ranges.<br>For example, given [0, 1, 3, 50, 75], lower = 0 and upper = 99, return [“2”, “4-&gt;49”, “51-&gt;74”, “76-&gt;99”].</p>
</blockquote>
<p>Main idea: output accrodingly when two elements differ&gt;=2, pay attention to edge cases.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">findmissingRanges</span>(<span class="keyword">int</span>[] num, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper){</div><div class="line">    ArrayList&lt;String&gt; res=<span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">   </div><div class="line">      <span class="keyword">if</span>(num.length==<span class="number">0</span>){</div><div class="line">        <span class="keyword">if</span>(lower!=upper) res.add(lower+<span class="string">"-&gt;"</span>+upper);</div><div class="line">        <span class="keyword">else</span> res.add(lower+<span class="string">""</span>);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">      }</div><div class="line">      <span class="keyword">if</span>(lower&lt;num[<span class="number">0</span>]){</div><div class="line">        <span class="keyword">if</span>(num[<span class="number">0</span>]-lower&gt;<span class="number">1</span>) res.add(lower+<span class="string">"-&gt;"</span>+(num[<span class="number">0</span>]-<span class="number">1</span>));</div><div class="line">        <span class="keyword">else</span> res.add(lower+<span class="string">""</span>);</div><div class="line">      }</div><div class="line">      </div><div class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;num.length-<span class="number">1</span>;i++){</div><div class="line">        <span class="keyword">if</span>(num[i+<span class="number">1</span>]-num[i]&gt;<span class="number">2</span>) res.add((num[i]+<span class="number">1</span>)+<span class="string">"-&gt;"</span>+(num[i+<span class="number">1</span>]-<span class="number">1</span>)+<span class="string">""</span>);</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(num[i+<span class="number">1</span>]-num[i]==<span class="number">2</span>) res.add(num[i]+<span class="number">1</span>+<span class="string">""</span>);</div><div class="line">        <span class="keyword">else</span> <span class="keyword">continue</span>;</div><div class="line">      }</div><div class="line">      </div><div class="line">      <span class="keyword">if</span>(num[num.length-<span class="number">1</span>]&lt;upper){</div><div class="line">        <span class="keyword">if</span>(upper-num[num.length-<span class="number">1</span>]&gt;<span class="number">1</span>) res.add(num[num.length-<span class="number">1</span>]+<span class="number">1</span>+<span class="string">"-&gt;"</span>+upper);</div><div class="line">        <span class="keyword">else</span> res.add(<span class="string">""</span>+upper);</div><div class="line">      }</div><div class="line">      <span class="keyword">return</span> res;</div><div class="line">  }</div></pre></td></tr></table></figure>

<p>More Concise:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findMissingRanges</span>(<span class="keyword">int</span>[] vals, <span class="keyword">int</span> start, <span class="keyword">int</span> end) {</div><div class="line">       List&lt;String&gt; ranges = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">       <span class="keyword">int</span> prev = start - <span class="number">1</span>;</div><div class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=vals.length; i++) {</div><div class="line">           <span class="keyword">int</span> curr = (i==vals.length) ? end + <span class="number">1</span> : vals[i];</div><div class="line">           <span class="keyword">if</span> ( curr-prev&gt;=<span class="number">2</span> ) {</div><div class="line">               ranges.add(getRange(prev+<span class="number">1</span>, curr-<span class="number">1</span>));</div><div class="line">           }</div><div class="line">           prev = curr;</div><div class="line">       }</div><div class="line">       <span class="keyword">return</span> ranges;</div><div class="line">   }</div><div class="line">   <span class="keyword">private</span> String <span class="title">getRange</span>(<span class="keyword">int</span> from, <span class="keyword">int</span> to) {</div><div class="line">       <span class="keyword">return</span> (from==to) ? String.valueOf(from) : from + <span class="string">"-&gt;"</span> +to;</div><div class="line">   }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fahainen%2Ftwo-door-cinema-club-golden-1&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>



        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.2/">
                Remove Nth Node From End of List, Merge Two Sorted Lists, Merge K Sorted Lists
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.2/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.2/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Remove_Nth_Node_From_End_of_List">Remove Nth Node From End of List</h2>
<blockquote>
<p>Given a linked list, remove the nth node from the end of list and return its head.<br>For example,<br>Given linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5, and n = 2.<br>After removing the second node from the end, the linked list becomes 1-&gt;2-&gt;3-&gt;5.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>Honestly I don’t know how my first solution got accepted, basically I just count the size of list and then remove that element in the second pass.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span>(ListNode head, <span class="keyword">int</span> n) {</div><div class="line">           ListNode cur=head;</div><div class="line">           <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">           <span class="keyword">while</span>(cur!=<span class="keyword">null</span>){cur=cur.next;i++;}</div><div class="line">           System.out.println(i);</div><div class="line">           ListNode cur2=head;</div><div class="line">            </div><div class="line">           <span class="keyword">if</span>(n==i){head=head.next;}</div><div class="line">            </div><div class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i-n-<span class="number">1</span>;j++){</div><div class="line">               </div><div class="line">               System.out.println(j);</div><div class="line">               cur2=cur2.next;</div><div class="line">           }</div><div class="line">           <span class="keyword">if</span> (cur2.next == <span class="keyword">null</span>) {</div><div class="line">               <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">           }</div><div class="line">           <span class="keyword">else</span> cur2.next=cur2.next.next;</div><div class="line">           </div><div class="line">           <span class="keyword">return</span> head;      </div><div class="line">       }</div></pre></td></tr></table></figure>

<p>One pass solution using two pointers: one fake pointer to move n steps from the beginning, then move both pointers until list ends.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span>(ListNode head, <span class="keyword">int</span> n) {</div><div class="line">     </div><div class="line">         ListNode cur=head;</div><div class="line">         ListNode p=head;</div><div class="line">         </div><div class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++){cur=cur.next;}</div><div class="line">         <span class="comment">//deal with removing head cases</span></div><div class="line">         <span class="keyword">if</span>(cur==<span class="keyword">null</span>) head=head.next;</div><div class="line">         <span class="comment">//made a mistake here, forgot to move cur with p...</span></div><div class="line">         <span class="keyword">else</span> {<span class="keyword">while</span>(cur.next!=<span class="keyword">null</span>){p=p.next;cur=cur.next;}</div><div class="line">         p.next=p.next.next;}</div><div class="line">         <span class="keyword">return</span> head;</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Merge_Two_Sorted_Lists">Merge Two Sorted Lists</h2>
<blockquote>
<p>Merge two sorted linked lists and return it as a new list. The new list should be made by splicing together the nodes of the first two lists.</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<p>Note: Algorithm is trivial, however I always forget to copy head to last therefore lost the final head during the iteration…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span>(ListNode l1, ListNode l2) {</div><div class="line">        ListNode h=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</div><div class="line">        ListNode l=h;</div><div class="line">        <span class="keyword">while</span>(l1!=<span class="keyword">null</span>&&l2!=<span class="keyword">null</span>){</div><div class="line">            <span class="keyword">if</span>(l1.val&lt;l2.val){</div><div class="line">                l.next=l1;</div><div class="line">                l1=l1.next;     </div><div class="line">            }</div><div class="line">            <span class="keyword">else</span>{</div><div class="line">                l.next=l2;</div><div class="line">                l2=l2.next;</div><div class="line">            }</div><div class="line">            l=l.next;</div><div class="line">        }</div><div class="line">        <span class="comment">//attach the rest of one list</span></div><div class="line">        <span class="keyword">if</span> (l1==<span class="keyword">null</span>) l.next=l2;</div><div class="line">        <span class="keyword">else</span> l.next=l1;</div><div class="line">        <span class="keyword">return</span> h.next;</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Merge_K_Sorted_Lists">Merge K Sorted Lists</h2>
<blockquote>
<p>Merge k sorted linked lists and return it as one sorted list. Analyze and describe its complexity.</p>
</blockquote>
<h3 id="Solution-2">Solution</h3>
<p>First Solution is Divide and Conquer, by calling the above method and reconstruct. The recursion is T(k) = 2T(k/2)+O(n*k)=O(nklogk).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span>(List&lt;ListNode&gt; lists) {</div><div class="line">         </div><div class="line">         <span class="keyword">int</span> n=lists.size();</div><div class="line">         <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">         <span class="comment">//main function call</span></div><div class="line">         <span class="keyword">else</span> <span class="keyword">return</span> mergeKlist(lists,<span class="number">0</span>,n-<span class="number">1</span>);</div><div class="line">         </div><div class="line">     }</div><div class="line">     </div><div class="line">     <span class="keyword">public</span> ListNode <span class="title">mergeKlist</span>(List&lt;ListNode&gt; lists, <span class="keyword">int</span> l, <span class="keyword">int</span> r){</div><div class="line">         </div><div class="line">         <span class="keyword">if</span>(l&lt;r){</div><div class="line">             <span class="keyword">int</span> m=(l+r)/<span class="number">2</span>;</div><div class="line">             <span class="comment">//divide the lists by 2 until its size reaches 1, then merge them from bottom to top</span></div><div class="line">             <span class="keyword">return</span> mergeTwoLists(mergeKlist(lists,l,m),mergeKlist(lists,m+<span class="number">1</span>,r));</div><div class="line">         }</div><div class="line">         </div><div class="line">         <span class="keyword">return</span> lists.get(l);</div><div class="line">       }</div></pre></td></tr></table></figure>

<p>Or, instead of dividing into two parts, we can use ArrayDeque Class. (Similar to brute force solution, merges two list each time, whose complexity is n(2+3+…k)=O(nk^2))</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span>(List&lt;ListNode&gt; lists) {</div><div class="line">    </div><div class="line">      <span class="keyword">if</span>(lists == <span class="keyword">null</span> || lists.isEmpty()) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">      ArrayDeque&lt;ListNode&gt; q = <span class="keyword">new</span> ArrayDeque&lt;ListNode&gt;();</div><div class="line">      <span class="keyword">for</span>(ListNode n : lists) {</div><div class="line">          <span class="keyword">if</span> (n != <span class="keyword">null</span>) q.offer(n);</div><div class="line">      }</div><div class="line">      <span class="keyword">while</span>(q.size() &gt; <span class="number">1</span>) {</div><div class="line">          ListNode a = q.poll();</div><div class="line">          ListNode b = q.poll();</div><div class="line">          q.offer(mergeTwoLists(a, b));</div><div class="line">      }</div><div class="line">      </div><div class="line">      <span class="keyword">return</span> q.poll();</div><div class="line"> }</div></pre></td></tr></table></figure>

<p>Second Solution is PQ. We can add the heads of all lists into the queue. And we can poll out the smallest one. If the next node of this smallest node is not null, we can add the next node to the queue. Until we empty the PQ, we get the sorted lists. The complexity is also O(nklogk).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span>(List&lt;ListNode&gt; lists) {</div><div class="line">         <span class="keyword">if</span>(lists == <span class="keyword">null</span> || lists.isEmpty()) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">         PriorityQueue&lt;ListNode&gt; heap=<span class="keyword">new</span> PriorityQueue&lt;&gt;(lists.size(), <span class="keyword">new</span> Comparator&lt;ListNode&gt;(){</div><div class="line">            <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span>(ListNode a, ListNode b){</div><div class="line">                <span class="keyword">if</span>(a==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">                <span class="keyword">if</span>(b==<span class="keyword">null</span>) <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">                <span class="keyword">return</span> a.val - b.val;</div><div class="line">            }</div><div class="line">            });</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;lists.size(); i++){</div><div class="line">            <span class="keyword">if</span>(lists.get(i) != <span class="keyword">null</span>){</div><div class="line">                heap.add(lists.get(i));</div><div class="line">            }</div><div class="line">        }</div><div class="line">        ListNode h=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</div><div class="line">        ListNode l=h;</div><div class="line">        <span class="keyword">while</span>(!heap.isEmpty()){</div><div class="line">            ListNode head=heap.poll();</div><div class="line">            l.next=head;</div><div class="line">            l=head;</div><div class="line">            <span class="keyword">if</span>(head.next != <span class="keyword">null</span>){</div><div class="line">                heap.add(head.next);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> h.next;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Ftheneighbourhood%2Fsweater-weather-little&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>


        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/LinkedList/"> #LinkedList </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.2－2/">
                First Missing Positive, Sort Colors
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.2－2/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.2－2/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="First_Missing_Positive">First Missing Positive</h2>
<blockquote>
<p>Given an unsorted integer array, find the first missing positive integer.<br>For example,<br>Given [1,2,0] return 3,<br>and [3,4,-1,1] return 2.<br>Your algorithm should run in O(n) time and uses constant space.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>First solution I thought of is simply sort the array, then find the fist missing positive by comparing each positive element with index. However, even though this passed the OJ, it’s still O(logn) time.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstMissingPositive</span>(<span class="keyword">int</span> A[]) {</div><div class="line">    <span class="keyword">int</span> n= A.length;</div><div class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> index=<span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    Arrays.sort(A);</div><div class="line">    <span class="keyword">while</span>(i&lt;n && A[i]&lt;=<span class="number">0</span>) i++;</div><div class="line">    <span class="keyword">for</span>(;i&lt;n;i++){</div><div class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>&&A[i]==A[i-<span class="number">1</span>]) <span class="keyword">continue</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(A[i]-index!=<span class="number">1</span>) <span class="keyword">return</span> index+<span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> index=A[i];</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> index+<span class="number">1</span>;  </div><div class="line">}</div></pre></td></tr></table></figure>

<p>Second solution sorts every number corresponding with index, index i holds number i+1, if i+1 is not in the array then we return the smallest mismatch. The runtime is O(n).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstMissingPositive</span>(<span class="keyword">int</span> A[]) {</div><div class="line">    <span class="keyword">int</span> n= A.length;</div><div class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> tmp=<span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">while</span>(i&lt;n){</div><div class="line">        <span class="keyword">if</span>(A[i]&gt;<span class="number">0</span> && A[i]&lt;n && A[i]!=A[A[i]-<span class="number">1</span>])</div><div class="line">        {</div><div class="line">            tmp=A[A[i]-<span class="number">1</span>];</div><div class="line">            A[A[i]-<span class="number">1</span>]=A[i];</div><div class="line">            A[i]=tmp;</div><div class="line">        }</div><div class="line">        <span class="keyword">else</span> i++;</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++){</div><div class="line">        <span class="keyword">if</span>(A[i]!=i+<span class="number">1</span>) <span class="keyword">return</span> i+<span class="number">1</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> n+<span class="number">1</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Sort_Colors">Sort Colors</h2>
<blockquote>
<p>Given an array with n objects colored red, white or blue, sort them so that objects of the same color are adjacent, with the colors in the order red, white and blue.<br>Here, we will use the integers 0, 1, and 2 to represent the color red, white, and blue respectively.<br>Note:<br>You are not suppose to use the library’s sort function for this problem.</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<p>First solution is counting sort, two pass algorithm.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span>(<span class="keyword">int</span>[] A) {     </div><div class="line">      <span class="keyword">int</span> n=A.length;</div><div class="line">      <span class="keyword">int</span>[] B=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++){</div><div class="line">        B[A[i]]++;</div><div class="line">      }</div><div class="line">      <span class="keyword">int</span> p=<span class="number">0</span>;</div><div class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;B.length;j++){</div><div class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;B[j];k++)</div><div class="line">              A[p++]=j;</div><div class="line">      }          </div><div class="line">    }</div></pre></td></tr></table></figure>

<p>Second Solution is one pass three way partition, using three pointers: pr for the first not red, pb for first not blue and i for current.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span>(<span class="keyword">int</span>[] A) {</div><div class="line">       </div><div class="line">       <span class="keyword">int</span> n=A.length;</div><div class="line">       <span class="keyword">int</span> pr=<span class="number">0</span>,pb=n-<span class="number">1</span>,i=<span class="number">0</span>;</div><div class="line">       <span class="keyword">while</span>(pr&lt;n&&A[pr]==<span class="number">0</span>) pr++;</div><div class="line">       <span class="keyword">while</span>(pb&gt;<span class="number">0</span>&&A[pb]==<span class="number">2</span>) pb--;</div><div class="line">       i=pr;</div><div class="line">       <span class="keyword">while</span>(i&lt;=pb){</div><div class="line">           </div><div class="line">           <span class="keyword">if</span>(A[i]==<span class="number">0</span>) {swap(A,i,pr); pr++;}</div><div class="line">           <span class="keyword">if</span>(A[i]==<span class="number">2</span>) {swap(A,i,pb); pb--;}</div><div class="line">           <span class="keyword">else</span> i++;</div><div class="line">       }</div><div class="line">         </div><div class="line">     }</div><div class="line">   </div><div class="line">   <span class="keyword">void</span> swap(<span class="keyword">int</span>[] A,<span class="keyword">int</span> a, <span class="keyword">int</span> b){</div><div class="line">       <span class="keyword">int</span> tmp=A[a];</div><div class="line">       A[a]=A[b];</div><div class="line">       A[b]=tmp;</div><div class="line">   }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Ffoundations%2F06-sleepyhead&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>




        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Sort/"> #Sort </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.18/">
                Merge Sorted Array, Merge Intervals, Insert Interval
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.18/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.18/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Merge_Sorted_Array">Merge Sorted Array</h2>
<blockquote>
<p>Given two sorted integer arrays A and B, merge B into A as one sorted array.<br>Note:<br>You may assume that A has enough space (size that is greater or equal to m + n) to hold additional elements from B. The number of elements initialized in A and B are m and n respectively.</p>
</blockquote>
<h3 id="Two_Pointer_Solution:">Two Pointer Solution:</h3>
<p>Unlike merge sort, we need to merge these two arrays in place. So start from the end (A[m+n-1]), we compare each pointer. Until one of the pointers reached 0, copy the rest of B to A.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span>(<span class="keyword">int</span> A[], <span class="keyword">int</span> m, <span class="keyword">int</span> B[], <span class="keyword">int</span> n) {</div><div class="line">        <span class="keyword">int</span> cur=m+n;</div><div class="line">        <span class="keyword">while</span>(m&gt;<span class="number">0</span> && n&gt;<span class="number">0</span>){</div><div class="line">             <span class="keyword">if</span>(A[m-<span class="number">1</span>]&lt;B[n-<span class="number">1</span>]){A[--cur]=B[--n];}</div><div class="line">             <span class="keyword">else</span> {A[--cur]=A[--m];}</div><div class="line">        }</div><div class="line">        <span class="keyword">while</span>(n&gt;<span class="number">0</span>){A[--cur]=B[--n];}</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Merge_Intervals">Merge Intervals</h2>
<blockquote>
<p>Given a collection of intervals, merge all overlapping intervals.<br>For example,<br>Given [1,3],[2,6],[8,10],[15,18],<br>return [1,6],[8,10],[15,18].</p>
</blockquote>
<h3 id="Correct_Solution">Correct Solution</h3>
<p>At first sort the Intervals, then I thought of three basic cases:</p>
<li>cur.end &gt; next.end (&amp;&amp; cur.end &gt; next.start)</li>

<li>cur.end &lt; next.end &amp;&amp; cur.end &gt; next.start</li>

<li>cur.end &lt; next.end &amp;&amp; cur.end &lt; next.start</li>

<p>we can leave the third case alone, and only the first two cases need to be merged: if(cur.end &gt; next.start) we set cur.end to the max out of two ends.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> ArrayList&lt;Interval&gt; <span class="title">merge</span>(ArrayList&lt;Interval&gt; intervals) {</div><div class="line">  <span class="comment">//sort according to start using inline comparator</span></div><div class="line">  Collections.sort(intervals, <span class="keyword">new</span> Comparator&lt;Interval&gt;(){</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span>(Interval a, Interval b) {</div><div class="line">      <span class="keyword">return</span> a.start-b.start;</div><div class="line">    }</div><div class="line">  });</div><div class="line">  <span class="comment">//compare and add to result</span></div><div class="line">  ArrayList&lt;Interval&gt; res=<span class="keyword">new</span> ArrayList&lt;Interval&gt;();</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;intervals.size();i++){</div><div class="line">    Interval cur=intervals.get(i);</div><div class="line">    <span class="comment">//imagine cur to eat all overlapped intervals</span></div><div class="line">    <span class="keyword">while</span>(i&lt;intervals.size()-<span class="number">1</span> && cur.end&gt;=intervals.get(i+<span class="number">1</span>).start){</div><div class="line">      cur.end=Math.max(cur.end, intervals.get(i+<span class="number">1</span>).end);</div><div class="line">      i++;</div><div class="line">    }</div><div class="line">    res.add(cur);</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Insert_Interval">Insert Interval</h2>
<blockquote>
<p>Given a set of non-overlapping intervals, insert a new interval into the intervals (merge if necessary).<br>You may assume that the intervals were initially sorted according to their start times.<br>Example 1:<br>Given intervals [1,3],[6,9], insert and merge [2,5] in as [1,5],[6,9].<br>Example 2:<br>Given [1,2],[3,5],[6,7],[8,10],[12,16], insert and merge [4,9] in as [1,2],[3,10],[12,16].<br>This is because the new interval [4,9] overlaps with [3,5],[6,7],[8,10].</p>
</blockquote>
<h3 id="Solution(while_loop)">Solution(while loop)</h3>
<p>Still three cases:<br><img src="http://www.programcreek.com/wp-content/uploads/2012/12/insert-interval--650x351.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;Interval&gt; <span class="title">insert</span>(ArrayList&lt;Interval&gt; intervals, Interval newInterval) {</div><div class="line">        <span class="keyword">int</span> i=<span class="number">0</span>; Interval cur=<span class="keyword">null</span>;</div><div class="line">        <span class="keyword">if</span>(intervals.size()==<span class="number">0</span>) {intervals.add(newInterval); <span class="keyword">return</span> intervals;}</div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(i&lt;intervals.size()){</div><div class="line">          cur=intervals.get(i);</div><div class="line">          <span class="comment">//nonoverlap, newInterval is behind current, continue</span></div><div class="line">          <span class="keyword">if</span>(cur.end&lt;newInterval.start) {i++;<span class="keyword">continue</span>;}</div><div class="line">          <span class="comment">//nonoverlap, newInterval is before current, jump out of loop</span></div><div class="line">          <span class="keyword">else</span> <span class="keyword">if</span>(cur.start&gt;newInterval.end) <span class="keyword">break</span>;</div><div class="line">          <span class="comment">//overlap, update newInterval and remove current</span></div><div class="line">          <span class="keyword">else</span> {</div><div class="line">            newInterval.start=Math.min(newInterval.start, cur.start);</div><div class="line">            newInterval.end=Math.max(newInterval.end, cur.end);</div><div class="line">            intervals.remove(i);</div><div class="line">          }</div><div class="line">        }</div><div class="line">        intervals.add(i, newInterval);</div><div class="line">         <span class="keyword">return</span> intervals;</div><div class="line">        }</div></pre></td></tr></table></figure>

<h3 id="Solution(For_each_loop)">Solution(For each loop)</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;Interval&gt; <span class="title">insert</span>(ArrayList&lt;Interval&gt; intervals, Interval newInterval) {</div><div class="line">       ArrayList&lt;Interval&gt; res = <span class="keyword">new</span> ArrayList&lt;Interval&gt;();</div><div class="line"><span class="comment">//for each interval in list, add to res</span></div><div class="line">       <span class="keyword">for</span>(Interval interval: intervals){</div><div class="line">           <span class="keyword">if</span>(interval.end &lt; newInterval.start){</div><div class="line">               res.add(interval);</div><div class="line">           }</div><div class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(interval.start &gt; newInterval.end){</div><div class="line">               res.add(newInterval);</div><div class="line">               newInterval = interval;        </div><div class="line">           }</div><div class="line">           <span class="keyword">else</span> {</div><div class="line">               newInterval.start=Math.min(interval.start, newInterval.start);</div><div class="line">               newInterval.end=Math.max(newInterval.end, interval.end);</div><div class="line">           }</div><div class="line">       }</div><div class="line">       res.add(newInterval); </div><div class="line">       <span class="keyword">return</span> res;</div></pre></td></tr></table></figure>

<h3 id="Solution(ListIterator)">Solution(ListIterator)</h3>
<p>ListIterator:</p>
<li>hasNext(), next(), add(), hasPrevious(), previous(),remove(), set(), nextIndex(), previousIndex()</li>

<p>Iterator:</p>
<li>hasNext(), next(), remove()</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> ArrayList&lt;Interval&gt; <span class="title">insert</span>(ArrayList&lt;Interval&gt; intervals, Interval newInterval) {</div><div class="line">  Interval cur=<span class="keyword">null</span>;</div><div class="line">  <span class="keyword">if</span>(intervals.size()==<span class="number">0</span>) {intervals.add(newInterval); <span class="keyword">return</span> intervals;}</div><div class="line">  ListIterator&lt;Interval&gt; it=intervals.listIterator();</div><div class="line">  <span class="keyword">while</span>(it.hasNext()){</div><div class="line">    cur=it.next();</div><div class="line">    <span class="comment">//nonoverlap, newInterval is before current, jump out of loop</span></div><div class="line">    <span class="keyword">if</span>(newInterval.end&lt;cur.start) {it.previous();it.add(newInterval);<span class="keyword">return</span> intervals;}</div><div class="line">    <span class="comment">//nonoverlap, newInterval is after current, continue</span></div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(newInterval.start&gt;cur.end) <span class="keyword">continue</span>;</div><div class="line">    <span class="comment">//overlap, update newInterval, remove current</span></div><div class="line">    <span class="keyword">else</span> {</div><div class="line">      newInterval.start=Math.min(newInterval.start, cur.start);</div><div class="line">      newInterval.end=Math.max(newInterval.end, cur.end);</div><div class="line">      it.remove();</div><div class="line">    }</div><div class="line">  }</div><div class="line">  <span class="comment">//if new eats the last, add new to intervals</span></div><div class="line">  intervals.add(newInterval);</div><div class="line">  <span class="keyword">return</span> intervals;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fjasonderulo%2Fjason-derulo-the-other-side-3&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>








        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Sort/"> #Sort </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.17/">
                Best Time to Buy and Sell Stock, Best Time to Buy and Sell Stock II, Best Time to Buy and Sell Stock III
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.17/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.17/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Best_Time_to_Buy_and_Sell_Stock">Best Time to Buy and Sell Stock</h2>
<blockquote>
<p>Say you have an array for which the ith element is the price of a given stock on day i.<br>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
</blockquote>
<h3 id="Brute_Force_Solution">Brute Force Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span>(<span class="keyword">int</span>[] prices) {</div><div class="line">    <span class="keyword">int</span> maxp=<span class="number">0</span>, low=Integer.MAX_VALUE;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;prices.length;i++){</div><div class="line">            <span class="keyword">if</span>(prices[i]&lt;low) low=prices[i];</div><div class="line">            <span class="keyword">if</span>(prices[i]-low&gt;maxp)</div><div class="line">            maxp=prices[i]-low;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> maxp;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="DP_Solution">DP Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span>(<span class="keyword">int</span>[] prices) {</div><div class="line">        <span class="keyword">int</span> maxp=<span class="number">0</span>, tmp=<span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length &lt;<span class="number">2</span>) { <span class="keyword">return</span> <span class="number">0</span>;}</div><div class="line">        <span class="keyword">int</span>[] t=<span class="keyword">new</span> <span class="keyword">int</span>[prices.length-<span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;prices.length-<span class="number">1</span>;i++){</div><div class="line">                t[i]=prices[i+<span class="number">1</span>]-prices[i];</div><div class="line">        }</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t.length;i++){</div><div class="line">            tmp+=t[i];</div><div class="line">                <span class="keyword">if</span>(tmp&gt;maxp) maxp=tmp;</div><div class="line">                <span class="keyword">if</span>(tmp&lt;<span class="number">0</span>) tmp=<span class="number">0</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> maxp;</div><div class="line">    }</div></pre></td></tr></table></figure>

<h2 id="Best_Time_to_Buy_and_Sell_Stock_II">Best Time to Buy and Sell Stock II</h2>
<h3 id="Greedy_Solution:_trasaction_once_there_exist_profit-">Greedy Solution: trasaction once there exist profit.</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span>(<span class="keyword">int</span>[] prices) {</div><div class="line">      <span class="keyword">if</span>(prices.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">      <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;prices.length; i++){</div><div class="line">          <span class="keyword">if</span>(prices[i] &gt; prices[i-<span class="number">1</span>])</div><div class="line">            ans += prices[i]-prices[i-<span class="number">1</span>];</div><div class="line">      }</div><div class="line">      <span class="keyword">return</span> ans;</div><div class="line">    }</div></pre></td></tr></table></figure>

<h3 id="DP_Solution-1">DP Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span>(<span class="keyword">int</span>[] prices) {</div><div class="line">        <span class="keyword">int</span> maxp=<span class="number">0</span>, tmp=<span class="number">0</span>,curmax=<span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (prices == <span class="keyword">null</span> || prices.length &lt;<span class="number">2</span>) { <span class="keyword">return</span> <span class="number">0</span>;}</div><div class="line">        <span class="keyword">int</span>[] t=<span class="keyword">new</span> <span class="keyword">int</span>[prices.length-<span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;prices.length-<span class="number">1</span>;i++){</div><div class="line">                t[i]=prices[i+<span class="number">1</span>]-prices[i];</div><div class="line">        }</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t.length;i++){</div><div class="line">          <span class="keyword">if</span>(t[i]&gt;<span class="number">0</span>) maxp+=t[i];</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> maxp;</div><div class="line">    }</div></pre></td></tr></table></figure>

<h2 id="Best_Time_to_Buy_and_Sell_Stock_III">Best Time to Buy and Sell Stock III</h2>
<blockquote>
<p>Say you have an array for which the ith element is the price of a given stock on day i.<br>Design an algorithm to find the maximum profit. You may complete at most two transactions.<br>Note:<br>You may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p>
</blockquote>
<h3 id="DP_Solution-1">DP Solution</h3>
<p>First thought: we can cut the array in half in n ways, and get the max profit from both sides using solution in the first question. This will be O(n^2), too LTE…<br>Using DP to store the max profit from both sides? just scan twice from both directions and update the max profit array for [0…i] and [i…n-1]. Return the max value when a[i]+b[i] is max.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span>(<span class="keyword">int</span>[] prices) {</div><div class="line">        <span class="keyword">if</span>(prices==<span class="keyword">null</span>||prices.length&lt;<span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> n=prices.length, maxsofar=<span class="number">0</span>, low=<span class="number">0</span>,high=<span class="number">0</span>;</div><div class="line">        <span class="comment">//curmax[i] shows max profit from [0..i]</span></div><div class="line">        <span class="keyword">int</span>[] curmax=<span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">        curmax[<span class="number">0</span>]=<span class="number">0</span>;low=prices[<span class="number">0</span>];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++){</div><div class="line">            <span class="keyword">if</span>(prices[i]&lt;low) low=prices[i];</div><div class="line">            <span class="keyword">if</span>(prices[i]-low&gt;maxsofar) maxsofar=prices[i]-low;</div><div class="line">            curmax[i]=maxsofar;</div><div class="line">        }</div><div class="line">        <span class="comment">//backmax[i] shows max profits from [i...n-1]</span></div><div class="line">        <span class="keyword">int</span>[] backmax=<span class="keyword">new</span> <span class="keyword">int</span>[n];maxsofar=<span class="number">0</span>;</div><div class="line">        backmax[n-<span class="number">1</span>]=<span class="number">0</span>; high=prices[n-<span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span>(i=n-<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--){</div><div class="line">            <span class="keyword">if</span>(high&lt;prices[i]) high=prices[i];</div><div class="line">            <span class="keyword">if</span>(high-prices[i]&gt;maxsofar) maxsofar=high-prices[i];</div><div class="line">            backmax[i]=maxsofar;</div><div class="line">        }</div><div class="line">        maxsofar=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++){</div><div class="line">            <span class="keyword">if</span>(backmax[i]+curmax[i]&gt;maxsofar) maxsofar = backmax[i]+curmax[i];</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> maxsofar;</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="General_DP_Solution"><a href="https://oj.leetcode.com/discuss/15153/a-clean-dp-solution-which-generalizes-to-k-transactions" target="_blank" rel="external">General DP Solution</a></h3>
<p>Two cases select max as f[k][i]</p>
<li>transact on i: p[i]-p[j]+f[k-1][j] or write as p[i]-max(f[k-1][j]-p[j]) j belongs to [0,i-1]</li><br><li>no transaction on i: t[k][i-1]</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span>(<span class="keyword">int</span>[] prices) {</div><div class="line">    <span class="keyword">if</span>(prices==<span class="keyword">null</span>||prices.length&lt;<span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> n=prices.length, maxsofar=<span class="number">0</span>, K=<span class="number">2</span>;</div><div class="line">    <span class="keyword">int</span>[][] f=<span class="keyword">new</span> <span class="keyword">int</span>[K+<span class="number">1</span>][n];</div><div class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> kk = <span class="number">1</span>; kk &lt;= K; kk++) {</div><div class="line">            <span class="keyword">int</span> tmpMax = f[kk-<span class="number">1</span>][<span class="number">0</span>] - prices[<span class="number">0</span>];</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> ii = <span class="number">1</span>; ii &lt; n; ii++) {</div><div class="line">                f[kk][ii] = Math.max(f[kk][ii-<span class="number">1</span>], prices[ii] + tmpMax);</div><div class="line">                tmpMax = Math.max(tmpMax, f[kk-<span class="number">1</span>][ii] - prices[ii]);</div><div class="line">                maxsofar = Math.max(f[kk][ii], maxsofar);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> maxsofar;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fmilkychance%2Fstolen-dance-1&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>














        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Sort/"> #Sort </a>
          
            <a href="/tags/Array/"> #Array </a>
          
            <a href="/tags/DP/"> #DP </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.14/">
                Container With Most Water, Trapping Rain Water
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.14/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.14/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Container_With_Most_Water">Container With Most Water</h2>
<blockquote>
<p>Given n non-negative integers a1, a2, …, an, where each represents a point at coordinate (i, ai). n vertical lines are drawn such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water.<br>Note: You may not slant the container.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>Two Pointers l and r:</p>
<li>start from two ends, keep updating maxsofar area</li>

<li>changing rule: if left’&lt;’right then we know moving right makes no change(width decreases and min board is still left), so we need to move left pointer, vise versa</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxArea</span>(<span class="keyword">int</span>[] height) {</div><div class="line">     <span class="keyword">if</span>(height==<span class="keyword">null</span>) <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">     <span class="keyword">int</span> curmax=-<span class="number">1</span>, maxsofar=-<span class="number">1</span>, l=<span class="number">0</span>,r=height.length-<span class="number">1</span>;</div><div class="line">     <span class="keyword">while</span>(l&lt;r){</div><div class="line">      curmax=(r-l)*Math.min(height[l],height[r]);</div><div class="line">      <span class="keyword">if</span>(curmax&gt;maxsofar){</div><div class="line">        maxsofar=curmax;</div><div class="line">      }</div><div class="line">      <span class="keyword">if</span>(height[l]&lt;height[r]){</div><div class="line">        <span class="comment">//move r-- would never increase area with same l</span></div><div class="line">        <span class="keyword">int</span> tmp=height[l];</div><div class="line">        <span class="keyword">while</span>(l&lt;r && height[l]&lt;=tmp)</div><div class="line">        l++;</div><div class="line">      }</div><div class="line">      <span class="keyword">else</span>{</div><div class="line">        <span class="keyword">int</span> tmp=height[r];</div><div class="line">        <span class="keyword">while</span>(l&lt;r && height[r]&lt;=tmp)</div><div class="line">        r--;</div><div class="line">      }</div><div class="line">     }</div><div class="line">     </div><div class="line">     <span class="keyword">return</span> maxsofar;</div><div class="line">     </div><div class="line"> }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Trapping_Rain_Water">Trapping Rain Water</h2>
<blockquote>
<p>Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining.<br>For example,<br>Given [0,1,0,2,1,0,1,3,2,1,2,1], return 6.<br><img src="http://www.leetcode.com/wp-content/uploads/2012/08/rainwatertrap.png" alt="eg"></p>
</blockquote>
<h3 id="Crazy_Smart_Solution">Crazy Smart Solution</h3>
<p>left[i] to store the largest to the left of i; right[i] to store the largest to the right of i. The min of these two, subtracted by A[i], determines how much water A[i] can hold<br>remember to add up volume from 1 to n-2, since two sides cannot hold water.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span>(<span class="keyword">int</span>[] A) {</div><div class="line">      <span class="keyword">if</span> (A == <span class="keyword">null</span> || A.length == <span class="number">0</span>) {  </div><div class="line">          <span class="keyword">return</span> <span class="number">0</span>;  </div><div class="line">      }  </div><div class="line">      <span class="keyword">int</span> i, n=A.length,vol=<span class="number">0</span>,max=<span class="number">0</span>,left[]=<span class="keyword">new</span> <span class="keyword">int</span>[n],right[]=<span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">      <span class="comment">//left to right</span></div><div class="line">      <span class="keyword">for</span>(i=<span class="number">1</span>, max=A[<span class="number">0</span>], left[<span class="number">0</span>]=A[<span class="number">0</span>]; i&lt;n;i++ ){</div><div class="line">          <span class="keyword">if</span>(A[i]&gt;max) {max=A[i]; left[i]=A[i];}</div><div class="line">          <span class="keyword">else</span> left[i]=max;</div><div class="line">      }</div><div class="line">      <span class="comment">//right to left</span></div><div class="line">      <span class="keyword">for</span>(i = n-<span class="number">2</span>, max=A[n-<span class="number">1</span>],right[n-<span class="number">1</span>]=A[n-<span class="number">1</span>];i&gt;=<span class="number">0</span>;i--){</div><div class="line">          <span class="keyword">if</span>(A[i]&gt;max){max=A[i]; right[i]=max;}</div><div class="line">          <span class="keyword">else</span> right[i]=max;</div><div class="line">      }</div><div class="line">      <span class="keyword">for</span>(i =<span class="number">1</span>;i&lt;n-<span class="number">1</span>;i++){</div><div class="line">          <span class="keyword">int</span> tmp= <span class="number">1</span> * (Math.min(left[i],right[i])-A[i]);</div><div class="line">          <span class="keyword">if</span>(tmp!=<span class="number">0</span>) vol+=tmp;</div><div class="line">      }</div><div class="line">      <span class="keyword">return</span> vol;</div><div class="line">  }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fnettwerkmusicgroup%2Fthe-paper-kites-bloom-bonus&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Sort/"> #Sort </a>
          
            <a href="/tags/Array/"> #Array </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.14-2/">
                Valid Palindrome, Palindrome Number, Scramble String, Reverse Binary, Interleaving String
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.14-2/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.14-2/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Valid_Palindrome">Valid Palindrome</h2>
<blockquote>
<p>Given a string, determine if it is a palindrome, considering only alphanumeric characters and ignoring cases.<br>For example,<br>“A man, a plan, a canal: Panama” is a palindrome.<br>“race a car” is not a palindrome.<br>Note:<br>Have you consider that the string might be empty? This is a good question to ask during an interview.<br>For the purpose of this problem, we define empty string as valid palindrome.</p>
</blockquote>
<li>Only count numeric and alphabetical, ignore cases</li>

<li>Empty String count as palindrome</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span>(String s) {</div><div class="line">           <span class="keyword">if</span>(s==<span class="keyword">null</span>||s.length()==<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">           s=s.toUpperCase();</div><div class="line">           <span class="keyword">int</span> l=<span class="number">0</span>, r=s.length()-<span class="number">1</span>;</div><div class="line">           <span class="keyword">while</span>(l&lt;r){</div><div class="line">               Character tmpl=s.charAt(l), tmpr=s.charAt(r);</div><div class="line">               <span class="keyword">if</span>(!(tmpl&gt;=<span class="string">'0'</span>&& tmpl&lt;=<span class="string">'9'</span>||tmpl&gt;=<span class="string">'A'</span>&&tmpl&lt;=<span class="string">'Z'</span>)) {l++; <span class="keyword">continue</span>;}</div><div class="line">               <span class="keyword">else</span> <span class="keyword">if</span>(!(tmpr&gt;=<span class="string">'0'</span>&& tmpr&lt;=<span class="string">'9'</span>||tmpr&gt;=<span class="string">'A'</span>&&tmpr&lt;=<span class="string">'Z'</span>)) {r--;<span class="keyword">continue</span>;}</div><div class="line">               </div><div class="line">               <span class="keyword">else</span>{</div><div class="line">                   <span class="keyword">if</span>(tmpl.equals(tmpr)){l++;r--;}</div><div class="line">                   <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">               }          </div><div class="line">           }</div><div class="line">           <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">       }</div></pre></td></tr></table></figure>

<h2 id="Palindrome_Number">Palindrome Number</h2>
<blockquote>
<p>Determine whether an integer is a palindrome. Do this without extra space.<br>Could negative integers be palindromes? (ie, -1)<br>If you are thinking of converting the integer to string, note the restriction of using extra space.<br>You could also try reversing an integer. However, if you have solved the problem “Reverse Integer”, you know that the reversed integer might overflow. How would you handle such case?<br>There is a more generic way of solving this problem.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>refer my solution to reverse integer.</p>
<li>reverse the number. If the number is the same as its reversed, then it must be a palindrome.</li>

<li>negative integers as non-palindromes.</li>

<p>Even thought this passed OJ, didn’t deal with overflow issues.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span>(<span class="keyword">int</span> x) {</div><div class="line">     <span class="keyword">int</span> res=<span class="number">0</span>,orig=x;</div><div class="line">     <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">     <span class="keyword">while</span>(x!=<span class="number">0</span>){</div><div class="line">         res=res*<span class="number">10</span>+x%<span class="number">10</span>;</div><div class="line">         x=x/<span class="number">10</span>;</div><div class="line">     } </div><div class="line">     <span class="keyword">return</span> res==orig ? <span class="keyword">true</span>:<span class="keyword">false</span>;</div><div class="line">     </div><div class="line"> }</div></pre></td></tr></table></figure>

<h3 id="Another_Solution"><a href="http://leetcode.com/2012/01/palindrome-number.html" target="_blank" rel="external">Another Solution</a></h3>
<p>First, compare the first and last digit. If they are not the same, it must not be a palindrome. If they are the same, chop off one digit from both ends and continue until you have no digits left, which you conclude that it must be a palindrome.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome2</span>(<span class="keyword">int</span> x) {</div><div class="line">          <span class="keyword">if</span> (x &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">          <span class="keyword">int</span> div = <span class="number">1</span>;</div><div class="line">          <span class="keyword">while</span> (x / div &gt;= <span class="number">10</span>) {</div><div class="line">            div *= <span class="number">10</span>;</div><div class="line">          }        </div><div class="line">          <span class="keyword">while</span> (x != <span class="number">0</span>) {</div><div class="line">            <span class="keyword">int</span> l = x / div;</div><div class="line">            <span class="keyword">int</span> r = x % <span class="number">10</span>;</div><div class="line">            <span class="keyword">if</span> (l != r) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            x = (x % div) / <span class="number">10</span>;</div><div class="line">            div /= <span class="number">100</span>;</div><div class="line">          }</div><div class="line">          <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        }</div></pre></td></tr></table></figure>

<h2 id="Scramble_String">Scramble String</h2>
<blockquote>
<p>Given a string s1, we may represent it as a binary tree by partitioning it to two non-empty substrings recursively.<br>Below is one possible representation of s1 = “great”:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">    great</div><div class="line">   /    <span class="command">\</span></div><div class="line">  gr    eat</div><div class="line"> / <span class="command">\ </span>   /  <span class="command">\</span></div><div class="line">g   r  e   at</div><div class="line">           / <span class="command">\</span></div><div class="line">          a   t</div></pre></td></tr></table></figure>


<p>To scramble the string, we may choose any non-leaf node and swap its two children.<br>For example, if we choose the node “gr” and swap its two children, it produces a scrambled string “rgeat”.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">    rgeat</div><div class="line">   /    <span class="command">\</span></div><div class="line">  rg    eat</div><div class="line"> / <span class="command">\ </span>   /  <span class="command">\</span></div><div class="line">r   g  e   at</div><div class="line">           / <span class="command">\</span></div><div class="line">          a   t</div></pre></td></tr></table></figure>


<p>We say that “rgeat” is a scrambled string of “great”.<br>Similarly, if we continue to swap the children of nodes “eat” and “at”, it produces a scrambled string “rgtae”.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">    rgtae</div><div class="line">   /    <span class="command">\</span></div><div class="line">  rg    tae</div><div class="line"> / <span class="command">\ </span>   /  <span class="command">\</span></div><div class="line">r   g  ta  e</div><div class="line">       / <span class="command">\</span></div><div class="line">      t   a</div></pre></td></tr></table></figure>


<p>We say that “rgtae” is a scrambled string of “great”.<br>Given two strings s1 and s2 of the same length, determine if s2 is a scrambled string of s1.</p>
<h3 id="Iterative_Solution">Iterative Solution</h3>
<p>If string s1 and s2 are scramble strings, there must be a point(i) that breaks s1 to two parts s11, s12, and a point(l-i) that breaks s2 to two parts, s21, s22, and isScramble(s11, s21) &amp;&amp; isScramble(s12, s22) is true, or isScramble(s11, s22) &amp;&amp; isScramble(s12, s21) is true.</p>
<p>Cases to consider to avoid LTE:</p>
<li>If the lengths of two strings are different, they can’t be scramble.</li>

<li>If the characters in two strings are different, they can’t be scramble either.</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isScramble</span>(String s1, String s2) {</div><div class="line">       <span class="comment">//check length</span></div><div class="line">       <span class="keyword">if</span>(s1.length()!=s2.length()) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">       <span class="keyword">int</span> i=<span class="number">0</span>;<span class="keyword">int</span> L = s1.length();</div><div class="line">       <span class="keyword">if</span>(s1.equals(s2)) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">   </div><div class="line">         <span class="comment">// check letters</span></div><div class="line">         <span class="keyword">int</span>[] count=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</div><div class="line">         <span class="keyword">for</span>(;i&lt;L;i++){</div><div class="line">           count[s1.charAt(i)-<span class="string">'a'</span>]++;</div><div class="line">           count[s2.charAt(i)-<span class="string">'a'</span>]--;</div><div class="line">         }</div><div class="line">         <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++){</div><div class="line">           <span class="keyword">if</span>(count[i]!=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">         }</div><div class="line">  </div><div class="line">       <span class="comment">//check scramble, starting from 1</span></div><div class="line">       <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;L;i++){</div><div class="line">         String s11=s1.substring(<span class="number">0</span>, i);</div><div class="line">         String s12=s1.substring(i);</div><div class="line">         String s21=s2.substring(<span class="number">0</span>,i);</div><div class="line">         String s22=s2.substring(i);</div><div class="line">         <span class="keyword">if</span>(isScramble(s11,s21)&&isScramble(s12,s22)) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">         <span class="keyword">else</span> {</div><div class="line">           s21=s2.substring(<span class="number">0</span>,L-i);</div><div class="line">           s22=s2.substring(L-i);</div><div class="line">           <span class="keyword">if</span>(isScramble(s11,s22)&&isScramble(s12,s21)) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">         }</div><div class="line">       }<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">     }</div></pre></td></tr></table></figure>

<h3 id="DP_Solution"><a href="http://blog.csdn.net/linhuanmars/article/details/24506703" target="_blank" rel="external">DP Solution</a></h3>
<li>t[i][j][len]=1 means that two substrings of length k, one starts from i of string s1, another one starts from j of string s2, are scramble</li>

<li>we are looking for t[0][0][L]</li>

<li>given a len, we can cut the substring in len-1 ways, if one of them proves to be scramble then t[i][j][k]=true</li>

<li>Changing Rule: t[i][j][k] &amp;&amp; t[i+k][j+k][Len-k] || t[i][j+Len-k][k] &amp;&amp; t[i+k][j][Len-k]</li>

<li>Time is O(n^4), space is O(n^3).</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isScramble</span>(String s1, String s2) {</div><div class="line">     <span class="keyword">if</span>(s1.length()!=s2.length()) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">     <span class="keyword">if</span>(s1.equals(s2)) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">     <span class="keyword">int</span> L=s1.length();</div><div class="line">     <span class="keyword">boolean</span> [][][] t=<span class="keyword">new</span> <span class="keyword">boolean</span>[L][L][L+<span class="number">1</span>];</div><div class="line">     <span class="comment">//init base value</span></div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;L;i++){</div><div class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;L;j++){</div><div class="line">             t[i][j][<span class="number">1</span>] = s1.charAt(i)==s2.charAt(j);</div><div class="line">         }</div><div class="line">     }</div><div class="line">     <span class="comment">//calculate the whole table</span></div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> len=<span class="number">2</span>;len&lt;=L;len++){</div><div class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;L-len+<span class="number">1</span>;i++){</div><div class="line">             <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;L-len+<span class="number">1</span>;j++){</div><div class="line">                 <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;len;k++){</div><div class="line">                   <span class="comment">//等号左右两边只要有一个是1就行了</span></div><div class="line">                    t[i][j][len] |= (t[i][j][k] &&  t[i+k][j+k][len-k] || t[i][j+len-k][k] && t[i+k][j][len-k]) ;</div><div class="line">                     </div><div class="line">                     }</div><div class="line">                 }</div><div class="line">             }</div><div class="line">         }</div><div class="line">    <span class="comment">//return the last value</span></div><div class="line">    <span class="keyword">return</span> t[<span class="number">0</span>][<span class="number">0</span>][L];</div><div class="line">    }</div></pre></td></tr></table></figure>

<h2 id="Reverse_Binary">Reverse Binary</h2>
<p>1) 1010-&gt;0101 1111-&gt;0000</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">ReverseBinary2</span>(<span class="keyword">int</span> d){</div><div class="line">    <span class="keyword">int</span> n=Integer.toBinaryString(d).length();</div><div class="line">    String res=<span class="string">""</span>;</div><div class="line">    System.out.println(<span class="string">" d "</span>+d);</div><div class="line">    <span class="keyword">while</span>(d!=<span class="number">0</span>){</div><div class="line">         <span class="keyword">int</span> tmp = <span class="number">1</span>-d & <span class="number">0x01</span>;</div><div class="line">         System.out.println(<span class="string">" d "</span>+Integer.toBinaryString(d) +<span class="string">" tmp "</span>+tmp);</div><div class="line">         res=tmp+res;</div><div class="line">         d &gt;&gt;= <span class="number">1</span>;</div><div class="line">         System.out.println(<span class="string">" d: "</span>+d+ <span class="string">" b "</span>+Integer.toBinaryString(d));</div><div class="line">    }</div><div class="line">    System.out.println(res);</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">  }</div></pre></td></tr></table></figure>

<p>2) 1100-&gt;0011 1111-&gt;1111</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">ReverseBinary</span>(<span class="keyword">int</span> d){</div><div class="line">    <span class="keyword">int</span> n=Integer.toBinaryString(d).length();</div><div class="line">    StringBuffer sb=<span class="keyword">new</span> StringBuffer();</div><div class="line">    System.out.println(<span class="string">" d "</span>+d);</div><div class="line">    <span class="keyword">while</span>(d!=<span class="number">0</span>){</div><div class="line">         sb.append(d ^ <span class="number">0x01</span>);</div><div class="line">         System.out.println(<span class="string">" d "</span>+d+<span class="string">" sb "</span>+sb+ <span class="string">" "</span>+<span class="number">0x01</span>);</div><div class="line">         d &gt;&gt;= <span class="number">1</span>;</div><div class="line">         System.out.println(<span class="string">" d: "</span>+d+ <span class="string">" b "</span>+Integer.toBinaryString(d));</div><div class="line">    }</div><div class="line">    String s=sb.toString();</div><div class="line">    System.out.println(<span class="string">" s: "</span>+s);</div><div class="line">    String res=Integer.valueOf(s, <span class="number">2</span>).toString();</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">  }</div></pre></td></tr></table></figure>

<h2 id="Interleaving_String">Interleaving String</h2>
<blockquote>
<p>Given s1, s2, s3, find whether s3 is formed by the interleaving of s1 and s2.<br>For example,<br>Given:<br>s1 = “aabcc”,<br>s2 = “dbbca”,<br>When s3 = “aadbbcbcac”, return true.<br>When s3 = “aadbbbaccc”, return false.</p>
</blockquote>
<h3 id="Recursive_Solution">Recursive Solution</h3>
<p>Three pointers, four cases:</p>
<li>char at p3 equals to both p2, p1. either result could be true</li>

<li>char at p3 only equals to p2, increment these two pointers. If one of p1, p2 reached its length, just compare the rest substring</li>

<li>vice versa</li>

<li>char at p3 equals to none, break and return false</li>

<p>This solution is LTE, as expected…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInterleave</span>(String s1, String s2, String s3) {</div><div class="line">     <span class="keyword">if</span>(s1.length()+s2.length()!=s3.length()) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">     <span class="keyword">return</span> rec(s1,<span class="number">0</span>,s2,<span class="number">0</span>,s3,<span class="number">0</span>); </div><div class="line">     }</div><div class="line">   </div><div class="line">   <span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">rec</span>(String s1, <span class="keyword">int</span> p1, String s2, <span class="keyword">int</span> p2, String s3, <span class="keyword">int</span> p3){</div><div class="line">       <span class="keyword">if</span>(p3==s3.length()) <span class="keyword">return</span> <span class="keyword">true</span>;  </div><div class="line">     <span class="keyword">if</span>(p2==s2.length()) <span class="keyword">return</span> s1.substring(p1).equals(s3.substring(p3));</div><div class="line">     <span class="keyword">if</span>(p1==s1.length()) <span class="keyword">return</span> s2.substring(p2).equals(s3.substring(p3));</div><div class="line">     <span class="keyword">if</span>(s3.charAt(p3)==s1.charAt(p1) && s3.charAt(p3)==s2.charAt(p2))</div><div class="line">       <span class="keyword">return</span> rec(s1,p1+<span class="number">1</span>,s2,p2,s3,p3+<span class="number">1</span>) || rec(s1,p1,s2,p2+<span class="number">1</span>,s3,p3+<span class="number">1</span>);</div><div class="line">     <span class="keyword">else</span> <span class="keyword">if</span>(s3.charAt(p3)==s1.charAt(p1))</div><div class="line">       <span class="keyword">return</span> rec(s1,p1+<span class="number">1</span>,s2,p2,s3,p3+<span class="number">1</span>);</div><div class="line">     <span class="keyword">else</span> <span class="keyword">if</span>(s3.charAt(p3)==s2.charAt(p2))</div><div class="line">       <span class="keyword">return</span> rec(s1,p1,s2,p2+<span class="number">1</span>,s3,p3+<span class="number">1</span>);</div><div class="line">     <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">   }</div></pre></td></tr></table></figure>

<h3 id="DP_Solution-1"><a href="http://blog.csdn.net/u011095253/article/details/9248073" target="_blank" rel="external">DP Solution</a></h3>
<p>特么才一辈子都凑不粗来好么…</p>
<li>t[i][j] shows whether using the first i and j elements of s1, s2 can form the first i+j elements of s3.</li>


<li>Initialization: for t[s1+1][s2+1], the first column and row are set by comparing chars to target string, and the previous tuple.</li>


<li>Changing Rule: depends on top and left tuple. Set to true if current char in s1 equals to corresponding char in s3, and previous tuple is true.</li>


<li>Target: t[s1][s2]</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInterleave</span>(String s1, String s2, String s3) {</div><div class="line">     <span class="keyword">if</span>(s1.length()+s2.length()!=s3.length()) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">     <span class="keyword">boolean</span>[][] t=<span class="keyword">new</span> <span class="keyword">boolean</span>[s1.length()+<span class="number">1</span>][s2.length()+<span class="number">1</span>];</div><div class="line">     t[<span class="number">0</span>][<span class="number">0</span>]=<span class="keyword">true</span>;</div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;s1.length()+<span class="number">1</span>;i++){</div><div class="line">       t[i][<span class="number">0</span>]= s1.charAt(i-<span class="number">1</span>)==s3.charAt(i-<span class="number">1</span>) && t[i-<span class="number">1</span>][<span class="number">0</span>];</div><div class="line">     }</div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;s2.length()+<span class="number">1</span>;i++){</div><div class="line">       t[<span class="number">0</span>][i]= s2.charAt(i-<span class="number">1</span>)==s3.charAt(i-<span class="number">1</span>) && t[<span class="number">0</span>][i-<span class="number">1</span>];</div><div class="line">     } </div><div class="line">     <span class="comment">//deduct the whole table </span></div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;s1.length()+<span class="number">1</span>;i++){</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;s2.length()+<span class="number">1</span>;j++){</div><div class="line">         t[i][j]= (t[i-<span class="number">1</span>][j] && s1.charAt(i-<span class="number">1</span>)==s3.charAt(i+j-<span class="number">1</span>)) || (t[i][j-<span class="number">1</span>] && s2.charAt(j-<span class="number">1</span>)==s3.charAt(i+j-<span class="number">1</span>));</div><div class="line">       }</div><div class="line">     }</div><div class="line">     </div><div class="line">     <span class="keyword">return</span> t[s1.length()][s2.length()]; </div><div class="line">     }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fprotocolrecordings%2Fbobina-vigel-crunch-official&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/String/"> #String </a>
          
            <a href="/tags/Recursion/"> #Recursion </a>
          
            <a href="/tags/DP/"> #DP </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/1.10/">
                Multiply Strings, Implement strStr(), Reverse Words in a String, String to Integer (atoi)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/1.10/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/1.10/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Multiply_Strings">Multiply Strings</h2>
<blockquote>
<p>Multiply Strings<br>Given two numbers represented as strings, return multiplication of the numbers as a string.<br>Note: The numbers can be arbitrarily large and are non-negative.</p>
</blockquote>
<h3 id="First_Solution">First Solution</h3>
<li>reverse two input strings, so index and digits are the same</li>

<li>create a tmp int[] to store the additions of two digits multiply results</li>

<li>add up the array, while inserting into a stringbuilder</li>

<li>delete zeros in the beginning</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"> <span class="keyword">public</span> String <span class="title">multiply</span>(String num1, String num2) {</div><div class="line"> num1=<span class="keyword">new</span> StringBuilder(num1).reverse().toString();</div><div class="line"> num2=<span class="keyword">new</span> StringBuilder(num2).reverse().toString();</div><div class="line"> <span class="keyword">int</span>[] tmp= <span class="keyword">new</span> <span class="keyword">int</span>[num1.length()+num2.length()];</div><div class="line"> StringBuilder res=<span class="keyword">new</span> StringBuilder();</div><div class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; num1.length();i++){</div><div class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j&lt;num2.length();j++){</div><div class="line">     tmp[i+j]+=(num1.charAt(i)-<span class="string">'0'</span>)*(num2.charAt(j)-<span class="string">'0'</span>);</div><div class="line">   }</div><div class="line"> }</div><div class="line"> </div><div class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tmp.length;i++){</div><div class="line">   <span class="keyword">int</span> carries=<span class="number">0</span>, num=<span class="number">0</span>;</div><div class="line">   num=tmp[i]%<span class="number">10</span>;</div><div class="line">   carries=tmp[i]/<span class="number">10</span>;</div><div class="line">   res.insert(<span class="number">0</span>, num);</div><div class="line">   <span class="keyword">if</span>(i!=tmp.length-<span class="number">1</span>){tmp[i+<span class="number">1</span>]+=carries;}</div><div class="line"> }</div><div class="line"> </div><div class="line"> <span class="keyword">while</span>(res.length()&gt;<span class="number">1</span>&&res.charAt(<span class="number">0</span>)==<span class="string">'0'</span>){res.deleteCharAt(<span class="number">0</span>);}</div><div class="line"> <span class="keyword">return</span> res.toString();</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Second_Solution">Second Solution</h3>
<p>Do it reversly, same process:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  <span class="keyword">public</span> String <span class="title">multiply</span>(String num1, String num2) {</div><div class="line">  <span class="keyword">int</span>[] tmp= <span class="keyword">new</span> <span class="keyword">int</span>[num1.length()+num2.length()];</div><div class="line">  StringBuilder res=<span class="keyword">new</span> StringBuilder();</div><div class="line">  <span class="keyword">int</span> j=<span class="number">0</span>,i,num,carries=<span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span>( i = num1.length()-<span class="number">1</span>; i&gt;=<span class="number">0</span> ;i--){</div><div class="line">      carries=<span class="number">0</span>; num=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>( j = num2.length()-<span class="number">1</span>; j&gt;=<span class="number">0</span>;j--){        </div><div class="line">      num=(num1.charAt(i)-<span class="string">'0'</span>)*(num2.charAt(j)-<span class="string">'0'</span>)+tmp[i+j+<span class="number">1</span>]+carries;</div><div class="line">      tmp[i+j+<span class="number">1</span>]=num%<span class="number">10</span>;</div><div class="line">      carries=num/<span class="number">10</span>;</div><div class="line">    }</div><div class="line">    tmp[i+j+<span class="number">1</span>]=carries;</div><div class="line">  }</div><div class="line">  i=<span class="number">0</span>;</div><div class="line">  <span class="keyword">while</span>(i&lt;tmp.length-<span class="number">1</span>&&tmp[i]==<span class="number">0</span>){i++;}</div><div class="line">  <span class="keyword">while</span>(i&lt;tmp.length){res.append(tmp[i++]);}</div><div class="line">  <span class="keyword">return</span> res.toString();</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="Implement_strStr()">Implement strStr()</h2>
<blockquote>
<p>Implement strStr().<br>Returns the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack.<br>Update (2014-11-02):<br>The signature of the function had been updated to return the index instead of the pointer. If you still see your function signature returns a char * or String, please click the reload button to reset your code definition.</p>
</blockquote>
<h3 id="Naive_Solution">Naive Solution</h3>
<p>Two pointers:</p>
<li>i: from 0 to n-m, check each substring(i,i+m) equals to needle</li>

<li>j: from i to m+i-1, break if non-equal character found</li><br><li>If j=m+i after some round, then we found a substring(i, i+m) matches the needle.</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">strStr</span>(String haystack, String needle) </div><div class="line">  {  </div><div class="line">    <span class="keyword">int</span> n = haystack.length();  </div><div class="line">    <span class="keyword">int</span> m = needle.length(); </div><div class="line">    <span class="comment">//if haystack empty but needle not</span></div><div class="line">    <span class="keyword">if</span> (n==<span class="number">0</span> && m!=<span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">    <span class="comment">//special case </span></div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">0</span>||m==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">else</span>{</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - m+<span class="number">1</span>; i++)  </div><div class="line">      {   <span class="keyword">int</span> j=i;</div><div class="line">        <span class="keyword">for</span> (; j &lt; m+i; j++)  </div><div class="line">        {  </div><div class="line">          <span class="keyword">if</span> (needle.charAt(j-i) != haystack.charAt(j)) <span class="keyword">break</span>;  </div><div class="line">        }  </div><div class="line">        <span class="keyword">if</span> (j == m+i) <span class="keyword">return</span>  i;</div><div class="line">      }  </div><div class="line">      <span class="keyword">return</span> -<span class="number">1</span>;  }</div><div class="line">  }</div></pre></td></tr></table></figure>

<p>More Consice:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">strStr</span>(String haystack, String needle) {</div><div class="line">       <span class="keyword">if</span>(haystack == <span class="keyword">null</span> || needle == <span class="keyword">null</span>) {</div><div class="line">           <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">       }</div><div class="line">       <span class="keyword">int</span> i, j;</div><div class="line">       <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; haystack.length() - needle.length() + <span class="number">1</span>; i++) {</div><div class="line">           <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; needle.length(); j++) {</div><div class="line">               <span class="keyword">if</span>(haystack.charAt(i + j) != needle.charAt(j)) {</div><div class="line">                   <span class="keyword">break</span>;</div><div class="line">               }</div><div class="line">           }</div><div class="line">           <span class="keyword">if</span>(j == needle.length()) {</div><div class="line">               <span class="keyword">return</span> i;</div><div class="line">           }</div><div class="line">       }</div><div class="line">       <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">   }</div></pre></td></tr></table></figure>

<p><a href="http://blog.csdn.net/v_july_v/article/details/7041827" target="_blank" rel="external">KMP</a> is another solution.</p>
<hr>
<h2 id="Reverse_Words_in_a_String">Reverse Words in a String</h2>
<blockquote>
<p>Given an input string, reverse the string word by word.<br>For example,<br>Given s = “the sky is blue”,<br>return “blue is sky the”.<br>Clarification:<br>What constitutes a word?<br>A sequence of non-space characters constitutes a word.<br>Could the input string contain leading or trailing spaces?<br>Yes. However, your reversed string should not contain leading or trailing spaces.<br>How about multiple spaces between two words?<br>Reduce them to a single space in the reversed string.</p>
</blockquote>
<h3 id="Correct_Solution:">Correct Solution:</h3>
<p>First, split words into array by spaces. Then from last element in array, append to stringBuilder if not space, add one space after that element in the new string. At last, get the substring from 0 to sb.length()-1 to delete the ending space.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String <span class="title">reverseWords</span>(String s) {</div><div class="line">  <span class="keyword">if</span>(s==<span class="keyword">null</span>||s.length()==<span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">  String[] words=s.split(<span class="string">" "</span>);</div><div class="line">  <span class="keyword">int</span> n=words.length;</div><div class="line">  StringBuilder sb=<span class="keyword">new</span> StringBuilder();</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=n-<span class="number">1</span>; i&gt;=<span class="number">0</span>;i--){</div><div class="line">    <span class="keyword">if</span>(!words[i].equals(<span class="string">""</span>)){</div><div class="line">      sb.append(words[i]).append(<span class="string">" "</span>);}</div><div class="line">  } <span class="keyword">return</span> sb.length() == <span class="number">0</span> ? <span class="string">""</span> : sb.substring(<span class="number">0</span>, sb.length() - <span class="number">1</span>);</div><div class="line">}</div></pre></td></tr></table></figure>

<hr>
<h2 id="String_to_Integer_(atoi)">String to Integer (atoi)</h2>
<blockquote>
<p>Implement atoi to convert a string to an integer.<br>Hint: Carefully consider all possible input cases. If you want a challenge, please do not see below and ask yourself what are the possible input cases.<br>Notes: It is intended for this problem to be specified vaguely (ie, no given input specs). You are responsible to gather all the input requirements up front.</p>
</blockquote>
<h3 id="Naive_Sulotion">Naive Sulotion</h3>
<li>Case 1: general case, given string is a valid input, convert to int directly</li>

<li>Case 2: input string is null or all blank, return 0;</li>

<li>Case 3: sign of number(+/-, default as +)</li>

<li>Case 4: overflow</li>

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">atoi</span>(String str){</div><div class="line">    <span class="keyword">if</span>(str==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="comment">//remove spaces at beginning and end</span></div><div class="line">    str=str.trim();</div><div class="line">    <span class="keyword">int</span> n=str.length(),i=<span class="number">0</span>;</div><div class="line">    <span class="comment">//use long to store result</span></div><div class="line">    <span class="keyword">long</span> res=<span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> sign = <span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span>(str.charAt(i)==<span class="string">'+'</span>) {sign=<span class="number">1</span>;i++;}</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(str.charAt(i)==<span class="string">'-'</span>) {sign=-<span class="number">1</span>;i++;}</div><div class="line">    <span class="keyword">for</span>(;i&lt;n;i++){</div><div class="line">      <span class="keyword">char</span> tmp=str.charAt(i);</div><div class="line">      <span class="keyword">if</span>(tmp&gt;<span class="string">'9'</span>||tmp&lt;<span class="string">'0'</span>||tmp==<span class="string">' '</span>) <span class="keyword">break</span>;</div><div class="line">      res=res*<span class="number">10</span>+(tmp-<span class="string">'0'</span>);</div><div class="line">      <span class="keyword">if</span>(res&gt;Integer.MAX_VALUE) <span class="keyword">return</span> sign==<span class="number">1</span> ? Integer.MAX_VALUE: Integer.MIN_VALUE;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)res*sign;</div><div class="line">  }</div></pre></td></tr></table></figure>

<h3 id="An_alternative_solution">An alternative solution</h3>
<p>without using long, is to use the following during loop:</p>
<li>Integer.MAX_VALUE/10 &lt; res;</li>

<p>res*10 will become bigger than MAX</p>
<li>Integer.MAX_VALUE/10 == res &amp;&amp; Integer.MAX_VALUE%10 &lt;(str.charAt(i) - ‘0’)</li>

<p>compare last digit when res*10=MAX</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">atoi</span>(String str){</div><div class="line">    <span class="keyword">if</span>(str==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    str=str.trim();</div><div class="line">    <span class="keyword">int</span> n=str.length(),i=<span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> sign = <span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span>(str.charAt(i)==<span class="string">'+'</span>) {sign=<span class="number">1</span>;i++;}</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(str.charAt(i)==<span class="string">'-'</span>) {sign=-<span class="number">1</span>;i++;}</div><div class="line">    <span class="keyword">for</span>(;i&lt;n;i++){</div><div class="line">      <span class="keyword">char</span> tmp=str.charAt(i);</div><div class="line">      <span class="keyword">if</span>(tmp&gt;<span class="string">'9'</span>||tmp&lt;<span class="string">'0'</span>||tmp==<span class="string">' '</span>) <span class="keyword">break</span>;</div><div class="line">      <span class="keyword">if</span>(Integer.MAX_VALUE/<span class="number">10</span> &lt; res || (Integer.MAX_VALUE/<span class="number">10</span> == res && Integer.MAX_VALUE%<span class="number">10</span> &lt;(str.charAt(i) - <span class="string">'0'</span>)))</div><div class="line">      <span class="keyword">return</span> sign==<span class="number">1</span> ? Integer.MAX_VALUE: Integer.MIN_VALUE;    </div><div class="line">      res=res*<span class="number">10</span>+(tmp-<span class="string">'0'</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)res*sign;</div><div class="line">  }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fmrsuicidesheep%2Flights-motion-aerials&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Sort/"> #Sort </a>
          
            <a href="/tags/Array/"> #Array </a>
          
            <a href="/tags/Math/"> #Math </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/25/12.31/">
                Add Binary, Add Two Numbers
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-26
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/刷题/">刷题</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/25/12.31/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/25/12.31/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Add_Binary">Add Binary</h2>
<blockquote>
<p>Given two binary strings, return their sum (also a binary string).<br>For example,<br>a = “11”<br>b = “1”<br>Return “100”.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>Note:Int can be converted to String for manipulation, however, converting String to Int might cause overflow errors.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">    <span class="keyword">public</span> String <span class="title">addBinary</span>(String a, String b) {</div><div class="line">		</div><div class="line">		<span class="keyword">if</span>(a==<span class="keyword">null</span>|a.length()==<span class="number">0</span>)</div><div class="line">			<span class="keyword">return</span> b;</div><div class="line">		<span class="keyword">if</span>(b==<span class="keyword">null</span>|b.length()==<span class="number">0</span>)</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line"><span class="comment">//switch a,b if a is shorter than b </span></div><div class="line">        <span class="keyword">if</span>(a.length() &lt; b.length()){</div><div class="line">            String temp = a;</div><div class="line">            a = b;</div><div class="line">            b = temp;</div><div class="line">        }</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> m = a.length()-<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> n = b.length()-<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">        String rst = <span class="string">""</span>;</div><div class="line">        </div><div class="line"><span class="comment">//Add from last digit</span></div><div class="line">        <span class="keyword">while</span>(n &gt;= <span class="number">0</span>){</div><div class="line">            <span class="keyword">int</span> sum = (<span class="keyword">int</span>)(a.charAt(m) - <span class="string">'0'</span>) + (<span class="keyword">int</span>)(b.charAt(n) - <span class="string">'0'</span>) + res;</div><div class="line">            rst = String.valueOf(sum % <span class="number">2</span>) + rst;</div><div class="line">            res = sum / <span class="number">2</span>;</div><div class="line">            m --;</div><div class="line">            n --;</div><div class="line">        }</div><div class="line"><span class="comment">//Add the longer digits        </span></div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(m &gt;= <span class="number">0</span>){</div><div class="line">            <span class="keyword">int</span> sum = (<span class="keyword">int</span>)(a.charAt(m) - <span class="string">'0'</span>) + res;</div><div class="line">            rst = String.valueOf(sum % <span class="number">2</span>) + rst;</div><div class="line">            res = sum / <span class="number">2</span>;</div><div class="line">            m --;</div><div class="line">        }       </div><div class="line">        </div><div class="line"><span class="comment">//Don't forget the highest digit </span></div><div class="line">        <span class="keyword">if</span> (res == <span class="number">1</span>)</div><div class="line">            rst = <span class="string">"1"</span> + rst;</div><div class="line">        <span class="keyword">return</span> rst;</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Add_Two_Numbers">Add Two Numbers</h2>
<blockquote>
<p>You are given two linked lists representing two non-negative numbers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.<br>Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)<br>Output: 7 -&gt; 0 -&gt; 8</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<p>We don’t have to compare the length of two lists an match digits since we are given reversed order. So just add each pair and the rest, pay attention to the last carries.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">addTwoNumbers</span>(ListNode l1, ListNode l2) {</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(l1==<span class="keyword">null</span> && l2==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        ListNode head=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</div><div class="line">        ListNode cur=head;</div><div class="line">        <span class="keyword">int</span> carries=<span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(l1!=<span class="keyword">null</span>&&l2!=<span class="keyword">null</span>){</div><div class="line">            <span class="keyword">int</span> sum=l1.val+l2.val+carries;</div><div class="line">            carries=sum/<span class="number">10</span>;</div><div class="line">            ListNode n=<span class="keyword">new</span> ListNode(sum%<span class="number">10</span>);</div><div class="line">            cur.next=n;</div><div class="line">            </div><div class="line">            l1=l1.next;</div><div class="line">            l2=l2.next;</div><div class="line">            cur=cur.next; </div><div class="line">        }</div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(l1!=<span class="keyword">null</span>){</div><div class="line">            <span class="keyword">int</span> sum=carries+l1.val;</div><div class="line">            cur.next=<span class="keyword">new</span> ListNode(sum%<span class="number">10</span>);</div><div class="line">            carries=sum/<span class="number">10</span>;</div><div class="line">            cur=cur.next;</div><div class="line">            l1=l1.next;</div><div class="line">        }</div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(l2!=<span class="keyword">null</span>){</div><div class="line">            <span class="keyword">int</span> sum=carries+l2.val;</div><div class="line">            cur.next=<span class="keyword">new</span> ListNode(sum%<span class="number">10</span>);</div><div class="line">            carries=sum/<span class="number">10</span>;</div><div class="line">            cur=cur.next;</div><div class="line">            l2=l2.next;</div><div class="line">        }</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(carries!=<span class="number">0</span>){</div><div class="line">            cur.next=<span class="keyword">new</span> ListNode(carries%<span class="number">10</span>);</div><div class="line">        }</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> head.next;</div><div class="line">           }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Flabyrinth-ear%2Furchin&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Array/"> #Array </a>
          
            <a href="/tags/LinkedList/"> #LinkedList </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/24/1.19/">
                東京喰種, 寄生兽
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-02-24
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/追剧/">追剧</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/24/1.19/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/24/1.19/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <embed id="STK_137722048114034" width="550" height="450" wmode="transparent" quality="high" allowfullscreen="true" flashvars="playMovie=true&auto=1" pluginspage="http://get.adobe.com/cn/flashplayer/" allowscriptaccess="never" src="http://static.hdslb.com/miniloader.swf?aid=1871342&page=1" type="application/x-shockwave-flash" style="visibility: visible;">



<hr>
<embed src="http://www.tudou.com/a/ljWaEal7TxI/&bid=05&iid=132329539&resourceId=0_05_05_99/v.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" wmode="opaque" width="480" height="400">    











        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  

        </div>
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Cici Sun" />
          <p class="site-author-name">Cici Sun</p>
        </div>
        <p class="site-description motion-element"></p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">46</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">categories</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">22</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </div>

        
          <div class="feed-link motion-element">
            <a href="//atom.xml">
              <i class="menu-item-icon icon-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://github.com/CICISUN/" target="_blank">GitHub</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="https://twitter.com/insertsomthin" target="_blank">Twitter</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="http://www.weibo.com/bingjiesun" target="_blank">Weibo</a>
            </span>
            
          
        </div>

        
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Cici Sun</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  

  

  
  
  

  

    
      
    

    <script type="text/javascript">
      var disqus_shortname = 'sunbingjie';
      var disqus_identifier = '';
      var disqus_url = '';

      (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }());
    </script>
  




  
</body>
</html>
