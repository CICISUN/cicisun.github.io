<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Remove Nth Node From End of List, Merge Two Sorted Lists, Merge K Sorted Lists | Cici&#39;s Blog</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <meta name="generator" content="Cici's Blog">

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml">
  
  

  
</head>

<!--
<body class="post-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) 0 -20%" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/logo.svg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Cici's Blog</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2015-02-26T03:20:36.000Z" itemprop="datePublished">
          Feb 25 2015
      </time>
    
    
    | 
    <a href='/tags/LinkedList/'>LinkedList</a>
    
    
</span>
    <h1 class="post-title">Remove Nth Node From End of List, Merge Two Sorted Lists, Merge K Sorted Lists</h1>
    <section class="post-content">
      <h2 id="Remove_Nth_Node_From_End_of_List">Remove Nth Node From End of List</h2>
<blockquote>
<p>Given a linked list, remove the nth node from the end of list and return its head.<br>For example,<br>Given linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5, and n = 2.<br>After removing the second node from the end, the linked list becomes 1-&gt;2-&gt;3-&gt;5.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>Honestly I don’t know how my first solution got accepted, basically I just count the size of list and then remove that element in the second pass.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span>(ListNode head, <span class="keyword">int</span> n) {</div><div class="line">           ListNode cur=head;</div><div class="line">           <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">           <span class="keyword">while</span>(cur!=<span class="keyword">null</span>){cur=cur.next;i++;}</div><div class="line">           System.out.println(i);</div><div class="line">           ListNode cur2=head;</div><div class="line">            </div><div class="line">           <span class="keyword">if</span>(n==i){head=head.next;}</div><div class="line">            </div><div class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i-n-<span class="number">1</span>;j++){</div><div class="line">               </div><div class="line">               System.out.println(j);</div><div class="line">               cur2=cur2.next;</div><div class="line">           }</div><div class="line">           <span class="keyword">if</span> (cur2.next == <span class="keyword">null</span>) {</div><div class="line">               <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">           }</div><div class="line">           <span class="keyword">else</span> cur2.next=cur2.next.next;</div><div class="line">           </div><div class="line">           <span class="keyword">return</span> head;      </div><div class="line">       }</div></pre></td></tr></table></figure>

<p>One pass solution using two pointers: one fake pointer to move n steps from the beginning, then move both pointers until list ends.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span>(ListNode head, <span class="keyword">int</span> n) {</div><div class="line">     </div><div class="line">         ListNode cur=head;</div><div class="line">         ListNode p=head;</div><div class="line">         </div><div class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++){cur=cur.next;}</div><div class="line">         <span class="comment">//deal with removing head cases</span></div><div class="line">         <span class="keyword">if</span>(cur==<span class="keyword">null</span>) head=head.next;</div><div class="line">         <span class="comment">//made a mistake here, forgot to move cur with p...</span></div><div class="line">         <span class="keyword">else</span> {<span class="keyword">while</span>(cur.next!=<span class="keyword">null</span>){p=p.next;cur=cur.next;}</div><div class="line">         p.next=p.next.next;}</div><div class="line">         <span class="keyword">return</span> head;</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Merge_Two_Sorted_Lists">Merge Two Sorted Lists</h2>
<blockquote>
<p>Merge two sorted linked lists and return it as a new list. The new list should be made by splicing together the nodes of the first two lists.</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<p>Note: Algorithm is trivial, however I always forget to copy head to last therefore lost the final head during the iteration…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span>(ListNode l1, ListNode l2) {</div><div class="line">        ListNode h=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</div><div class="line">        ListNode l=h;</div><div class="line">        <span class="keyword">while</span>(l1!=<span class="keyword">null</span>&&l2!=<span class="keyword">null</span>){</div><div class="line">            <span class="keyword">if</span>(l1.val&lt;l2.val){</div><div class="line">                l.next=l1;</div><div class="line">                l1=l1.next;     </div><div class="line">            }</div><div class="line">            <span class="keyword">else</span>{</div><div class="line">                l.next=l2;</div><div class="line">                l2=l2.next;</div><div class="line">            }</div><div class="line">            l=l.next;</div><div class="line">        }</div><div class="line">        <span class="comment">//attach the rest of one list</span></div><div class="line">        <span class="keyword">if</span> (l1==<span class="keyword">null</span>) l.next=l2;</div><div class="line">        <span class="keyword">else</span> l.next=l1;</div><div class="line">        <span class="keyword">return</span> h.next;</div><div class="line">    }</div></pre></td></tr></table></figure>

<hr>
<h2 id="Merge_K_Sorted_Lists">Merge K Sorted Lists</h2>
<blockquote>
<p>Merge k sorted linked lists and return it as one sorted list. Analyze and describe its complexity.</p>
</blockquote>
<h3 id="Solution-2">Solution</h3>
<p>First Solution is Divide and Conquer, by calling the above method and reconstruct. The recursion is T(k) = 2T(k/2)+O(n*k)=O(nklogk).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span>(List&lt;ListNode&gt; lists) {</div><div class="line">         </div><div class="line">         <span class="keyword">int</span> n=lists.size();</div><div class="line">         <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">         <span class="comment">//main function call</span></div><div class="line">         <span class="keyword">else</span> <span class="keyword">return</span> mergeKlist(lists,<span class="number">0</span>,n-<span class="number">1</span>);</div><div class="line">         </div><div class="line">     }</div><div class="line">     </div><div class="line">     <span class="keyword">public</span> ListNode <span class="title">mergeKlist</span>(List&lt;ListNode&gt; lists, <span class="keyword">int</span> l, <span class="keyword">int</span> r){</div><div class="line">         </div><div class="line">         <span class="keyword">if</span>(l&lt;r){</div><div class="line">             <span class="keyword">int</span> m=(l+r)/<span class="number">2</span>;</div><div class="line">             <span class="comment">//divide the lists by 2 until its size reaches 1, then merge them from bottom to top</span></div><div class="line">             <span class="keyword">return</span> mergeTwoLists(mergeKlist(lists,l,m),mergeKlist(lists,m+<span class="number">1</span>,r));</div><div class="line">         }</div><div class="line">         </div><div class="line">         <span class="keyword">return</span> lists.get(l);</div><div class="line">       }</div></pre></td></tr></table></figure>

<p>Or, instead of dividing into two parts, we can use ArrayDeque Class. (Similar to brute force solution, merges two list each time, whose complexity is n(2+3+…k)=O(nk^2))</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span>(List&lt;ListNode&gt; lists) {</div><div class="line">    </div><div class="line">      <span class="keyword">if</span>(lists == <span class="keyword">null</span> || lists.isEmpty()) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">      ArrayDeque&lt;ListNode&gt; q = <span class="keyword">new</span> ArrayDeque&lt;ListNode&gt;();</div><div class="line">      <span class="keyword">for</span>(ListNode n : lists) {</div><div class="line">          <span class="keyword">if</span> (n != <span class="keyword">null</span>) q.offer(n);</div><div class="line">      }</div><div class="line">      <span class="keyword">while</span>(q.size() &gt; <span class="number">1</span>) {</div><div class="line">          ListNode a = q.poll();</div><div class="line">          ListNode b = q.poll();</div><div class="line">          q.offer(mergeTwoLists(a, b));</div><div class="line">      }</div><div class="line">      </div><div class="line">      <span class="keyword">return</span> q.poll();</div><div class="line"> }</div></pre></td></tr></table></figure>

<p>Second Solution is PQ. We can add the heads of all lists into the queue. And we can poll out the smallest one. If the next node of this smallest node is not null, we can add the next node to the queue. Until we empty the PQ, we get the sorted lists. The complexity is also O(nklogk).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span>(List&lt;ListNode&gt; lists) {</div><div class="line">         <span class="keyword">if</span>(lists == <span class="keyword">null</span> || lists.isEmpty()) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">         PriorityQueue&lt;ListNode&gt; heap=<span class="keyword">new</span> PriorityQueue&lt;&gt;(lists.size(), <span class="keyword">new</span> Comparator&lt;ListNode&gt;(){</div><div class="line">            <span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span>(ListNode a, ListNode b){</div><div class="line">                <span class="keyword">if</span>(a==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">                <span class="keyword">if</span>(b==<span class="keyword">null</span>) <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">                <span class="keyword">return</span> a.val - b.val;</div><div class="line">            }</div><div class="line">            });</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;lists.size(); i++){</div><div class="line">            <span class="keyword">if</span>(lists.get(i) != <span class="keyword">null</span>){</div><div class="line">                heap.add(lists.get(i));</div><div class="line">            }</div><div class="line">        }</div><div class="line">        ListNode h=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</div><div class="line">        ListNode l=h;</div><div class="line">        <span class="keyword">while</span>(!heap.isEmpty()){</div><div class="line">            ListNode head=heap.poll();</div><div class="line">            l.next=head;</div><div class="line">            l=head;</div><div class="line">            <span class="keyword">if</span>(head.next != <span class="keyword">null</span>){</div><div class="line">                heap.add(head.next);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> h.next;</div><div class="line">}</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Ftheneighbourhood%2Fsweater-weather-little&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>


    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>Cici Sun</h4>
    <p>伪技术宅中的战斗机＝＝</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-sina-weibo" href="http://v.t.sina.com.cn/share/share.php?title=伪技术宅中的战斗机＝＝ ?url=sunbingjie.tk/2015/02/25/1.2/" target="_blank">
        <span class="hidden">weibo</span>
    </a>
    <a class="icon-twitter" href="http://twitter.com/share?url=sunbingjie.tk/2015/02/25/1.2/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=sunbingjie.tk/2015/02/25/1.2/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=sunbingjie.tk/2015/02/25/1.2/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>

    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2015/02/25/1.20/">
        ← Subsets, Subsets II, Missing Ranges
    </a>
    
    <span class="icon-logo">•</span>
    
    <a class="older-posts" href="/2015/02/25/1.2－2/">
        First Missing Positive, Sort Colors →
    </a>
    
</nav>

  <div id="comment" class="comments-area">
    <h4 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h4>
    
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
    
</div>

</main>


      
<footer class="site-footer">
  
  <a class="subscribe icon-feed" href="/atom.xml"><span class="tooltip">Subscribe!</span></a>
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Cici's Blog</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>


<script type="text/javascript">
    var disqus_shortname = 'sunbingjie';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="icon-news"  href="/archives"><span>Archive</span></a>

          <a class="icon-image"  href="/images"><span>Images</span></a>

          <a class="icon-Favorites"  href="/favorites"><span>Favorites</span></a>

          <a class="icon-mail"  href="/about"><span>Contact</span></a>

</nav>

</div>
</body>
</html>
