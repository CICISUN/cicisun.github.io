<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Subsets, Subsets II, Missing Ranges | Cici&#39;s Blog</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <meta name="generator" content="Cici's Blog">

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml">
  
  

  
</head>

<!--
<body class="post-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) 0 -20%" >
    <div class="vertical">
        <div class="site-head-content inner">
            
            <h1 class="blog-title">Cici's Blog</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2015-02-26T03:21:43.000Z" itemprop="datePublished">
          Feb 25 2015
      </time>
    
    
    | 
    <a href='/tags/Recursion/'>Recursion</a>,
    
    <a href='/tags/Array/'>Array</a>
    
    
</span>
    <h1 class="post-title">Subsets, Subsets II, Missing Ranges</h1>
    <section class="post-content">
      <h2 id="Subsets">Subsets</h2>
<blockquote>
<p>Given a set of distinct integers, S, return all possible subsets.<br>Note:<br>Elements in a subset must be in non-descending order.<br>The solution set must not contain duplicate subsets.<br>For example,<br>If S = [1,2,3], a solution is:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>],</div><div class="line">  [<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  []</div><div class="line">]</div></pre></td></tr></table></figure>

<h3 id="Non-recursive_Solution"><a href="https://leetcodenotes.wordpress.com/2013/10/08/leetcode-subsets-2-%E7%BB%99%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%EF%BC%8C%E8%BE%93%E5%87%BA%E6%89%80%E6%9C%89%E5%8D%87%E5%BA%8F%E7%9A%84%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84subsets/" target="_blank" rel="external">Non-recursive Solution</a></h3>
<p>Just keep adding current number to the result collection..<br>Pay attention to the use of add and addAll</p>
<p>i=0 | [[], [1]]<br>i=1 | [[2], [1,2]]<br>i=2 | [[3], [1,3], [2,3], [1,2,3]]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">subsets</span>(<span class="keyword">int</span>[] S) {</div><div class="line">        Arrays.sort(S);</div><div class="line">        ArrayList&lt;Integer&gt; subset=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ();</div><div class="line">        <span class="comment">//add empty set</span></div><div class="line">        subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">        <span class="comment">//add set from layers </span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;S.length;i++){</div><div class="line">             ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsetsfori=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</div><div class="line">            <span class="keyword">for</span>(ArrayList&lt;Integer&gt; prev: subsets){</div><div class="line">                ArrayList&lt;Integer&gt; tmp= <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">                tmp.addAll(prev);</div><div class="line">                tmp.add(S[i]);</div><div class="line">                subsetsfori.add(tmp);</div><div class="line">        }</div><div class="line">        subsets.addAll(subsetsfori);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> subsets;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Recursive_Solution"><a href="http://blog.csdn.net/u011095253/article/details/9158397" target="_blank" rel="external">Recursive Solution</a></h3>
<p>Similar to DFS, i refers to start position of a subset</p>
<p>i=0 | [[], [1], [1,2], [1,2,3]]<br>i=1 | [[2], [2,3]]<br>i=2 | [[3]]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">subsets</span>(<span class="keyword">int</span>[] S) {</div><div class="line">        Arrays.sort(S);</div><div class="line">        ArrayList&lt;Integer&gt; subset=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ();</div><div class="line">        subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">        subset_helper(subsets, subset, <span class="number">0</span>, S);</div><div class="line">    <span class="keyword">return</span> subsets;</div><div class="line">}</div><div class="line">    <span class="keyword">private</span>  <span class="keyword">void</span> <span class="title">subset_helper</span>(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets, ArrayList&lt;Integer&gt; subset, <span class="keyword">int</span> start, <span class="keyword">int</span>[] s){</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;s.length;i++){</div><div class="line">            subset.add(s[i]);</div><div class="line">            <span class="comment">//add new arraylist subset here</span></div><div class="line">            subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(subset));</div><div class="line">            subset_helper(subsets, subset, i+<span class="number">1</span>, s);</div><div class="line">            subset.remove(subset.size()-<span class="number">1</span>);</div><div class="line">        }</div><div class="line">    }</div></pre></td></tr></table></figure>

<h2 id="Subsets_II">Subsets II</h2>
<blockquote>
<p>Given a collection of integers that might contain duplicates, S, return all possible subsets.<br>Note:<br>Elements in a subset must be in non-descending order.<br>The solution set must not contain duplicate subsets.<br>For example,<br>If S = [1,2,2], a solution is:</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  []</div><div class="line">]</div></pre></td></tr></table></figure>

<p>Only difference is the added while loop.<br>If completed current layer, and found the next element is the same then skip.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="title">subsetsWithDup</span>(<span class="keyword">int</span>[] num) {</div><div class="line">          Arrays.sort(num);</div><div class="line">        ArrayList&lt;Integer&gt; subset=<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets=<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ();</div><div class="line">        subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</div><div class="line">        subset_helper(subsets, subset, <span class="number">0</span>, num);</div><div class="line">    <span class="keyword">return</span> subsets;</div><div class="line">    }</div><div class="line">    </div><div class="line">  <span class="keyword">private</span>  <span class="keyword">void</span> <span class="title">subset_helper</span>(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets, ArrayList&lt;Integer&gt; subset, <span class="keyword">int</span> start, <span class="keyword">int</span>[] s){</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;s.length;i++){</div><div class="line">      subset.add(s[i]);</div><div class="line">      <span class="comment">//add new arraylist subset here</span></div><div class="line">      subsets.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(subset));</div><div class="line">      subset_helper(subsets, subset, i+<span class="number">1</span>, s);</div><div class="line">      subset.remove(subset.size()-<span class="number">1</span>);</div><div class="line">      <span class="keyword">while</span>(i &lt; s.length-<span class="number">1</span> && s[i]==s[i+<span class="number">1</span>]) </div><div class="line">      {i++;}</div><div class="line">  }</div><div class="line">}</div></pre></td></tr></table></figure>

<h2 id="Missing_Ranges">Missing Ranges</h2>
<blockquote>
<p>Given a sorted integer array where the range of elements are [lower, upper] inclusive, return its missing ranges.<br>For example, given [0, 1, 3, 50, 75], lower = 0 and upper = 99, return [“2”, “4-&gt;49”, “51-&gt;74”, “76-&gt;99”].</p>
</blockquote>
<p>Main idea: output accrodingly when two elements differ&gt;=2, pay attention to edge cases.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">findmissingRanges</span>(<span class="keyword">int</span>[] num, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper){</div><div class="line">    ArrayList&lt;String&gt; res=<span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">   </div><div class="line">      <span class="keyword">if</span>(num.length==<span class="number">0</span>){</div><div class="line">        <span class="keyword">if</span>(lower!=upper) res.add(lower+<span class="string">"-&gt;"</span>+upper);</div><div class="line">        <span class="keyword">else</span> res.add(lower+<span class="string">""</span>);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">      }</div><div class="line">      <span class="keyword">if</span>(lower&lt;num[<span class="number">0</span>]){</div><div class="line">        <span class="keyword">if</span>(num[<span class="number">0</span>]-lower&gt;<span class="number">1</span>) res.add(lower+<span class="string">"-&gt;"</span>+(num[<span class="number">0</span>]-<span class="number">1</span>));</div><div class="line">        <span class="keyword">else</span> res.add(lower+<span class="string">""</span>);</div><div class="line">      }</div><div class="line">      </div><div class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;num.length-<span class="number">1</span>;i++){</div><div class="line">        <span class="keyword">if</span>(num[i+<span class="number">1</span>]-num[i]&gt;<span class="number">2</span>) res.add((num[i]+<span class="number">1</span>)+<span class="string">"-&gt;"</span>+(num[i+<span class="number">1</span>]-<span class="number">1</span>)+<span class="string">""</span>);</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(num[i+<span class="number">1</span>]-num[i]==<span class="number">2</span>) res.add(num[i]+<span class="number">1</span>+<span class="string">""</span>);</div><div class="line">        <span class="keyword">else</span> <span class="keyword">continue</span>;</div><div class="line">      }</div><div class="line">      </div><div class="line">      <span class="keyword">if</span>(num[num.length-<span class="number">1</span>]&lt;upper){</div><div class="line">        <span class="keyword">if</span>(upper-num[num.length-<span class="number">1</span>]&gt;<span class="number">1</span>) res.add(num[num.length-<span class="number">1</span>]+<span class="number">1</span>+<span class="string">"-&gt;"</span>+upper);</div><div class="line">        <span class="keyword">else</span> res.add(<span class="string">""</span>+upper);</div><div class="line">      }</div><div class="line">      <span class="keyword">return</span> res;</div><div class="line">  }</div></pre></td></tr></table></figure>

<p>More Concise:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findMissingRanges</span>(<span class="keyword">int</span>[] vals, <span class="keyword">int</span> start, <span class="keyword">int</span> end) {</div><div class="line">       List&lt;String&gt; ranges = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">       <span class="keyword">int</span> prev = start - <span class="number">1</span>;</div><div class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=vals.length; i++) {</div><div class="line">           <span class="keyword">int</span> curr = (i==vals.length) ? end + <span class="number">1</span> : vals[i];</div><div class="line">           <span class="keyword">if</span> ( curr-prev&gt;=<span class="number">2</span> ) {</div><div class="line">               ranges.add(getRange(prev+<span class="number">1</span>, curr-<span class="number">1</span>));</div><div class="line">           }</div><div class="line">           prev = curr;</div><div class="line">       }</div><div class="line">       <span class="keyword">return</span> ranges;</div><div class="line">   }</div><div class="line">   <span class="keyword">private</span> String <span class="title">getRange</span>(<span class="keyword">int</span> from, <span class="keyword">int</span> to) {</div><div class="line">       <span class="keyword">return</span> (from==to) ? String.valueOf(from) : from + <span class="string">"-&gt;"</span> +to;</div><div class="line">   }</div></pre></td></tr></table></figure>

<iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fahainen%2Ftwo-door-cinema-club-golden-1&auto_play=false&hide_related=true&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>



    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>Cici Sun</h4>
    <p>伪技术宅中的战斗机＝＝ <br> 每天被自己帅醒也是蛮累的 _(:3 ⌒ﾞ)_ </br></p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-sina-weibo" href="http://v.t.sina.com.cn/share/share.php?title=伪技术宅中的战斗机＝＝ <br> 每天被自己帅醒也是蛮累的 _(:3 ⌒ﾞ)_ </br> ?url=sunbingjie.tk/2015/02/25/1.20/" target="_blank">
        <span class="hidden">weibo</span>
    </a>
    <a class="icon-twitter" href="http://twitter.com/share?url=sunbingjie.tk/2015/02/25/1.20/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=sunbingjie.tk/2015/02/25/1.20/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=sunbingjie.tk/2015/02/25/1.20/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>

    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2015/02/25/1.22/">
        ← Construct Binary Tree from Preorder and Inorder Traversal, Construct Binary Tree from Inorder and Postorder Traversal, Binary Tree Inorder Traversal, Convert Sorted Array to Binary Search Tree, Convert Sorted List to Binary Search Tree, Flatten Binary Tree to Linked List
    </a>
    
    <span class="icon-logo">•</span>
    
    <a class="older-posts" href="/2015/02/25/1.2/">
        Remove Nth Node From End of List, Merge Two Sorted Lists, Merge K Sorted Lists →
    </a>
    
</nav>

  <div id="comment" class="comments-area">
    <h4 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h4>
    
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
    
</div>

</main>


      
<footer class="site-footer">
  
  <a class="subscribe icon-feed" href="/atom.xml"><span class="tooltip">Subscribe!</span></a>
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Cici's Blog</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>


<script type="text/javascript">
    var disqus_shortname = 'sunbingjie';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="icon-news"  href="/archives"><span>Archive</span></a>

          <a class="icon-image"  href="/images"><span>Images</span></a>

          <a class="default"  href="/favorites"><span>Music</span></a>

          <a class="icon-mail"  href="/about"><span>Contact</span></a>

</nav>

</div>
</body>
</html>
